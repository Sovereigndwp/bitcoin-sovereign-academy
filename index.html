<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Redirect from GitHub Pages URL to custom domain -->
    <script>
        if (window.location.hostname === 'sovereigndwp.github.io') {
            window.location.replace('https://bitcoinsovereign.academy' + window.location.pathname + window.location.search + window.location.hash);
        }
    </script>
    <!-- Basic SEO -->
    <title>Bitcoin Sovereign Academy - Learn Bitcoin, Achieve Sovereignty</title>
    <meta name="description" content="Master Bitcoin through interactive experiences and real-world simulations. Your journey from monetary curiosity to financial sovereignty starts here.">
    <link rel="canonical" href="https://bitcoinsovereign.academy/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#f7931a">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Bitcoin Sovereign Academy - Learn Bitcoin, Achieve Sovereignty">
    <meta property="og:description" content="Master Bitcoin through interactive experiences and real-world simulations. Your journey from monetary curiosity to financial sovereignty starts here.">
    <meta property="og:url" content="https://bitcoinsovereign.academy/">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://bitcoinsovereign.academy/assets/og-image.jpg">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Bitcoin Sovereign Academy - Learn Bitcoin, Achieve Sovereignty">
    <meta name="twitter:description" content="Master Bitcoin through interactive experiences and real-world simulations.">
    <meta name="twitter:creator" content="@dalia_platt">
    <meta name="twitter:image" content="https://bitcoinsovereign.academy/assets/og-image.jpg">
    
    <!-- Structured Data (Educational Organization) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "EducationalOrganization",
      "name": "Bitcoin Sovereign Academy",
      "url": "https://bitcoinsovereign.academy/",
      "logo": "https://bitcoinsovereign.academy/assets/logo.png",
      "description": "Master Bitcoin through interactive experiences and real-world simulations. Your journey from monetary curiosity to financial sovereignty starts here.",
      "sameAs": [
        "https://twitter.com/dalia_platt",
        "https://www.linkedin.com/in/dalia-platt-0924a763",
        "https://btcdalia.substack.com"
      ],
      "educationalLevel": "Beginner to Advanced",
      "teaches": [
        "Bitcoin Fundamentals",
        "Cryptocurrency Technology",
        "Financial Sovereignty",
        "Digital Asset Security",
        "Lightning Network",
        "Self-Custody"
      ],
      "audience": {
        "@type": "Audience",
        "audienceType": "Students interested in Bitcoin and cryptocurrency education"
      },
      "hasCredential": {
        "@type": "EducationalOccupationalCredential",
        "name": "Bitcoin Sovereignty Certificate",
        "description": "Comprehensive Bitcoin education certificate covering technical and practical aspects"
      }
    }
    </script>
    
    <!-- Best-effort Security Headers (GitHub Pages) -->
    <meta http-equiv="Content-Security-Policy" 
          content="default-src 'self'; 
                   img-src 'self' data: https:; 
                   script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; 
                   style-src 'self' 'unsafe-inline'; 
                   font-src 'self' data:; 
                   connect-src 'self' https:; 
                   object-src 'none'; 
                   base-uri 'self'; 
                   frame-ancestors 'none'">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=(), payment=()">
    
    <!-- Favicon & PWA -->
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="BSA">
    
    <style>
        :root {
            --primary-orange: #f7931a;
            --primary-dark: #1a1a1a;
            --secondary-dark: #2d2d2d;
            --text-light: #e0e0e0;
            --text-dim: #999;
            --success-green: #4caf50;
            --danger-red: #f44336;
            --gradient-orange: linear-gradient(135deg, #f7931a 0%, #ffb347 100%);
            --gradient-dark: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            --path-curious: #4caf50;
            --path-hurried: #FFA726;
            --path-pragmatist: #00BCD4;
            --path-builder: #9C27B0;
            --path-sovereign: #E53935;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--primary-dark);
            color: var(--text-light);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Header */
        .header {
            background: rgba(45, 45, 45, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            border-bottom: 2px solid var(--primary-orange);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .header.scrolled {
            padding: 0.5rem 0;
            background: rgba(26, 26, 26, 0.98);
        }

        /* Live Stats Bar (integrated in header) */
        .live-stats-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 0.75rem 1.25rem;
            padding: 0.5rem 2rem 0.8rem;
            border-top: 1px solid rgba(247, 147, 26, 0.25);
            border-bottom: 1px solid rgba(247, 147, 26, 0.15);
            background: rgba(26, 26, 26, 0.7);
        }
        .live-stat {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-dim);
            font-size: 0.95rem;
            white-space: nowrap;
        }
        .live-stat .label { color: var(--text-dim); }
        .live-stat .value { color: var(--primary-orange); font-weight: 600; }

        /* Creator badge from legacy index */
        .creator-badge {
            display: inline-block;
            padding: 0.5rem 1rem;
            background: rgba(247, 147, 26, 0.2);
            border: 1px solid var(--primary-orange);
            border-radius: 25px;
            margin: 0.75rem 0 1.5rem;
        }

        /* Navigation Hub (legacy-inspired) */
        .nav-hub {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .nav-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(247, 147, 26, 0.3);
            border-radius: 15px;
            padding: 1.5rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            text-decoration: none;
            color: inherit;
            display: block;
        }
        .nav-card:hover { transform: translateY(-5px); box-shadow: 0 10px 30px rgba(247, 147, 26, 0.2); border-color: var(--primary-orange); }
        .nav-card h3 { color: var(--primary-orange); margin-bottom: 0.5rem; font-size: 1.3rem; }
        .nav-card .icon { font-size: 1.8rem; margin-bottom: 0.5rem; display: block; }
        .nav-card p { color: var(--text-dim); line-height: 1.6; }
        .nav-card .badge { position: absolute; top: 1rem; right: 1rem; background: var(--primary-orange); color: #1a1a1a; padding: 0.25rem 0.6rem; border-radius: 12px; font-size: 0.75rem; font-weight: 700; }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
            text-decoration: none;
            color: var(--text-light);
            transition: transform 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: var(--gradient-orange);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
        }

        .logo-text {
            font-size: 1.3rem;
            font-weight: bold;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-link {
            color: var(--text-dim);
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary-orange);
            transition: width 0.3s ease;
        }

        .nav-link:hover::after {
            width: 100%;
        }

        .nav-link:hover {
            color: var(--primary-orange);
        }

        /* Choose Your Path Section */
        .choose-path-section {
            padding: 3rem 2rem;
            background: linear-gradient(135deg, rgba(247, 147, 26, 0.03) 0%, transparent 100%);
            border-top: 1px solid rgba(247, 147, 26, 0.1);
        }

        .choose-path-title {
            font-size: 1.75rem;
            text-align: center;
            margin-bottom: 0.5rem;
            color: var(--text-light);
        }

        .choose-path-subtitle {
            text-align: center;
            color: var(--text-dim);
            margin-bottom: 2rem;
            font-size: 0.95rem;
        }

        .path-cards-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 1.25rem;
            max-width: 1400px;
            margin: 0 auto 1.5rem;
        }

        .path-card {
            background: var(--secondary-dark);
            border: 2px solid rgba(247, 147, 26, 0.2);
            border-radius: 0.75rem;
            padding: 1.25rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            text-decoration: none;
            color: inherit;
            grid-column: span 2;
        }

        /* Center the bottom row (Builder and Sovereign) */
        .path-card:nth-child(4) {
            grid-column: 2 / span 2;
        }

        .path-card:nth-child(5) {
            grid-column: 4 / span 2;
        }

        .path-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: var(--primary-orange);
            transform: scaleX(0);
            transition: transform 0.4s ease;
        }

        .path-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }

        .path-card:hover::before {
            transform: scaleX(1);
        }

        .path-card.curious {
            border-color: rgba(76, 175, 80, 0.4);
        }

        .path-card.curious::before {
            background: var(--path-curious);
        }

        .path-card.curious:hover {
            border-color: var(--path-curious);
            box-shadow: 0 20px 40px rgba(76, 175, 80, 0.3);
        }

        .path-card.hurried {
            border-color: rgba(255, 167, 38, 0.4);
        }

        .path-card.hurried::before {
            background: var(--path-hurried);
        }

        .path-card.hurried:hover {
            border-color: var(--path-hurried);
            box-shadow: 0 20px 40px rgba(255, 167, 38, 0.3);
        }

        .path-card.builder {
            border-color: rgba(156, 39, 176, 0.4);
        }

        .path-card.builder::before {
            background: var(--path-builder);
        }

        .path-card.builder:hover {
            border-color: var(--path-builder);
            box-shadow: 0 20px 40px rgba(156, 39, 176, 0.3);
        }

        .path-card.sovereign {
            border-color: rgba(229, 57, 53, 0.4);
        }

        .path-card.sovereign::before {
            background: var(--path-sovereign);
        }

        .path-card.sovereign:hover {
            border-color: var(--path-sovereign);
            box-shadow: 0 20px 40px rgba(229, 57, 53, 0.3);
        }

        .path-card.pragmatist {
            border-color: rgba(0, 188, 212, 0.4);
        }

        .path-card.pragmatist::before {
            background: var(--path-pragmatist);
        }

        .path-card.pragmatist:hover {
            border-color: var(--path-pragmatist);
            box-shadow: 0 20px 40px rgba(0, 188, 212, 0.3);
        }

        .path-icon {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            display: block;
            text-align: center;
            filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.5));
            transform: translateZ(0);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .path-card:hover .path-icon {
            transform: translateY(-8px) scale(1.15);
            filter: drop-shadow(0 12px 24px rgba(0, 0, 0, 0.6));
        }

        /* Animated Icon Styles */
        .path-icon svg {
            width: 2.5rem;
            height: 2.5rem;
            display: inline-block;
        }

        /* Curious Path - Compass spinning animation */
        .path-card.curious .path-icon svg {
            animation: compassSpin 8s ease-in-out infinite;
        }

        @keyframes compassSpin {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(15deg); }
            75% { transform: rotate(-15deg); }
        }

        .path-card.curious:hover .path-icon svg {
            animation: compassSpinFast 2s ease-in-out infinite;
        }

        @keyframes compassSpinFast {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(360deg); }
        }

        /* Hurried Path - Rocket launch animation */
        .path-card.hurried .path-icon svg {
            animation: rocketFloat 3s ease-in-out infinite;
        }

        @keyframes rocketFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .path-card.hurried:hover .path-icon svg {
            animation: rocketLaunch 1.5s ease-out infinite;
        }

        @keyframes rocketLaunch {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(-5deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }

        /* Pragmatist Path - Hammer strike animation */
        .path-card.pragmatist .path-icon svg {
            animation: hammerIdle 4s ease-in-out infinite;
            transform-origin: bottom right;
        }

        @keyframes hammerIdle {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(5deg); }
        }

        .path-card.pragmatist:hover .path-icon svg {
            animation: hammerStrike 0.6s ease-in-out infinite;
            transform-origin: bottom right;
        }

        @keyframes hammerStrike {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-25deg); }
            50% { transform: rotate(5deg); }
        }

        /* Builder Path - Construction crane animation */
        .path-card.builder .path-icon svg {
            animation: craneIdle 5s ease-in-out infinite;
        }

        @keyframes craneIdle {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-5px) rotate(3deg); }
        }

        .path-card.builder:hover .path-icon svg {
            animation: craneBuilding 2s ease-in-out infinite;
        }

        @keyframes craneBuilding {
            0%, 100% { transform: translateY(0px) scale(1); }
            25% { transform: translateY(-8px) scale(1.05); }
            75% { transform: translateY(-8px) scale(0.95); }
        }

        /* Sovereign Path - Shield pulse animation */
        .path-card.sovereign .path-icon svg {
            animation: shieldPulse 3s ease-in-out infinite;
        }

        @keyframes shieldPulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.9; }
        }

        .path-card.sovereign:hover .path-icon svg {
            animation: shieldDefend 1.2s ease-in-out infinite;
        }

        @keyframes shieldDefend {
            0%, 100% { transform: scale(1) translateY(0); }
            25% { transform: scale(1.1) translateY(-3px); }
            50% { transform: scale(1.05) translateY(-5px); }
            75% { transform: scale(1.1) translateY(-3px); }
        }

        /* Individual path icon colors for 3D effect */
        .path-card.curious .path-icon {
            filter: drop-shadow(0 8px 16px rgba(76, 175, 80, 0.4));
        }

        .path-card.curious:hover .path-icon {
            filter: drop-shadow(0 12px 24px rgba(76, 175, 80, 0.6));
        }

        .path-card.hurried .path-icon {
            filter: drop-shadow(0 8px 16px rgba(255, 167, 38, 0.4));
        }

        .path-card.hurried:hover .path-icon {
            filter: drop-shadow(0 12px 24px rgba(255, 167, 38, 0.6));
        }

        .path-card.pragmatist .path-icon {
            filter: drop-shadow(0 8px 16px rgba(0, 188, 212, 0.4));
        }

        .path-card.pragmatist:hover .path-icon {
            filter: drop-shadow(0 12px 24px rgba(0, 188, 212, 0.6));
        }

        .path-card.builder .path-icon {
            filter: drop-shadow(0 8px 16px rgba(156, 39, 176, 0.4));
        }

        .path-card.builder:hover .path-icon {
            filter: drop-shadow(0 12px 24px rgba(156, 39, 176, 0.6));
        }

        .path-card.sovereign .path-icon {
            filter: drop-shadow(0 8px 16px rgba(229, 57, 53, 0.4));
        }

        .path-card.sovereign:hover .path-icon {
            filter: drop-shadow(0 12px 24px rgba(229, 57, 53, 0.6));
        }

        .path-card h3 {
            font-size: 1.2rem;
            margin-bottom: 0.4rem;
            text-align: center;
            color: var(--text-light);
        }

        .path-persona {
            text-align: center;
            font-style: italic;
            color: var(--text-dim);
            margin-bottom: 1rem;
            font-size: 0.85rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid rgba(247, 147, 26, 0.2);
        }

        .path-perfect-for,
        .path-learn {
            margin-bottom: 0.75rem;
        }

        .path-perfect-for h4,
        .path-learn h4 {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--primary-orange);
            margin-bottom: 0.4rem;
            font-weight: 600;
        }

        .path-perfect-for ul,
        .path-learn ul {
            list-style: none;
            padding: 0;
        }

        .path-perfect-for li,
        .path-learn li {
            padding: 0.25rem 0;
            color: var(--text-light);
            position: relative;
            padding-left: 1.25rem;
            font-size: 0.8rem;
        }

        .path-perfect-for li::before {
            content: '→';
            position: absolute;
            left: 0;
            color: var(--primary-orange);
            font-weight: bold;
        }

        .path-learn li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: var(--success-green);
            font-weight: bold;
        }

        .path-meta {
            display: flex;
            justify-content: space-around;
            gap: 0.5rem;
            margin: 0.75rem 0;
            padding: 0.6rem 0;
            border-top: 1px solid rgba(247, 147, 26, 0.1);
            border-bottom: 1px solid rgba(247, 147, 26, 0.1);
            font-size: 0.7rem;
            color: var(--text-dim);
        }

        .path-meta span {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .path-cta {
            display: block;
            padding: 0.65rem 1.3rem;
            background: var(--gradient-orange);
            color: white;
            text-align: center;
            border-radius: 50px;
            font-weight: 700;
            font-size: 0.85rem;
            text-decoration: none;
            margin-top: auto;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(247, 147, 26, 0.3);
        }

        .path-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(247, 147, 26, 0.5);
        }

        .path-card.curious .path-cta {
            background: linear-gradient(135deg, var(--path-curious) 0%, #66BB6A 100%);
        }

        .path-card.hurried .path-cta {
            background: linear-gradient(135deg, var(--path-hurried) 0%, #FFB74D 100%);
        }

        .path-card.pragmatist .path-cta {
            background: linear-gradient(135deg, var(--path-pragmatist) 0%, #00ACC1 100%);
        }

        .path-card.builder .path-cta {
            background: linear-gradient(135deg, var(--path-builder) 0%, #AB47BC 100%);
        }

        .path-card.sovereign .path-cta {
            background: linear-gradient(135deg, var(--path-sovereign) 0%, #EF5350 100%);
        }

        .path-quiz-link {
            text-align: center;
            margin-top: 1.5rem;
            color: var(--text-dim);
            font-size: 0.95rem;
        }

        .path-quiz-link a {
            color: var(--primary-orange);
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .path-quiz-link a:hover {
            color: #ffb347;
            text-decoration: underline;
        }

        /* Responsive path cards */
        @media (max-width: 1200px) {
            .path-cards-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 1.5rem;
            }

            .path-card {
                grid-column: span 2;
            }

            /* Reset bottom row centering for tablet - show 2-2-1 layout */
            .path-card:nth-child(4) {
                grid-column: span 2;
            }

            .path-card:nth-child(5) {
                grid-column: 2 / span 2;
            }
        }

        @media (max-width: 768px) {
            .path-cards-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .path-card {
                padding: 1.5rem;
                grid-column: 1;
            }

            /* Reset all nth-child rules for mobile */
            .path-card:nth-child(4),
            .path-card:nth-child(5) {
                grid-column: 1;
            }
        }

            .path-icon {
                font-size: 2.5rem;
            }

            .path-card h3 {
                font-size: 1.5rem;
            }

            .choose-path-title {
                font-size: 2rem;
            }

            .choose-path-subtitle {
                font-size: 1rem;
            }
        }

        /* Features Section */
        .features {
            padding: 4rem 2rem;
            background: var(--secondary-dark);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .section-title {
            font-size: 2rem;
            text-align: center;
            margin-bottom: 0.75rem;
            color: var(--text-light);
        }

        .section-subtitle {
            text-align: center;
            color: var(--text-dim);
            margin-bottom: 2.5rem;
            font-size: 1rem;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
        }

        .feature-card {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(247, 147, 26, 0.2);
            border-radius: 1rem;
            padding: 1.5rem;
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-orange);
            border-radius: 15px 15px 0 0;
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .feature-card:hover::before {
            transform: scaleX(1);
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(247, 147, 26, 0.2);
            border-color: var(--primary-orange);
        }

        .feature-icon {
            width: 45px;
            height: 45px;
            background: rgba(247, 147, 26, 0.1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .feature-title {
            font-size: 1.1rem;
            margin-bottom: 0.75rem;
            color: var(--primary-orange);
        }

        .feature-description {
            color: var(--text-dim);
            line-height: 1.5;
            margin-bottom: 1rem;
            font-size: 0.85rem;
        }

        .feature-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            background: rgba(247, 147, 26, 0.2);
            border: 1px solid var(--primary-orange);
            border-radius: 15px;
            font-size: 0.75rem;
            color: var(--primary-orange);
            font-weight: bold;
        }

        .badge-live {
            background: rgba(76, 175, 80, 0.2);
            border-color: var(--success-green);
            color: var(--success-green);
        }

        .badge-beta {
            background: rgba(33, 150, 243, 0.2);
            border-color: #2196f3;
            color: #2196f3;
        }

        .badge-soon {
            background: rgba(255, 152, 0, 0.2);
            border-color: #ff9800;
            color: #ff9800;
        }

        /* Difficulty Badges */
        .difficulty-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            margin-right: 0.5rem;
        }

        .difficulty-beginner {
            background: rgba(76, 175, 80, 0.2);
            color: #4CAF50;
            border: 1px solid rgba(76, 175, 80, 0.4);
        }

        .difficulty-intermediate {
            background: rgba(255, 167, 38, 0.2);
            color: #FFA726;
            border: 1px solid rgba(255, 167, 38, 0.4);
        }

        .difficulty-advanced {
            background: rgba(229, 57, 53, 0.2);
            color: #E53935;
            border: 1px solid rgba(229, 57, 53, 0.4);
        }

        /* Section-specific styling */
        .section-explore {
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.05), rgba(0, 0, 0, 0));
            padding: 5rem 0 3rem;
        }

        .section-practice {
            background: linear-gradient(135deg, rgba(33, 150, 243, 0.05), rgba(0, 0, 0, 0));
            padding: 5rem 0 3rem;
        }

        .section-master {
            background: linear-gradient(135deg, rgba(156, 39, 176, 0.05), rgba(0, 0, 0, 0));
            padding: 5rem 0 3rem;
        }

        .section-decide {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.05), rgba(0, 0, 0, 0));
            padding: 5rem 0 3rem;
        }

        .section-icon {
            font-size: 2.5rem;
            display: inline-block;
            margin-right: 0.5rem;
            vertical-align: middle;
        }

        /* Learning Path Section */
        .learning-path {
            padding: 6rem 2rem;
            background: linear-gradient(135deg, rgba(247, 147, 26, 0.05) 0%, transparent 100%);
        }

        .timeline {
            position: relative;
            max-width: 900px;
            margin: 0 auto;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 100%;
            background: rgba(247, 147, 26, 0.3);
        }

        .timeline-item {
            display: flex;
            align-items: center;
            margin-bottom: 3rem;
            position: relative;
        }

        .timeline-item:nth-child(odd) {
            flex-direction: row-reverse;
        }

        .timeline-content {
            flex: 1;
            background: var(--secondary-dark);
            padding: 1.5rem;
            border-radius: 10px;
            border: 1px solid rgba(247, 147, 26, 0.2);
            transition: all 0.3s ease;
        }

        .timeline-content:hover {
            transform: scale(1.05);
            border-color: var(--primary-orange);
        }

        .timeline-number {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 40px;
            background: var(--gradient-orange);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            z-index: 1;
        }

        .timeline-title {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: var(--primary-orange);
        }

        .timeline-description {
            color: var(--text-dim);
            line-height: 1.6;
        }

        /* Stats Section */
        .stats {
            padding: 4rem 2rem;
            background: var(--secondary-dark);
            border-top: 1px solid rgba(247, 147, 26, 0.2);
            border-bottom: 1px solid rgba(247, 147, 26, 0.2);
        }

        .stats-grid {
            max-width: 900px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 3rem;
            text-align: center;
        }

        .stat-item {
            position: relative;
        }

        .stat-number {
            font-size: 3rem;
            font-weight: bold;
            background: var(--gradient-orange);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--text-dim);
            text-transform: uppercase;
            font-size: 0.9rem;
            letter-spacing: 1px;
        }

        /* Footer */
        .footer {
            padding: 3rem 2rem 2rem;
            background: var(--primary-dark);
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h4 {
            color: var(--primary-orange);
            margin-bottom: 1rem;
        }

        .footer-section p {
            color: var(--text-dim);
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 0.5rem;
        }

        .footer-links a {
            color: var(--text-dim);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: var(--primary-orange);
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .social-link {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 1px solid rgba(247, 147, 26, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-dim);
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .social-link:hover {
            background: var(--primary-orange);
            color: white;
            transform: translateY(-3px);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(247, 147, 26, 0.2);
            color: var(--text-dim);
        }

        .footer-bottom p {
            margin-bottom: 0.5rem;
        }

        .bitcoin-quote {
            font-style: italic;
            color: var(--primary-orange);
            margin-top: 1rem;
        }

        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            flex-direction: column;
            gap: 4px;
            cursor: pointer;
        }

        .mobile-menu-toggle span {
            width: 25px;
            height: 3px;
            background: var(--primary-orange);
            transition: all 0.3s ease;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .features-grid,
            .agents-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Tablet adjustments */
        @media (max-width: 1024px) {
            .hero3d {
                min-height: 45vh !important;
                padding: 7rem 2rem 3.5rem !important;
            }

            .hero3d__title {
                font-size: clamp(2rem, 4.5vw, 2.75rem) !important;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-wrap: wrap;
            }

            .nav-links {
                display: none;
                width: 100%;
                flex-direction: column;
                text-align: center;
                padding-top: 1rem;
            }

            .nav-links.active {
                display: flex;
            }

            .mobile-menu-toggle {
                display: flex;
            }

            /* Hero section mobile adjustments */
            .hero3d {
                min-height: 60vh !important;
                padding: 6rem 1.5rem 3rem !important;
            }

            .hero3d__title {
                font-size: clamp(1.75rem, 4vw, 2.5rem) !important;
            }

            .hero3d__subtitle {
                font-size: 1rem !important;
            }

            .hero3d__actions {
                flex-direction: column !important;
                width: 100%;
            }

            .hero3d__action {
                width: 100%;
                text-align: center;
            }

            .hero-title {
                font-size: 2rem;
            }

            .hero-subtitle {
                font-size: 1.3rem;
            }

            .hero-buttons {
                flex-direction: column;
                width: 100%;
            }

            .btn {
                width: 100%;
            }

            .timeline::before {
                left: 20px;
            }

            .timeline-item {
                flex-direction: column !important;
                padding-left: 60px;
            }

            .timeline-number {
                left: 20px;
            }

            .footer-content {
                grid-template-columns: 1fr;
            }

            .features-grid,
            .agents-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Loading Animation */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--primary-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }

        .loading.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 3px solid rgba(247, 147, 26, 0.3);
            border-top-color: var(--primary-orange);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* AI Agents Section */
        .ai-agents {
            padding: 4rem 2rem;
            background: linear-gradient(135deg, rgba(247, 147, 26, 0.03) 0%, transparent 100%);
        }

        .agents-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .agent-card {
            background: rgba(45, 45, 45, 0.8);
            border: 2px solid rgba(247, 147, 26, 0.2);
            border-radius: 1rem;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .agent-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-orange);
            box-shadow: 0 10px 30px rgba(247, 147, 26, 0.15);
        }

        .agent-cta {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.3rem;
            margin-top: 1rem;
            padding: 0.6rem 1rem;
            border-radius: 999px;
            background: rgba(247, 147, 26, 0.15);
            color: var(--primary-orange);
            font-weight: 600;
            font-size: 0.85rem;
            text-decoration: none;
            transition: background 0.3s ease, transform 0.3s ease;
        }

        .agent-cta:hover {
            background: rgba(247, 147, 26, 0.3);
            transform: translateY(-2px);
        }

        .agent-icon {
            font-size: 2rem;
            margin-bottom: 0.75rem;
            display: block;
        }

        .agent-name {
            color: var(--primary-orange);
            font-size: 1.1rem;
            margin-bottom: 0.75rem;
        }

        .agent-description {
            color: var(--text-dim);
            line-height: 1.5;
            margin-bottom: 1rem;
            font-size: 0.85rem;
        }

        .agent-status {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: bold;
        }

        .agent-status.active {
            background: rgba(76, 175, 80, 0.2);
            border: 1px solid var(--success-green);
            color: var(--success-green);
        }

        .agent-status.beta {
            background: rgba(33, 150, 243, 0.2);
            border: 1px solid #2196f3;
            color: #2196f3;
        }

        .mcp-info {
            text-align: center;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(247, 147, 26, 0.2);
            border-radius: 15px;
            padding: 2rem;
        }

        .mcp-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--gradient-orange);
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .mcp-icon {
            font-size: 1.2rem;
        }

        /* Bitcoin Data Section */
        .bitcoin-data {
            padding: 6rem 2rem;
            background: var(--secondary-dark);
        }

        .data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .data-card {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(247, 147, 26, 0.2);
            border-radius: 15px;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .data-card:hover {
            border-color: var(--primary-orange);
            transform: translateY(-3px);
        }

        .data-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            display: block;
        }

        .data-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-orange);
            margin-bottom: 0.5rem;
        }

        .data-label {
            color: var(--text-light);
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }

        .data-change {
            color: var(--text-dim);
            font-size: 0.9rem;
        }

        .data-change.positive {
            color: var(--success-green);
        }

        .data-change.negative {
            color: var(--danger-red);
        }

        /* Update stats grid to handle more items */
        .stats-grid {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 2rem;
            text-align: center;
        }

        /* Persona Selection Modal */
        .persona-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            transition: opacity 0.3s ease;
        }

        .persona-modal.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .persona-modal-content {
            background: var(--secondary-dark);
            border: 2px solid var(--primary-orange);
            border-radius: 20px;
            padding: 3rem;
            max-width: 1200px;
            max-height: 90vh;
            overflow-y: auto;
            text-align: center;
        }

        .persona-modal h2 {
            color: var(--primary-orange);
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .persona-modal p {
            color: var(--text-light);
            font-size: 1.2rem;
            margin-bottom: 3rem;
        }

        .persona-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .persona-card {
            background: rgba(26, 26, 26, 0.8);
            border: 2px solid rgba(247, 147, 26, 0.3);
            border-radius: 15px;
            padding: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .persona-card:hover {
            border-color: var(--primary-orange);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(247, 147, 26, 0.3);
        }

        .persona-card.selected {
            border-color: var(--primary-orange);
            background: rgba(247, 147, 26, 0.1);
            box-shadow: 0 0 20px rgba(247, 147, 26, 0.4);
        }

        .persona-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .persona-card h3 {
            color: var(--primary-orange);
            font-size: 1.3rem;
            margin-bottom: 1rem;
        }

        .persona-card p {
            color: var(--text-dim);
            font-size: 0.95rem;
            line-height: 1.5;
            margin-bottom: 1rem;
        }

        .persona-badge {
            display: inline-block;
            background: var(--gradient-orange);
            color: white;
            padding: 0.3rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .persona-actions {
            display: flex;
            gap: 2rem;
            justify-content: center;
            align-items: center;
        }

        .btn-skip {
            background: transparent;
            border: 1px solid var(--text-dim);
            color: var(--text-dim);
            padding: 1rem 2rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-skip:hover {
            border-color: var(--text-light);
            color: var(--text-light);
        }

        .btn-continue {
            background: var(--gradient-orange);
            border: none;
            color: white;
            padding: 1rem 3rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .btn-continue:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-continue:not(:disabled):hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(247, 147, 26, 0.4);
        }

        /* Guided Tour System */
        .guided-tour {
            position: fixed;
            z-index: 9999;
            pointer-events: none;
        }

        .guided-tour.hidden {
            opacity: 0;
        }

        .tour-popup {
            position: relative;
            background: var(--secondary-dark);
            border: 2px solid var(--primary-orange);
            border-radius: 15px;
            padding: 1.5rem;
            max-width: 350px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            pointer-events: all;
        }

        .tour-content h3 {
            color: var(--primary-orange);
            margin-bottom: 1rem;
        }

        .tour-content p {
            color: var(--text-light);
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .tour-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
        }

        .tour-actions button {
            padding: 0.5rem 1rem;
            border: 1px solid var(--primary-orange);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #tourSkip {
            background: transparent;
            color: var(--text-dim);
            border-color: var(--text-dim);
        }

        #tourNext {
            background: var(--primary-orange);
            color: white;
            border-color: var(--primary-orange);
        }

        .tour-arrow {
            position: absolute;
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 10px solid var(--primary-orange);
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
        }

        /* Progress Tracker */
        .progress-tracker {
            position: fixed;
            top: 80px;
            right: 2rem;
            background: rgba(45, 45, 45, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(247, 147, 26, 0.3);
            border-radius: 15px;
            padding: 1rem;
            min-width: 300px;
            z-index: 1001;
            transition: all 0.3s ease;
        }

        .progress-tracker.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .progress-header h4 {
            color: var(--primary-orange);
            margin: 0;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(26, 26, 26, 0.8);
            border-radius: 4px;
            margin-bottom: 1rem;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient-orange);
            width: 0%;
            transition: width 0.5s ease;
        }

        .progress-stats {
            display: flex;
            justify-content: space-between;
            color: var(--text-dim);
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .progress-achievements {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .achievement {
            background: rgba(76, 175, 80, 0.2);
            color: var(--success-green);
            padding: 0.2rem 0.5rem;
            border-radius: 10px;
            font-size: 0.8rem;
        }

        /* Help System */
        .help-system {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 1000;
        }

        .help-bubble {
            background: var(--gradient-orange);
            border-radius: 50px;
            padding: 1rem 2rem;
            color: white;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(247, 147, 26, 0.4);
            transition: all 0.3s ease;
            animation: pulse 2s infinite;
        }

        .help-bubble:hover {
            transform: scale(1.05);
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 5px 20px rgba(247, 147, 26, 0.4); }
            50% { box-shadow: 0 5px 30px rgba(247, 147, 26, 0.8); }
        }

        .help-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
        }

        /* Smart Prompts */
        .smart-prompts {
            position: fixed;
            top: 50%;
            left: 2rem;
            transform: translateY(-50%);
            z-index: 999;
        }

        .smart-prompt {
            background: rgba(26, 26, 26, 0.95);
            border: 1px solid var(--primary-orange);
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
            max-width: 250px;
            color: var(--text-light);
            animation: slideInLeft 0.5s ease;
        }

        @keyframes slideInLeft {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .smart-prompt-close {
            background: none;
            border: none;
            color: var(--text-dim);
            cursor: pointer;
            float: right;
            font-size: 1.2rem;
        }
        
        /* Progress and Recommendations Layout */
        .progress-recommendations {
            padding: 4rem 2rem;
            background: rgba(45, 45, 45, 0.5);
        }
        
        .progress-recommendations-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .progress-section-container h3,
        .recommendations-container h3 {
            color: var(--primary-orange);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }
        
        .cta-button {
            background: var(--primary-orange);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .cta-button:hover {
            background: #ff7b00;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(247, 147, 26, 0.4);
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .persona-grid {
                grid-template-columns: 1fr;
            }
            
            .persona-modal-content {
                padding: 2rem;
                margin: 1rem;
            }
            
            .progress-tracker {
                position: relative;
                top: auto;
                right: auto;
                margin: 1rem;
                width: calc(100% - 2rem);
            }
            
            .help-bubble {
                position: relative;
                bottom: auto;
                right: auto;
                margin: 2rem auto;
                display: block;
                text-align: center;
            }
        }
    </style>
    
    <!-- Dynamic Content & MCP Integration -->
    <link rel="stylesheet" href="/css/dynamic-content.css">
    <link rel="stylesheet" href="/css/learning-path.css">
    <link rel="stylesheet" href="/css/onboarding-flow.css">
    <link rel="stylesheet" href="/css/chips.css">
    <link rel="stylesheet" href="/css/hero3d.css">
    <link rel="stylesheet" href="/css/skeleton.css">
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading" id="loading">
        <div class="loading-spinner"></div>
    </div>

    <!-- Header -->
    <header class="header" id="header">
        <div class="header-content">
            <a href="#" class="logo">
                <div class="logo-icon">₿</div>
                <span class="logo-text">Bitcoin Sovereign Academy</span>
            </a>
            <div class="mobile-menu-toggle" id="mobileMenu">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        <div class="live-stats-bar" id="liveStatsBar">
            <div class="live-stat"><span class="label">₿ Price:</span> <span class="value" id="bar-btc-price">—</span></div>
            <div class="live-stat"><span class="label">Block:</span> <span class="value" id="bar-block-height">—</span></div>
            <div class="live-stat"><span class="label">Mempool:</span> <span class="value" id="bar-mempool-count">—</span></div>
            <div class="live-stat"><span class="label">Fees:</span> <span class="value" id="bar-fee-estimate">—</span></div>
            <div class="live-stat"><span class="label">Difficulty:</span> <span class="value" id="bar-difficulty">—</span></div>
        </div>
    </header>

    <!-- Hero Section with Bitcoin Network Animation -->
    <section class="hero3d hero3d--compact" id="hero3d" aria-label="Bitcoin Sovereign Academy hero" style="min-height: 50vh; padding: 8rem 2rem 4rem; margin-top: 0; background: linear-gradient(135deg, rgba(247, 147, 26, 0.05) 0%, rgba(26, 26, 26, 0.5) 100%); border-top: 1px solid rgba(247, 147, 26, 0.15); position: relative; overflow: hidden; scroll-margin-top: 100px;">
        
        <!-- Bitcoin Network Animation Background -->
        <div class="network-animation" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; opacity: 0.3; z-index: 0;">
            <svg width="100%" height="100%" style="position: absolute;">
                <!-- Connecting lines between nodes -->
                <line class="network-line" x1="10%" y1="20%" x2="90%" y2="30%" stroke="#f7931a" stroke-width="1" opacity="0.3"/>
                <line class="network-line" x1="20%" y1="70%" x2="80%" y2="50%" stroke="#f7931a" stroke-width="1" opacity="0.3"/>
                <line class="network-line" x1="30%" y1="40%" x2="70%" y2="80%" stroke="#f7931a" stroke-width="1" opacity="0.3"/>
                <line class="network-line" x1="50%" y1="10%" x2="50%" y2="90%" stroke="#f7931a" stroke-width="1" opacity="0.2"/>
                <line class="network-line" x1="15%" y1="50%" x2="85%" y2="70%" stroke="#f7931a" stroke-width="1" opacity="0.3"/>
                
                <!-- Pulsing light flash animations along lines -->
                <circle class="light-pulse" r="3" fill="#f7931a">
                    <animateMotion dur="3s" repeatCount="indefinite">
                        <mpath href="#path1"/>
                    </animateMotion>
                </circle>
                <circle class="light-pulse" r="3" fill="#f7931a">
                    <animateMotion dur="4s" repeatCount="indefinite" begin="1s">
                        <mpath href="#path2"/>
                    </animateMotion>
                </circle>
                <circle class="light-pulse" r="3" fill="#f7931a">
                    <animateMotion dur="3.5s" repeatCount="indefinite" begin="0.5s">
                        <mpath href="#path3"/>
                    </animateMotion>
                </circle>
                
                <!-- Hidden path definitions for light pulses -->
                <defs>
                    <path id="path1" d="M 10,20 L 90,30" stroke="none" fill="none"/>
                    <path id="path2" d="M 20,70 L 80,50" stroke="none" fill="none"/>
                    <path id="path3" d="M 30,40 L 70,80" stroke="none" fill="none"/>
                </defs>
            </svg>
            
            <!-- Animated network nodes -->
            <div class="network-node" style="position: absolute; top: 20%; left: 10%; width: 12px; height: 12px; background: #f7931a; border-radius: 50%; animation: nodePulse 3s ease-in-out infinite;"></div>
            <div class="network-node" style="position: absolute; top: 70%; left: 20%; width: 10px; height: 10px; background: #f7931a; border-radius: 50%; animation: nodePulse 3s ease-in-out infinite 0.5s;"></div>
            <div class="network-node" style="position: absolute; top: 40%; left: 30%; width: 14px; height: 14px; background: #f7931a; border-radius: 50%; animation: nodePulse 3s ease-in-out infinite 1s;"></div>
            <div class="network-node" style="position: absolute; top: 10%; left: 50%; width: 16px; height: 16px; background: #f7931a; border-radius: 50%; animation: nodePulse 3s ease-in-out infinite 1.5s; box-shadow: 0 0 20px #f7931a;"></div>
            <div class="network-node" style="position: absolute; top: 50%; left: 15%; width: 11px; height: 11px; background: #f7931a; border-radius: 50%; animation: nodePulse 3s ease-in-out infinite 2s;"></div>
            <div class="network-node" style="position: absolute; top: 30%; left: 90%; width: 13px; height: 13px; background: #f7931a; border-radius: 50%; animation: nodePulse 3s ease-in-out infinite 0.8s;"></div>
            <div class="network-node" style="position: absolute; top: 50%; left: 80%; width: 12px; height: 12px; background: #f7931a; border-radius: 50%; animation: nodePulse 3s ease-in-out infinite 1.3s;"></div>
            <div class="network-node" style="position: absolute; top: 80%; left: 70%; width: 10px; height: 10px; background: #f7931a; border-radius: 50%; animation: nodePulse 3s ease-in-out infinite 1.8s;"></div>
            <div class="network-node" style="position: absolute; top: 70%; left: 85%; width: 14px; height: 14px; background: #f7931a; border-radius: 50%; animation: nodePulse 3s ease-in-out infinite 2.3s;"></div>
        </div>

        <div class="hero3d__inner" style="max-width: 900px; margin: 0 auto; position: relative; z-index: 10;">
            <div class="hero3d__content" style="text-align: center;">
                <h1 class="hero3d__title" style="font-size: clamp(2rem, 5vw, 3rem); margin-bottom: 1rem; font-weight: 700; line-height: 1.2;">Master Bitcoin Through Real Experience</h1>
                <p class="hero3d__subtitle" style="font-size: 1rem; margin-bottom: 2rem; line-height: 1.6; max-width: 650px; margin-left: auto; margin-right: auto; color: rgba(224, 224, 224, 0.9);">
                    Move from curiosity to confidence with interactive demos, tailored paths, and live network insight.
                </p>
                <div class="hero3d__actions" role="group" aria-label="Primary hero actions" style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                    <a href="#choose-path"
                       class="hero3d__action hero3d__action--primary"
                       id="cta-start-journey"
                       onclick="track('Click Choose Path',{ab:abVariant()})"
                       style="padding: 0.7rem 1.4rem; font-size: 0.95rem; font-weight: 600; border-radius: 50px; background: var(--gradient-orange); color: white; text-decoration: none; box-shadow: 0 4px 15px rgba(247, 147, 26, 0.3); transition: all 0.3s ease;">
                        🚀 Start Your Journey
                    </a>
                    <a href="#features"
                       class="hero3d__action hero3d__action--ghost"
                       id="cta-browse-demos"
                       onclick="track('Click See Demos',{ab:abVariant()})"
                       style="padding: 0.7rem 1.4rem; font-size: 0.95rem; font-weight: 600; border-radius: 50px; background: rgba(247, 147, 26, 0.1); border: 2px solid var(--primary-orange); color: var(--primary-orange); text-decoration: none; transition: all 0.3s ease;">
                        🗺️ Explore Interactive Demos
                    </a>
                </div>
            </div>
        </div>
        <div class="hero3d__fallback" id="hero3d-fallback"></div>
    </section>
    
    <style>
        @keyframes nodePulse {
            0%, 100% {
                transform: scale(1);
                opacity: 0.6;
            }
            50% {
                transform: scale(1.3);
                opacity: 1;
                box-shadow: 0 0 15px #f7931a;
            }
        }
        
        @keyframes lineFlow {
            0% {
                stroke-dashoffset: 1000;
            }
            100% {
                stroke-dashoffset: 0;
            }
        }
        
        .network-line {
            stroke-dasharray: 5, 5;
            animation: lineFlow 20s linear infinite;
        }
        
        .light-pulse {
            opacity: 0.8;
            filter: drop-shadow(0 0 4px #f7931a);
        }
        
        /* Fix path percentages in viewBox coordinates */
        #path1, #path2, #path3 {
            transform: scale(10);
            transform-origin: 0 0;
        }
    </style>

    <!-- Choose Your Path Section -->
    <section class="choose-path-section" id="choose-path">
        <div class="container">
            <h2 class="choose-path-title">Which Bitcoin Journey Fits You Best?</h2>
            <p class="choose-path-subtitle">Choose your starting point — you can switch anytime</p>

            <div class="path-cards-grid">
                <!-- The Curious Path -->
                <a href="/paths/curious/" class="path-card curious" onclick="track('Path Selected',{path:'curious',ab:abVariant()})">
                    <div class="path-icon">
                        <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="50" cy="50" r="45" stroke="#4CAF50" stroke-width="3" fill="rgba(76, 175, 80, 0.1)"/>
                            <circle cx="50" cy="50" r="35" stroke="#4CAF50" stroke-width="2" fill="rgba(76, 175, 80, 0.05)"/>
                            <path d="M50 15 L55 35 L50 30 L45 35 Z" fill="#4CAF50"/>
                            <circle cx="50" cy="50" r="5" fill="#4CAF50"/>
                            <line x1="50" y1="20" x2="50" y2="35" stroke="#4CAF50" stroke-width="2"/>
                            <text x="50" y="30" text-anchor="middle" fill="#4CAF50" font-size="14" font-weight="bold">N</text>
                        </svg>
                    </div>
                    <h3>The Curious</h3>
                    <p class="path-persona">"I'm new to Bitcoin"</p>

                    <div class="path-perfect-for">
                        <h4>Perfect For:</h4>
                        <ul>
                            <li>Complete beginners</li>
                            <li>Traditional savers</li>
                            <li>First-time buyers</li>
                        </ul>
                    </div>

                    <div class="path-learn">
                        <h4>You'll Learn:</h4>
                        <ul>
                            <li>What is Bitcoin?</li>
                            <li>Why it matters</li>
                            <li>Your first wallet</li>
                            <li>Send/receive BTC</li>
                            <li>Stay safe</li>
                        </ul>
                    </div>

                    <div class="path-meta">
                        <span>🎓 6-8 weeks</span>
                        <span>⏱️ 2-3 hrs/week</span>
                    </div>

                    <span class="path-cta">START HERE →</span>
                </a>

                <!-- The Hurried Path -->
                <a href="/paths/hurried/" class="path-card hurried" onclick="track('Path Selected',{path:'hurried',ab:abVariant()})">
                    <div class="path-icon">
                        <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M50 10 L60 40 L50 35 L40 40 Z" fill="#FFA726" stroke="#FFA726" stroke-width="2"/>
                            <ellipse cx="50" cy="45" rx="15" ry="25" fill="#FFA726"/>
                            <path d="M35 70 Q30 85 35 90" stroke="#FF7043" stroke-width="3" fill="none"/>
                            <path d="M50 70 Q50 90 50 95" stroke="#FF5722" stroke-width="3" fill="none"/>
                            <path d="M65 70 Q70 85 65 90" stroke="#FF7043" stroke-width="3" fill="none"/>
                            <circle cx="50" cy="25" r="3" fill="#FFE0B2"/>
                        </svg>
                    </div>
                    <h3>The Hurried</h3>
                    <p class="path-persona">"No time to waste"</p>

                    <div class="path-perfect-for">
                        <h4>Perfect For:</h4>
                        <ul>
                            <li>Busy professionals</li>
                            <li>Fast learners</li>
                            <li>ADHD-friendly</li>
                        </ul>
                    </div>

                    <div class="path-learn">
                        <h4>You'll Learn:</h4>
                        <ul>
                            <li>Bitcoin in 1 sentence</li>
                            <li>Wallet essentials</li>
                            <li>Transaction basics</li>
                            <li>Mining explained</li>
                            <li>Security first</li>
                        </ul>
                    </div>

                    <div class="path-meta">
                        <span>🎓 1 hour total</span>
                        <span>⏱️ 8 × 5-10 min</span>
                    </div>

                    <span class="path-cta">FAST TRACK →</span>
                </a>

                <!-- The Pragmatist Path -->
                <a href="/paths/pragmatist/" class="path-card pragmatist" onclick="track('Path Selected',{path:'pragmatist',ab:abVariant()})">
                    <div class="path-icon">
                        <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="35" y="15" width="12" height="50" rx="2" fill="#00BCD4" stroke="#00ACC1" stroke-width="2"/>
                            <ellipse cx="41" cy="60" rx="8" ry="4" fill="#0097A7"/>
                            <path d="M47 35 L85 60 L80 70 L42 45 Z" fill="#00BCD4" stroke="#00ACC1" stroke-width="2"/>
                            <circle cx="82" cy="65" r="8" fill="#00ACC1"/>
                            <line x1="75" y1="72" x2="89" y2="58" stroke="#006064" stroke-width="2"/>
                        </svg>
                    </div>
                    <h3>The Pragmatist</h3>
                    <p class="path-persona">"I learn by doing"</p>

                    <div class="path-perfect-for">
                        <h4>Perfect For:</h4>
                        <ul>
                            <li>Hands-on learners</li>
                            <li>Action-oriented</li>
                            <li>Achievement-driven</li>
                        </ul>
                    </div>

                    <div class="path-learn">
                        <h4>You'll Master:</h4>
                        <ul>
                            <li>Interactive demos</li>
                            <li>Real-world practice</li>
                            <li>Wallet setup</li>
                            <li>Live transactions</li>
                            <li>Earn badges</li>
                        </ul>
                    </div>

                    <div class="path-meta">
                        <span>🎓 2-3 hours</span>
                        <span>⏱️ 6 practical modules</span>
                    </div>

                    <span class="path-cta">BUILD SKILLS →</span>
                </a>

                <!-- The Builder Path -->
                <a href="/paths/builder/" class="path-card builder" onclick="track('Path Selected',{path:'builder',ab:abVariant()})">
                    <div class="path-icon">
                        <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="20" y="70" width="60" height="20" fill="#9C27B0" stroke="#8E24AA" stroke-width="2"/>
                            <rect x="30" y="50" width="40" height="20" fill="#AB47BC" stroke="#9C27B0" stroke-width="2"/>
                            <rect x="40" y="30" width="20" height="20" fill="#BA68C8" stroke="#AB47BC" stroke-width="2"/>
                            <line x1="75" y1="15" x2="75" y2="70" stroke="#7B1FA2" stroke-width="3"/>
                            <line x1="65" y1="15" x2="85" y2="15" stroke="#7B1FA2" stroke-width="3"/>
                            <line x1="75" y1="15" x2="85" y2="25" stroke="#7B1FA2" stroke-width="2"/>
                            <rect x="82" y="23" width="6" height="12" fill="#9C27B0" stroke="#7B1FA2" stroke-width="1"/>
                        </svg>
                    </div>
                    <h3>The Builder</h3>
                    <p class="path-persona">"I want to build with Bitcoin"</p>

                    <div class="path-perfect-for">
                        <h4>Perfect For:</h4>
                        <ul>
                            <li>Developers</li>
                            <li>Tech enthusiasts</li>
                            <li>Entrepreneurs</li>
                        </ul>
                    </div>

                    <div class="path-learn">
                        <h4>You'll Learn:</h4>
                        <ul>
                            <li>Protocol deep dive</li>
                            <li>Lightning Network</li>
                            <li>Build BTC apps</li>
                            <li>Smart contracts</li>
                            <li>Contribute to OSS</li>
                        </ul>
                    </div>

                    <div class="path-meta">
                        <span>🎓 10-12 weeks</span>
                        <span>⏱️ 5-8 hrs/week</span>
                    </div>

                    <span class="path-cta">EXPLORE →</span>
                </a>

                <!-- The Sovereign Path -->
                <a href="/paths/sovereign/" class="path-card sovereign" onclick="track('Path Selected',{path:'sovereign',ab:abVariant()})">
                    <div class="path-icon">
                        <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M50 10 L80 25 L80 50 Q80 75 50 90 Q20 75 20 50 L20 25 Z" fill="rgba(229, 57, 53, 0.2)" stroke="#E53935" stroke-width="3"/>
                            <path d="M50 20 L70 30 L70 50 Q70 65 50 75 Q30 65 30 50 L30 30 Z" fill="rgba(229, 57, 53, 0.3)" stroke="#E53935" stroke-width="2"/>
                            <path d="M40 45 L46 52 L60 38" stroke="#E53935" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                        </svg>
                    </div>
                    <h3>The Sovereign</h3>
                    <p class="path-persona">"I want full control & privacy"</p>

                    <div class="path-perfect-for">
                        <h4>Perfect For:</h4>
                        <ul>
                            <li>Privacy advocates</li>
                            <li>Security-focused</li>
                            <li>Node operators</li>
                        </ul>
                    </div>

                    <div class="path-learn">
                        <h4>You'll Master:</h4>
                        <ul>
                            <li>Hardware wallets</li>
                            <li>Multi-sig setups</li>
                            <li>Privacy tools</li>
                            <li>Run your own node</li>
                            <li>Cold storage</li>
                        </ul>
                    </div>

                    <div class="path-meta">
                        <span>🎓 12-16 weeks</span>
                        <span>⏱️ 4-6 hrs/week</span>
                    </div>

                    <span class="path-cta">ADVANCE →</span>
                </a>
            </div>

            <p class="path-quiz-link">
                💡 Not sure which path? <a href="#quiz" onclick="track('Path Quiz Click',{ab:abVariant()})">Take our 2-minute path finder quiz</a>
            </p>
        </div>
    </section>

    <!-- ⭐ FEATURED EXPERIENCES - Curated selections -->
    <section class="features" id="featured">
        <div class="container">
            <div style="text-align: center; margin-bottom: 3rem;">
                <h2 class="section-title"><span class="section-icon">⭐</span>Featured Experiences</h2>
                <p class="section-subtitle">Start your Bitcoin journey here — handpicked learning experiences</p>
            </div>

            <div class="features-grid">
                <!-- ========== INTERACTIVE DEMOS (4 cards - Green theme) ========== -->
                <!-- 1. SOVEREIGN Journey -->
                <a href="/interactive-demos/bitcoin-sovereign-game" class="feature-card" style="background: rgba(76, 175, 80, 0.1); border: 2px solid rgba(76, 175, 80, 0.3);">
                    <div class="feature-icon">🎮</div>
                    <h3 class="feature-title" style="color: #4CAF50;">SOVEREIGN Journey</h3>
                    <p class="feature-description">
                        Experience 20 years of economic history (2005-2025). Live through 2008 crisis, discover Bitcoin.
                    </p>
                    <span class="difficulty-badge difficulty-beginner">Beginner</span>
                    <span class="feature-badge badge-live" style="background: rgba(76, 175, 80, 0.2); color: #4CAF50;">PLAY NOW</span>
                </a>

                <!-- 2. Bitcoin Time Machine -->
                <a href="/interactive-demos/time-machine" class="feature-card" style="background: rgba(76, 175, 80, 0.1); border: 2px solid rgba(76, 175, 80, 0.3);">
                    <div class="feature-icon">⏰</div>
                    <h3 class="feature-title" style="color: #4CAF50;">Bitcoin Time Machine</h3>
                    <p class="feature-description">
                        Travel through Bitcoin's history from 2009 to today. Major milestones and breakthroughs.
                    </p>
                    <span class="difficulty-badge difficulty-beginner">Beginner</span>
                    <span class="feature-badge badge-live" style="background: rgba(76, 175, 80, 0.2); color: #4CAF50;">TRAVEL BACK</span>
                </a>

                <!-- 3. Money Properties Comparison -->
                <a href="/interactive-demos/money-properties-comparison" class="feature-card" style="background: rgba(76, 175, 80, 0.1); border: 2px solid rgba(76, 175, 80, 0.3);">
                    <div class="feature-icon">💰</div>
                    <h3 class="feature-title" style="color: #4CAF50;">Money Properties Comparison</h3>
                    <p class="feature-description">
                        Compare Bitcoin, gold, and fiat across divisibility, portability, durability, scarcity.
                    </p>
                    <span class="difficulty-badge difficulty-beginner">Beginner</span>
                    <span class="feature-badge badge-live" style="background: rgba(76, 175, 80, 0.2); color: #4CAF50;">COMPARE</span>
                </a>

                <!-- 4. Lightning Network Demo -->
                <a href="/interactive-demos/lightning-network-demo" class="feature-card" style="background: rgba(76, 175, 80, 0.1); border: 2px solid rgba(76, 175, 80, 0.3);">
                    <div class="feature-icon">⚡</div>
                    <h3 class="feature-title" style="color: #4CAF50;">Lightning Network</h3>
                    <p class="feature-description">
                        Learn Bitcoin's scaling solution: open channels, route payments, understand HTLCs.
                    </p>
                    <span class="difficulty-badge difficulty-intermediate">Intermediate</span>
                    <span class="feature-badge badge-live" style="background: rgba(76, 175, 80, 0.2); color: #4CAF50;">EXPLORE</span>
                </a>

                <!-- ========== BITCOIN TOOLS (4 cards - Blue theme) ========== -->
                <!-- 5. Wallet Workshop -->
                <a href="/interactive-demos/wallet-workshop" class="feature-card" style="background: rgba(33, 150, 243, 0.1); border: 2px solid rgba(33, 150, 243, 0.3);">
                    <div class="feature-icon">🔐</div>
                    <h3 class="feature-title" style="color: #2196F3;">Wallet Workshop</h3>
                    <p class="feature-description">
                        Master wallet fundamentals: entropy, seed phrases, private keys, HD wallets. Hands-on learning.
                    </p>
                    <span class="difficulty-badge difficulty-intermediate">Intermediate</span>
                    <span class="feature-badge badge-live" style="background: rgba(33, 150, 243, 0.2); color: #2196F3;">LEARN</span>
                </a>

                <!-- 6. Fee Master Tool -->
                <a href="/interactive-demos/fee-master-tool" class="feature-card" style="background: rgba(33, 150, 243, 0.1); border: 2px solid rgba(33, 150, 243, 0.3);">
                    <div class="feature-icon">📊</div>
                    <h3 class="feature-title" style="color: #2196F3;">Fee Master Tool</h3>
                    <p class="feature-description">
                        Complete Bitcoin fee management: estimate costs, decide timing, track transactions real-time.
                    </p>
                    <span class="difficulty-badge difficulty-intermediate">Intermediate</span>
                    <span class="feature-badge badge-live" style="background: rgba(33, 150, 243, 0.2); color: #2196F3;">ALL-IN-ONE</span>
                </a>

                <!-- 7. UTXO Visualizer Enhanced -->
                <a href="/interactive-demos/utxo-visualizer-enhanced" class="feature-card" style="background: rgba(33, 150, 243, 0.1); border: 2px solid rgba(33, 150, 243, 0.3);">
                    <div class="feature-icon">🪙</div>
                    <h3 class="feature-title" style="color: #2196F3;">UTXO Visualizer</h3>
                    <p class="feature-description">
                        Master UTXO management: consolidation, fee optimization, privacy protection scenarios.
                    </p>
                    <span class="difficulty-badge difficulty-intermediate">Intermediate</span>
                    <span class="feature-badge badge-live" style="background: rgba(33, 150, 243, 0.2); color: #2196F3;">OPTIMIZE</span>
                </a>

                <!-- 8. Bitcoin Unit Converter -->
                <a href="/interactive-demos/bitcoin-unit-converter.html" class="feature-card" style="background: rgba(33, 150, 243, 0.1); border: 2px solid rgba(33, 150, 243, 0.3);">
                    <div class="feature-icon">₿</div>
                    <h3 class="feature-title" style="color: #2196F3;">Bitcoin Unit Converter</h3>
                    <p class="feature-description">
                        Convert between BTC, satoshis, mBTC, bits, and USD instantly. Live pricing included.
                    </p>
                    <span class="difficulty-badge difficulty-beginner">Beginner</span>
                    <span class="feature-badge badge-live" style="background: rgba(33, 150, 243, 0.2); color: #2196F3;">CONVERT NOW</span>
                </a>

                <!-- ========== LEARNING EXPERIENCES (4 cards - Purple theme) ========== -->
                <!-- 9. Account Freeze Scenario -->
                <a href="/interactive-demos/account-freeze-scenario" class="feature-card" style="background: rgba(156, 39, 176, 0.1); border: 2px solid rgba(156, 39, 176, 0.3);">
                    <div class="feature-icon">🔒</div>
                    <h3 class="feature-title" style="color: #9C27B0;">Locked Out of YOUR Money</h3>
                    <p class="feature-description">
                        Rent is due in 9 hours. Bank account frozen. Experience why financial sovereignty matters.
                    </p>
                    <span class="difficulty-badge difficulty-beginner">Beginner</span>
                    <span class="feature-badge badge-live" style="background: rgba(156, 39, 176, 0.2); color: #9C27B0;">BRANCHING STORY</span>
                </a>

                <!-- 10. The $50 Emergency -->
                <a href="/interactive-demos/emergency-fifty-scenario" class="feature-card" style="background: rgba(156, 39, 176, 0.1); border: 2px solid rgba(156, 39, 176, 0.3);">
                    <div class="feature-icon">🆘</div>
                    <h3 class="feature-title" style="color: #9C27B0;">The $50 Emergency</h3>
                    <p class="feature-description">
                        Your niece needs medicine NOW. 4 hours to decide. Every choice has consequences.
                    </p>
                    <span class="difficulty-badge difficulty-beginner">Beginner</span>
                    <span class="feature-badge badge-live" style="background: rgba(156, 39, 176, 0.2); color: #9C27B0;">BRANCHING STORY</span>
                </a>

                <!-- 11. Security Dojo Enhanced -->
                <a href="/interactive-demos/security-dojo-enhanced" class="feature-card" style="background: rgba(156, 39, 176, 0.1); border: 2px solid rgba(156, 39, 176, 0.3);">
                    <div class="feature-icon">🥋</div>
                    <h3 class="feature-title" style="color: #9C27B0;">Security Dojo Enhanced</h3>
                    <p class="feature-description">
                        Master Bitcoin security: 12 progressive challenges for wallet safety and key management.
                    </p>
                    <span class="difficulty-badge difficulty-intermediate">Intermediate</span>
                    <span class="feature-badge badge-live" style="background: rgba(156, 39, 176, 0.2); color: #9C27B0;">TRAIN NOW</span>
                </a>

                <!-- 12. Your Savings Disappear -->
                <a href="/interactive-demos/savings-disappear-scenario" class="feature-card" style="background: rgba(156, 39, 176, 0.1); border: 2px solid rgba(156, 39, 176, 0.3);">
                    <div class="feature-icon">💸</div>
                    <h3 class="feature-title" style="color: #9C27B0;">Your Savings Disappear</h3>
                    <p class="feature-description">
                        $50K inheritance, 2020-2030. Bank? Index funds? Bitcoin? Your choice shapes your future.
                    </p>
                    <span class="difficulty-badge difficulty-beginner">Beginner</span>
                    <span class="feature-badge badge-live" style="background: rgba(156, 39, 176, 0.2); color: #9C27B0;">BRANCHING STORY</span>
                </a>
            </div>

            <!-- Link to full galleries -->
            <div style="text-align: center; margin-top: 3rem; padding-top: 2rem; border-top: 1px solid rgba(247, 147, 26, 0.2);">
                <p style="color: var(--text-dim); margin-bottom: 1.5rem;">Want to explore more? Browse our full collections:</p>
                <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                    <a href="/demos/" class="btn-secondary" style="padding: 0.75rem 1.5rem; background: rgba(76, 175, 80, 0.1); border: 2px solid rgba(76, 175, 80, 0.3); border-radius: 8px; color: #4CAF50; text-decoration: none; font-weight: 600; transition: all 0.3s ease;">
                        🔍 All Interactive Demos (16+)
                    </a>
                    <a href="/tools/" class="btn-secondary" style="padding: 0.75rem 1.5rem; background: rgba(33, 150, 243, 0.1); border: 2px solid rgba(33, 150, 243, 0.3); border-radius: 8px; color: #2196F3; text-decoration: none; font-weight: 600; transition: all 0.3s ease;">
                        🛠️ Bitcoin Tools Library (12+)
                    </a>
                    <a href="/challenges/" class="btn-secondary" style="padding: 0.75rem 1.5rem; background: rgba(156, 39, 176, 0.1); border: 2px solid rgba(156, 39, 176, 0.3); border-radius: 8px; color: #9C27B0; text-decoration: none; font-weight: 600; transition: all 0.3s ease;">
                        🎯 Learning Challenges (10+)
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Learning Path Section -->
    <!-- AI Learning Agents Section -->
    <section class="ai-agents" id="agents">
        <div class="container">
            <h2 class="section-title">Need Guidance? Meet Your AI Tutors</h2>
            <p class="section-subtitle">Personalized learning companions to help you understand Bitcoin</p>

            <div class="agents-grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); max-width: 1000px; margin: 0 auto;">
                <div class="agent-card" data-link="/ai-agents/story-navigator/index.html" role="link" tabindex="0" aria-label="Launch Story Navigator interactive learning">
                    <div class="agent-icon">📖</div>
                    <h3 class="agent-name">Story Navigator</h3>
                    <p class="agent-description">
                        Personalized Bitcoin journey narratives. Creates custom learning stories based on your interests and background.
                    </p>
                    <div class="agent-status active">Active</div>
                    <a class="agent-cta" href="/ai-agents/story-navigator/index.html">
                        Launch Story Navigator →
                    </a>
                </div>

                <div class="agent-card" data-link="/ai-agents/visual-synthesizer/index.html" role="link" tabindex="0" aria-label="Launch Visual Synthesizer interactive experience">
                    <div class="agent-icon">🎨</div>
                    <h3 class="agent-name">Visual Synthesizer</h3>
                    <p class="agent-description">
                        Transforms complex Bitcoin concepts into interactive visual metaphors and diagrams.
                    </p>
                    <div class="agent-status active">Active</div>
                    <a class="agent-cta" href="/ai-agents/visual-synthesizer/index.html">
                        Launch Visual Synthesizer →
                    </a>
                </div>

                <div class="agent-card">
                    <div class="agent-icon">🧠</div>
                    <h3 class="agent-name">Philosophy Guide</h3>
                    <p class="agent-description">
                        Deep conceptual discussions on money, sovereignty, Austrian economics, and Bitcoin philosophy.
                    </p>
                    <div class="agent-status active">Active</div>
                </div>
            </div>

            <!-- Link to all AI tutors -->
            <div style="text-align: center; margin-top: 2.5rem;">
                <a href="/ai-tutors/" style="display: inline-block; padding: 0.75rem 1.5rem; background: linear-gradient(135deg, rgba(247, 147, 26, 0.1), rgba(247, 147, 26, 0.05)); border: 2px solid rgba(247, 147, 26, 0.3); border-radius: 8px; color: var(--primary-orange); text-decoration: none; font-weight: 600; transition: all 0.3s ease;">
                    🤖 Explore All 8 AI Learning Tutors →
                </a>
            </div>
        </div>
    </section>


    <!-- Stats Section -->
    <section class="stats">
        <div class="stats-grid">
            <div class="stat-item">
                <div class="stat-number">8</div>
                <div class="stat-label">AI Learning Agents</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">44+</div>
                <div class="stat-label">Learning Experiences</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">100+</div>
                <div class="stat-label">Learning Modules</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">50+</div>
                <div class="stat-label">Hands-on Exercises</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">24/7</div>
                <div class="stat-label">Real-time Data</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">10+</div>
                <div class="stat-label">Languages Coming</div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Learn</h4>
                <ul class="footer-links">
                    <li><a href="#path">Learning Paths</a></li>
                    <li><a href="#features">Interactive Demos</a></li>
                    <li><a href="#agents">AI Tutors</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>Resources</h4>
                <ul class="footer-links">
                    <li><a href="/glossary.html">Bitcoin Glossary</a></li>
                    <li><a href="/emergency-kit.html">Emergency Kit</a></li>
                    <li><a href="https://btcdalia.substack.com" target="_blank">Newsletter</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>Community</h4>
                <ul class="footer-links">
                    <li><a href="#">Discord</a></li>
                    <li><a href="#">Forum</a></li>
                    <li><a href="#">Contribute</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>About the Creator</h4>
                <p style="color: var(--text-dim); line-height: 1.6; margin-bottom: 1rem;">
                    Created by <strong style="color: var(--primary-orange);">Dalia Platt</strong>, a passionate Bitcoin educator and advocate for financial sovereignty.
                </p>
                <p style="color: var(--text-dim); font-style: italic; font-size: 0.9rem; line-height: 1.5;">
                    "Bitcoin is hope for a fairer financial system. Education is the bridge that makes that hope accessible to everyone."
                </p>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>© 2025 Bitcoin Sovereign Academy. Created by Dalia Platt.</p>
            <p style="font-size: 0.8rem; color: var(--text-dim); margin-top: 0.5rem;">Educational purposes only. Not financial advice.</p>
        </div>
    </footer>

    <!-- Persona & Guidance System -->
    <div id="personaModal" class="persona-modal hidden">
        <div class="persona-modal-content">
            <h2>👋 Welcome to Bitcoin Sovereign Academy!</h2>
            <p>Let's personalize your learning journey. Which describes you best?</p>
            
            <div class="persona-grid">
                <div class="persona-card" data-persona="curious">
                    <div class="persona-icon">🤔</div>
                    <h3>Bitcoin Curious</h3>
                    <p>"I keep hearing about Bitcoin but don't really understand what it is"</p>
                    <span class="persona-badge">Start Here</span>
                </div>
                
                <div class="persona-card" data-persona="investor">
                    <div class="persona-icon">📈</div>
                    <h3>Traditional Investor</h3>
                    <p>"I have a portfolio but want to understand Bitcoin as an asset"</p>
                    <span class="persona-badge">Investment Focus</span>
                </div>
                
                <div class="persona-card" data-persona="developer">
                    <div class="persona-icon">👨‍💻</div>
                    <h3>Tech Developer</h3>
                    <p>"I want to build on Bitcoin or understand the technical details"</p>
                    <span class="persona-badge">Technical Deep-Dive</span>
                </div>
                
                <div class="persona-card" data-persona="libertarian">
                    <div class="persona-icon">🗽</div>
                    <h3>Freedom Seeker</h3>
                    <p>"I'm interested in financial sovereignty and Austrian economics"</p>
                    <span class="persona-badge">Philosophy First</span>
                </div>
                
                <div class="persona-card" data-persona="business">
                    <div class="persona-icon">🏪</div>
                    <h3>Business Owner</h3>
                    <p>"I want to accept Bitcoin payments or integrate it into my business"</p>
                    <span class="persona-badge">Business Solutions</span>
                </div>
                
                <div class="persona-card" data-persona="student">
                    <div class="persona-icon">🎓</div>
                    <h3>Student</h3>
                    <p>"I'm studying economics/finance and want to understand Bitcoin deeply"</p>
                    <span class="persona-badge">Academic Approach</span>
                </div>
                
                <div class="persona-card" data-persona="retiree">
                    <div class="persona-icon">🏖️</div>
                    <h3>Retiree/Saver</h3>
                    <p>"I'm worried about inflation and want to protect my savings"</p>
                    <span class="persona-badge">Wealth Preservation</span>
                </div>
                
                <div class="persona-card" data-persona="entrepreneur">
                    <div class="persona-icon">🚀</div>
                    <h3>Entrepreneur</h3>
                    <p>"I see Bitcoin as a business opportunity and want to innovate"</p>
                    <span class="persona-badge">Innovation Track</span>
                </div>
                
                <div class="persona-card" data-persona="skeptic">
                    <div class="persona-icon">🧐</div>
                    <h3>Bitcoin Skeptic</h3>
                    <p>"I think Bitcoin might be a scam or bubble - convince me otherwise"</p>
                    <span class="persona-badge">Address Concerns</span>
                </div>
                
                <div class="persona-card" data-persona="maximalist">
                    <div class="persona-icon">🧡</div>
                    <h3>Bitcoin Maximalist</h3>
                    <p>"I already believe in Bitcoin but want to deepen my knowledge"</p>
                    <span class="persona-badge">Advanced Level</span>
                </div>
                
                <div class="persona-card" data-persona="parent">
                    <div class="persona-icon">👨‍👩‍👧‍👦</div>
                    <h3>Parent/Educator</h3>
                    <p>"I want to understand Bitcoin to teach my kids about money"</p>
                    <span class="persona-badge">Family Finance</span>
                </div>
                
                <div class="persona-card" data-persona="global">
                    <div class="persona-icon">🌍</div>
                    <h3>Global Citizen</h3>
                    <p>"I live in a country with currency instability or restrictions"</p>
                    <span class="persona-badge">Freedom Money</span>
                </div>
            </div>
            
            <div class="persona-actions">
                <button class="btn-skip">Skip - I'll explore myself</button>
                <button class="btn-continue" disabled>Continue with Selected Path</button>
            </div>
        </div>
    </div>

    <!-- Guided Tour Popups -->
    <div id="guidedTour" class="guided-tour hidden">
        <div class="tour-popup">
            <div class="tour-content">
                <h3 id="tourTitle">Welcome!</h3>
                <p id="tourDescription">This is your personalized guidance.</p>
                <div class="tour-actions">
                    <button id="tourSkip">Skip Tour</button>
                    <button id="tourNext">Next</button>
                </div>
            </div>
            <div class="tour-arrow"></div>
        </div>
    </div>

    <!-- Progress Tracker -->
    <div id="progressTracker" class="progress-tracker hidden">
        <div class="progress-header">
            <h4>Your Journey: <span id="personaName">Bitcoin Learning</span></h4>
            <button id="toggleProgress">📊</button>
        </div>
        <div class="progress-content">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-stats">
                <span id="progressText">0% Complete</span>
                <span id="nextStep">Next: Choose your starting point</span>
            </div>
            <div class="progress-achievements" id="achievements"></div>
        </div>
    </div>

    <!-- Contextual Help Bubbles -->
    <div class="help-system">
        <div class="help-bubble" id="helpBubble">
            <div class="help-content">
                <p id="helpText">Need guidance? I'm here to help!</p>
                <button id="helpClose">×</button>
            </div>
        </div>
    </div>

    <!-- Smart Prompts -->
    <div id="smartPrompts" class="smart-prompts"></div>

    <!-- Analytics -->
    <script defer data-domain="bitcoinsovereign.academy" src="https://plausible.io/js/script.js"></script>
    
    <!-- Internationalization -->
    <script src="/js/i18n.js"></script>
    
    <script>
        // Track key events
        function trackEvent(eventName, props = {}) {
            if (window.plausible) {
                window.plausible(eventName, { props });
            }
            console.log('Event tracked:', eventName, props);
        }

        // Service Worker Registration for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => console.log('ServiceWorker registered'))
                    .catch(err => console.log('ServiceWorker registration failed'));
            });
        }

        // Remove loading screen when page loads
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('loading').classList.add('hidden');
            }, 500);
        });

        // Header scroll effect
        window.addEventListener('scroll', () => {
            const header = document.getElementById('header');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Mobile menu toggle
        const mobileMenu = document.getElementById('mobileMenu');
        const navLinks = document.getElementById('navLinks');
        
        mobileMenu.addEventListener('click', () => {
            navLinks.classList.toggle('active');
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                    // Close mobile menu if open
                    navLinks.classList.remove('active');
                }
            });
        });

        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe feature cards
        document.querySelectorAll('.feature-card').forEach(card => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            card.style.transition = 'all 0.6s ease';
            observer.observe(card);
        });

        // Observe timeline items
        document.querySelectorAll('.timeline-item').forEach((item, index) => {
            item.style.opacity = '0';
            item.style.transform = 'translateY(20px)';
            item.style.transition = `all 0.6s ease ${index * 0.1}s`;
            observer.observe(item);
        });

        // Observe agent cards
        document.querySelectorAll('.agent-card').forEach((card, index) => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            card.style.transition = `all 0.6s ease ${index * 0.05}s`;
            observer.observe(card);
        });

        // Enable navigation for agent cards with data-link
        document.querySelectorAll('.agent-card[data-link]').forEach(card => {
            const link = card.getAttribute('data-link');
            if (!link) return;

            const openLink = () => {
                window.location.href = link;
            };

            card.addEventListener('click', event => {
                if (event.target.closest('a')) return;
                openLink();
            });

            card.addEventListener('keydown', event => {
                if (event.key === 'Enter' || event.key === ' ') {
                    event.preventDefault();
                    openLink();
                }
            });
        });

        // Bitcoin data updates are now handled by bitcoin-data-reliable.js
        // The service auto-initializes and updates every 60 seconds

        // Track feature clicks
        document.querySelectorAll('.feature-card').forEach(card => {
            card.addEventListener('click', (e) => {
                const title = card.querySelector('.feature-title').textContent;
                trackEvent('Feature Clicked', { feature: title, ab: (window.abVariant ? window.abVariant() : (location.hash.includes('ab=data-first')?'data-first':'experience-first')) });
            });
        });

        // Track agent card interactions
        document.querySelectorAll('.agent-card').forEach(card => {
            card.addEventListener('click', (e) => {
                const name = card.querySelector('.agent-name').textContent;
                trackEvent('AI Agent Interest', { agent: name });
            });
        });

        // Persona and Guidance System
        class PersonaGuidanceSystem {
            constructor() {
                this.selectedPersona = null;
                this.currentTourStep = 0;
                this.progress = 0;
                this.achievements = [];
                this.tourSteps = {};
                this.init();
            }

            init() {
                this.setupPersonas();
                this.setupTour();
                this.setupProgressTracker();
                this.setupHelpSystem();
                this.loadUserProgress();
                this.showPersonaModal();
            }

            setupPersonas() {
                console.log('PersonaGuidanceSystem: Setting up personas...');
                const personas = {
                    curious: {
                        name: "Bitcoin Curious Explorer",
                        startPoint: "#features",
                        recommendations: ['bitcoin-sovereign-game', 'philosophy-guide', 'time-machine'],
                        content: "Start with our interactive game to understand why Bitcoin was created.",
                        nextSteps: ["Play SOVEREIGN Journey", "Learn Bitcoin Basics", "Understand Money History"]
                    },
                    investor: {
                        name: "Traditional Investor",
                        startPoint: "#bitcoin-data",
                        recommendations: ['data-poet', 'strategy-advisor', 'utxo-visualizer'],
                        content: "See live Bitcoin metrics and understand it as an investment asset.",
                        nextSteps: ["View Market Data", "Risk Assessment", "Portfolio Integration"]
                    },
                    developer: {
                        name: "Tech Developer",
                        startPoint: "#features",
                        recommendations: ['transaction-builder', 'consensus-game', 'lightning-lab'],
                        content: "Dive into the technical architecture with hands-on coding demos.",
                        nextSteps: ["Build Transactions", "Understand Consensus", "Lightning Development"]
                    },
                    libertarian: {
                        name: "Freedom Seeker",
                        startPoint: "#agents",
                        recommendations: ['philosophy-guide', 'future-oracle', 'story-navigator'],
                        content: "Explore Bitcoin's philosophical foundations and sovereignty implications.",
                        nextSteps: ["Philosophy Deep-Dive", "Austrian Economics", "Monetary History"]
                    },
                    business: {
                        name: "Business Owner",
                        startPoint: "#features",
                        recommendations: ['lightning-lab', 'security-dojo', 'strategy-advisor'],
                        content: "Learn practical Bitcoin integration for your business.",
                        nextSteps: ["Payment Integration", "Security Setup", "Legal Considerations"]
                    },
                    student: {
                        name: "Academic Student",
                        startPoint: "#path",
                        recommendations: ['debate-arena', 'visual-synthesizer', 'time-machine'],
                        content: "Follow our structured academic curriculum with rigorous analysis.",
                        nextSteps: ["Economic Theory", "Monetary Systems", "Research Methods"]
                    },
                    retiree: {
                        name: "Wealth Preserver",
                        startPoint: "#bitcoin-data",
                        recommendations: ['security-dojo', 'strategy-advisor', 'wallet-workshop'],
                        content: "Focus on Bitcoin as a store of value and inflation hedge.",
                        nextSteps: ["Inflation Protection", "Safe Storage", "Estate Planning"]
                    },
                    entrepreneur: {
                        name: "Bitcoin Entrepreneur",
                        startPoint: "#features",
                        recommendations: ['future-oracle', 'lightning-lab', 'business-integration'],
                        content: "Explore Bitcoin business opportunities and innovation potential.",
                        nextSteps: ["Market Opportunities", "Technical Integration", "Business Models"]
                    },
                    skeptic: {
                        name: "Bitcoin Skeptic",
                        startPoint: "#features",
                        recommendations: ['debate-arena', 'time-machine', 'philosophy-guide'],
                        content: "Address your concerns with evidence-based analysis and debate.",
                        nextSteps: ["Common Criticisms", "Evidence Review", "Risk Analysis"]
                    },
                    maximalist: {
                        name: "Bitcoin Maximalist",
                        startPoint: "#agents",
                        recommendations: ['consensus-game', 'lightning-lab', 'mining-simulator'],
                        content: "Deepen your technical knowledge and contribute to the ecosystem.",
                        nextSteps: ["Advanced Protocols", "Node Operation", "Development"]
                    },
                    parent: {
                        name: "Parent & Educator",
                        startPoint: "#features",
                        recommendations: ['story-navigator', 'visual-synthesizer', 'bitcoin-sovereign-game'],
                        content: "Learn family-friendly ways to teach Bitcoin and sound money.",
                        nextSteps: ["Teaching Resources", "Age-Appropriate Content", "Family Planning"]
                    },
                    global: {
                        name: "Global Citizen",
                        startPoint: "#features",
                        recommendations: ['bitcoin-sovereign-game', 'lightning-lab', 'security-dojo'],
                        content: "Understand Bitcoin as censorship-resistant global money.",
                        nextSteps: ["Capital Controls", "Remittances", "Financial Freedom"]
                    }
                };

                // Setup persona selection with error handling
                const personaCards = document.querySelectorAll('.persona-card');
                const continueBtn = document.querySelector('.btn-continue');
                const skipBtn = document.querySelector('.btn-skip');
                
                console.log('PersonaGuidanceSystem: Found', personaCards.length, 'persona cards');
                console.log('PersonaGuidanceSystem: Continue button found:', !!continueBtn);
                console.log('PersonaGuidanceSystem: Skip button found:', !!skipBtn);

                personaCards.forEach((card, index) => {
                    console.log(`PersonaGuidanceSystem: Setting up card ${index}:`, card.dataset.persona);
                    card.addEventListener('click', () => {
                        try {
                            console.log('PersonaGuidanceSystem: Card clicked:', card.dataset.persona);
                            personaCards.forEach(c => c.classList.remove('selected'));
                            card.classList.add('selected');
                            this.selectedPersona = personas[card.dataset.persona];
                            if (continueBtn) {
                                continueBtn.disabled = false;
                                continueBtn.textContent = `Start as ${this.selectedPersona.name}`;
                            }
                            console.log('PersonaGuidanceSystem: Persona selected:', this.selectedPersona.name);
                        } catch (error) {
                            console.error('PersonaGuidanceSystem: Error in card click handler:', error);
                        }
                    });
                });

                if (continueBtn) {
                    continueBtn.addEventListener('click', async () => {
                        try {
                            if (!this.selectedPersona) {
                                console.warn('PersonaGuidanceSystem: No persona selected yet');
                                return;
                            }
                            await this.startPersonalizedJourney();
                        } catch (error) {
                            console.error('PersonaGuidanceSystem: Error starting journey:', error);
                        }
                    });
                }

                if (skipBtn) {
                    skipBtn.addEventListener('click', () => {
                        try {
                            this.hidePersonaModal();
                        } catch (error) {
                            console.error('PersonaGuidanceSystem: Error hiding modal:', error);
                        }
                    });
                }
            }

            showPersonaModal() {
                // Only show if no persona selected and onboarding is not active
                try {
                    const hasPersona = !!localStorage.getItem('btc-academy-persona');
                    const onboardingCompleted = localStorage.getItem('btc-academy-onboarding-completed') === 'true';
                    const onboardingSkipped = localStorage.getItem('btc-academy-onboarding-skipped') === 'true';
                    const onboardingActive = document.body.classList.contains('onboarding-active');

                    // If onboarding is active or not yet completed/skipped, defer modal until onboarding finishes
                    if (onboardingActive || (!onboardingCompleted && !onboardingSkipped)) {
                        console.log('PersonaGuidanceSystem: Deferring persona modal (onboarding active)');
                        return;
                    }

                    if (!hasPersona) {
                        // Show modal after a brief delay
                        setTimeout(() => {
                            const modal = document.getElementById('personaModal');
                            if (modal) modal.classList.remove('hidden');
                        }, 2000);
                    }
                } catch (err) {
                    console.error('PersonaGuidanceSystem: Error showing persona modal:', err);
                }
            }

            hidePersonaModal() {
                document.getElementById('personaModal').classList.add('hidden');
            }

            async startPersonalizedJourney() {
                this.hidePersonaModal();
                this.showProgressTracker();
                this.updateProgress(10); // Initial progress
                this.showSmartPrompt(this.selectedPersona.content, this.selectedPersona.nextSteps);
                
                // Map persona names to MCP service persona IDs
                const personaMapping = {
                    'Bitcoin Curious Explorer': 'bitcoin-curious',
                    'Traditional Investor': 'investor',
                    'Tech Developer': 'developer',
                    'Freedom Seeker': 'libertarian',
                    'Business Owner': 'business-owner',
                    'Academic Student': 'student',
                    'Wealth Preserver': 'retiree',
                    'Bitcoin Entrepreneur': 'entrepreneur',
                    'Bitcoin Skeptic': 'skeptic',
                    'Bitcoin Maximalist': 'maximalist',
                    'Parent & Educator': 'parent',
                    'Global Citizen': 'global'
                };
                
                // Set persona in MCP service
                const personaId = personaMapping[this.selectedPersona.name];
                if (personaId && window.mcpService) {
                    await window.mcpService.setPersona(personaId);
                    
                    // Trigger content refresh event for all dynamic content
                    window.dispatchEvent(new CustomEvent('personaChanged', {
                        detail: {
                            personaId: personaId,
                            personaName: this.selectedPersona.name
                        }
                    }));
                }
                
                // Scroll to recommended starting point
                setTimeout(() => {
                    const target = document.querySelector(this.selectedPersona.startPoint);
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth' });
                    }
                }, 1000);

                // Start guided tour
                setTimeout(() => {
                    this.startGuidedTour();
                }, 3000);

                // Track persona selection
                trackEvent('Persona Selected', { persona: this.selectedPersona.name });
            }

            setupTour() {
                const tourElement = document.getElementById('guidedTour');
                const tourNext = document.getElementById('tourNext');
                const tourSkip = document.getElementById('tourSkip');

                tourNext.addEventListener('click', () => {
                    this.nextTourStep();
                });

                tourSkip.addEventListener('click', () => {
                    this.endTour();
                });
            }

            startGuidedTour() {
                if (!this.selectedPersona) return;
                
                this.currentTourStep = 0;
                this.tourSteps = this.generateTourSteps();
                this.showTourStep();
            }

            generateTourSteps() {
                const baseSteps = [
                    {
                        title: `Welcome ${this.selectedPersona.name}!`,
                        description: this.selectedPersona.content,
                        target: this.selectedPersona.startPoint
                    },
                    {
                        title: "AI Learning Agents",
                        description: "Meet your personalized AI tutors who will guide your journey.",
                        target: "#agents"
                    },
                    {
                        title: "Interactive Demos",
                        description: "Try hands-on experiences to learn by doing, not just reading.",
                        target: "#features"
                    },
                    {
                        title: "Your Progress",
                        description: "Track your learning journey and earn achievements.",
                        target: ".progress-tracker"
                    }
                ];

                return baseSteps;
            }

            showTourStep() {
                if (this.currentTourStep >= this.tourSteps.length) {
                    this.endTour();
                    return;
                }

                const step = this.tourSteps[this.currentTourStep];
                const target = document.querySelector(step.target);
                
                if (target) {
                    const rect = target.getBoundingClientRect();
                    const tourElement = document.getElementById('guidedTour');
                    
                    // Position tour popup
                    tourElement.style.left = `${rect.left + rect.width / 2 - 175}px`;
                    tourElement.style.top = `${rect.top - 200}px`;
                    
                    // Update content
                    document.getElementById('tourTitle').textContent = step.title;
                    document.getElementById('tourDescription').textContent = step.description;
                    
                    // Show tour
                    tourElement.classList.remove('hidden');
                }
            }

            nextTourStep() {
                this.currentTourStep++;
                this.updateProgress(this.progress + 15);
                this.showTourStep();
            }

            endTour() {
                document.getElementById('guidedTour').classList.add('hidden');
                this.updateProgress(this.progress + 20);
                this.addAchievement('🎯 Tour Completed');
            }

            setupProgressTracker() {
                const toggleBtn = document.getElementById('toggleProgress');
                toggleBtn.addEventListener('click', () => {
                    const tracker = document.querySelector('.progress-content');
                    tracker.style.display = tracker.style.display === 'none' ? 'block' : 'none';
                });
            }

            showProgressTracker() {
                document.getElementById('progressTracker').classList.remove('hidden');
                if (this.selectedPersona) {
                    document.getElementById('personaName').textContent = this.selectedPersona.name;
                }
            }

            updateProgress(newProgress) {
                this.progress = Math.min(newProgress, 100);
                document.getElementById('progressFill').style.width = `${this.progress}%`;
                document.getElementById('progressText').textContent = `${Math.round(this.progress)}% Complete`;
                
                // Update next step
                if (this.selectedPersona && this.selectedPersona.nextSteps.length > 0) {
                    const nextIndex = Math.floor(this.progress / 33);
                    const nextStep = this.selectedPersona.nextSteps[nextIndex] || "Keep exploring!";
                    document.getElementById('nextStep').textContent = `Next: ${nextStep}`;
                }
            }

            addAchievement(achievement) {
                this.achievements.push(achievement);
                const achievementsEl = document.getElementById('achievements');
                const badge = document.createElement('span');
                badge.className = 'achievement';
                badge.textContent = achievement;
                achievementsEl.appendChild(badge);
            }

            setupHelpSystem() {
                const helpBubble = document.getElementById('helpBubble');
                const helpClose = document.getElementById('helpClose');
                
                helpBubble.addEventListener('click', () => {
                    this.showContextualHelp();
                });
                
                helpClose.addEventListener('click', () => {
                    helpBubble.style.display = 'none';
                });

                // Show help suggestions periodically
                setInterval(() => {
                    this.showRandomTip();
                }, 45000);
            }

            showContextualHelp() {
                const tips = [
                    "💡 Try clicking on any feature card to learn more!",
                    "🎮 The SOVEREIGN Journey game is perfect for beginners",
                    "🤖 AI agents can answer your specific Bitcoin questions",
                    "📊 Check the live Bitcoin data section for real-time metrics",
                    "⚡ Lightning Network demos show Bitcoin's instant payment layer"
                ];
                
                const randomTip = tips[Math.floor(Math.random() * tips.length)];
                this.showSmartPrompt(randomTip, ["Got it!", "Tell me more"]);
            }

            showRandomTip() {
                if (this.progress < 50) {
                    const tips = [
                        "📈 Check your progress in the top-right corner",
                        "🎯 Each demo teaches different Bitcoin concepts",
                        "🧠 AI agents adapt to your learning style",
                        "📚 Follow the learning path for structured education"
                    ];
                    
                    const tip = tips[Math.floor(Math.random() * tips.length)];
                    document.getElementById('helpText').textContent = tip;
                }
            }

            showSmartPrompt(message, actions = []) {
                const promptsEl = document.getElementById('smartPrompts');
                const prompt = document.createElement('div');
                prompt.className = 'smart-prompt';
                
                const closeBtn = document.createElement('button');
                closeBtn.className = 'smart-prompt-close';
                closeBtn.textContent = '×';
                closeBtn.onclick = () => prompt.remove();
                
                prompt.innerHTML = `
                    <p>${message}</p>
                    ${actions.map(action => `<button class="btn btn-secondary" style="margin: 0.5rem 0.5rem 0 0; padding: 0.3rem 1rem; font-size: 0.8rem;">${action}</button>`).join('')}
                `;
                prompt.appendChild(closeBtn);
                
                promptsEl.appendChild(prompt);
                
                // Auto-remove after 10 seconds
                setTimeout(() => {
                    if (prompt.parentNode) {
                        prompt.remove();
                    }
                }, 10000);
            }

            loadUserProgress() {
                // Load from localStorage if available
                const saved = localStorage.getItem('bitcoinAcademyProgress');
                if (saved) {
                    const data = JSON.parse(saved);
                    this.progress = data.progress || 0;
                    this.achievements = data.achievements || [];
                }
            }

            saveUserProgress() {
                localStorage.setItem('bitcoinAcademyProgress', JSON.stringify({
                    progress: this.progress,
                    achievements: this.achievements,
                    selectedPersona: this.selectedPersona
                }));
            }
        }

        // Initialize the guidance system with proper error handling
        let guidanceSystem;
        try {
            guidanceSystem = new PersonaGuidanceSystem();
            console.log('PersonaGuidanceSystem initialized successfully');
        } catch (error) {
            console.error('Error initializing PersonaGuidanceSystem:', error);
            // Fallback initialization will be handled by fix-persona-modal.js
        }

        // Enhanced feature card interactions
        document.querySelectorAll('.feature-card').forEach(card => {
            card.addEventListener('click', (e) => {
                const title = card.querySelector('.feature-title').textContent;
                guidanceSystem.updateProgress(guidanceSystem.progress + 5);
                guidanceSystem.addAchievement(`🎯 Tried ${title}`);
                trackEvent('Feature Clicked', { feature: title });
            });
        });

        // Save progress periodically
        setInterval(() => {
            guidanceSystem.saveUserProgress();
        }, 30000);
        
        // Track activity for MCP dynamic updates
        document.addEventListener('click', () => {
            localStorage.setItem('btc-academy-last-activity', Date.now().toString());
        });
        
        document.addEventListener('scroll', () => {
            localStorage.setItem('btc-academy-last-activity', Date.now().toString());
        });
    </script>
    
    <!-- MCP Service and Dynamic Content Integration -->
    <script src="js/mcp-service.js"></script>
    <script src="js/bitcoin-data-reliable.js"></script>
    <script src="js/dynamic-content.js"></script>
    <script src="js/learning-path.js"></script>
    <script src="js/onboarding-flow.js"></script>
    <script type="module" defer src="/assets/hero3d.js"></script>
    <script defer src="/js/hero-cta.js"></script>
    <script defer src="/js/ab-home.js"></script>

    <!-- Analytics helpers and tracking (Plausible) -->
    <script>
      // Safe wrapper for Plausible
      window.track = function(name, props={}){
        if (window.plausible) { try { window.plausible(name, { props }); } catch(e){} }
      };
      window.abVariant = () => (location.hash.includes('ab=data-first') ? 'data-first' : 'experience-first');
      window.resolvePersona = () => (window.MCP?.state?.persona) || (window.mcpService?.currentPersona) || 'unknown';
      // Persist AB + persona for downstream pages
      try {
        const _ab = window.abVariant();
        const _persona = window.resolvePersona() || localStorage.getItem('persona') || 'unknown';
        localStorage.setItem('ab', _ab);
        localStorage.setItem('persona', _persona);
        window.getAB = () => localStorage.getItem('ab') || _ab;
        window.getPersona = () => localStorage.getItem('persona') || _persona;
      } catch {}

      // Hero chip click tracking
      document.addEventListener('click', (e) => {
        const a = e.target.closest('#hero-cta a.chip');
        if (!a) return;
        window.track('Hero Chip Click', { persona: (window.getPersona ? window.getPersona() : window.resolvePersona()), href: a.getAttribute('href'), ab: (window.getAB ? window.getAB() : window.abVariant()) });
      });

      // Featured fallback if MCP hasn't populated in time
      (function(){
        const box = document.getElementById('featured-content');
        const fb  = document.getElementById('featured-fallback');
        setTimeout(() => {
          if (box && box.children.length === 0) {
            try { box.classList.remove('skel'); box.removeAttribute('aria-busy'); } catch {}
            if (fb) fb.style.display = 'block';
          }
        }, 2000);
        window.addEventListener('mcp:featured:ready', () => { if (fb) fb.style.display = 'none'; });
      })();

      // Featured grid click delegate
      document.addEventListener('click', (e) => {
        const a = e.target.closest('#featured-content a');
        if (!a) return;
        window.track('Featured Item Click', { href: a.getAttribute('href'), ab: (window.getAB ? window.getAB() : window.abVariant()) });
      });

      // Learning Path delegate for key actions
      document.addEventListener('click', (e) => {
        const t = e.target.closest('#learning-path-content [data-lp-action]');
        if (!t) return;
        const action = t.getAttribute('data-lp-action');
        const id = t.getAttribute('data-lp-id');
        window.track('Learning Path Action', {
          action,
          id,
          ab: (window.getAB ? window.getAB() : window.abVariant()),
          persona: (window.getPersona ? window.getPersona() : window.resolvePersona())
        });
      });

      // Hide persona chips whose routes are missing (dev safeguard)
      (async function(){
        const links = document.querySelectorAll('#hero-cta a.chip');
        for (const a of links) {
          try {
            const r = await fetch(a.getAttribute('href'), { method: 'HEAD' });
            if (!r.ok) a.style.display = 'none';
          } catch { a.style.display = 'none'; }
        }
      })();

      // ===== PREVIEW MODE ACCESS CONTROL =====
      (function() {
        // Check for developer override
        const urlParams = new URLSearchParams(window.location.search);
        const hasUrlOverride = urlParams.get('unlock') === 'all';
        const hasStorageOverride = localStorage.getItem('devUnlockAll') === 'true';
        const isDeveloperMode = hasUrlOverride || hasStorageOverride;

        // Save override to localStorage if URL parameter is used
        if (hasUrlOverride && !hasStorageOverride) {
          localStorage.setItem('devUnlockAll', 'true');
          console.log('✅ Developer mode ENABLED. All content unlocked. To disable, use ?unlock=off or clear localStorage.');
        }

        // Allow disabling via URL
        if (urlParams.get('unlock') === 'off') {
          localStorage.removeItem('devUnlockAll');
          console.log('🔒 Developer mode DISABLED. Preview mode restrictions active.');
          window.location.href = window.location.pathname; // Reload without query params
          return;
        }

        // If developer mode is active, show indicator and exit
        if (isDeveloperMode) {
          // Add dev mode indicator to page
          const devIndicator = document.createElement('div');
          devIndicator.style.cssText = `
            position: fixed;
            top: 10px;
            right: 10px;
            background: #4CAF50;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            z-index: 10000;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          `;
          devIndicator.textContent = '🔓 DEV MODE';
          devIndicator.title = 'All content unlocked. Add ?unlock=off to disable.';
          document.body.appendChild(devIndicator);
          console.log('🔓 Developer mode active. All content is unlocked.');
          return; // Skip all restrictions
        }

        // PREVIEW MODE RESTRICTIONS
        console.log('🔒 Preview mode active. Some content is locked.');
        console.log('💡 To unlock all content for development, add ?unlock=all to the URL');

        const previewConfig = {
          paths: {
            curious: {
              unlocked: ['stage-1'], // Only stage-1 unlocked
              locked: ['stage-2', 'stage-3', 'stage-4']
            },
            hurried: {
              unlocked: ['all'], // All modules unlocked (Hurried path is single page)
              locked: []
            },
            builder: {
              unlocked: ['stage-1'], // Only Genesis timeline (assuming it's in stage-1)
              locked: ['stage-2', 'stage-3', 'stage-4']
            },
            sovereign: {
              unlocked: [], // Everything locked
              locked: ['stage-1', 'stage-2', 'stage-3', 'stage-4', 'stage-5']
            }
          },
          demos: {
            unlocked: ['consensus-game', 'account-freeze-locked-out'], // Consensus Game and Locked Out of YOUR Money
            locked: [
              // Learning demos
              'bitcoin-layers-map',
              'stock-to-flow',
              'computational-puzzles-demo',
              'bitcoin-supply-schedule',
              'debt-crisis',
              // Practice tools (all locked)
              'fee-master-tool',
              'sat-stacking-calculator',
              'utxo-visualizer-enhanced',
              'transaction-builder',
              'mining-simulator',
              // Master section
              'testnet-practice-guide',
              'lightning-network-demo',
              'security-dojo-enhanced',
              'wallet-security-workshop',
              // Make Real Decisions (all except account-freeze-locked-out)
              'emergency-fifty-scenario',
              'savings-disappear-scenario',
              'bitcoin-vs-banking',
              'ledger-keeper-dilemma',
              // Previously locked
              'bitcoin-sovereign-game',
              'wallet-workshop',
              'security-dojo',
              'time-machine'
            ]
          },
          aiAgents: {
            unlocked: ['visual-synthesizer'], // Only Visual Synthesizer
            locked: [
              'story-navigator',
              'debate-arena',
              'future-oracle',
              'strategy-advisor',
              'data-poet',
              'philosophy-guide',
              'time-machine'
            ]
          }
        };

        // Helper function to add lock overlay
        function addLockOverlay(element, message = 'Coming Soon in Full Release') {
          element.style.position = 'relative';
          element.style.opacity = '0.5';
          element.style.pointerEvents = 'none';
          element.style.cursor = 'not-allowed';

          // Remove any existing onclick handlers
          element.removeAttribute('onclick');
          element.onclick = null;

          const lockBadge = document.createElement('div');
          lockBadge.style.cssText = `
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(244, 67, 54, 0.9);
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            z-index: 10;
            display: flex;
            align-items: center;
            gap: 4px;
          `;
          lockBadge.innerHTML = `🔒 LOCKED`;
          lockBadge.title = message;
          element.appendChild(lockBadge);

          // Prevent clicks with capture phase
          element.addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();
            alert(`🔒 ${message}\n\nThis content will be available in the full release.`);
            return false;
          }, true);

          // Also prevent with standard phase
          element.addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();
            return false;
          });
        }

        // Lock Learning Paths
        const pathCards = document.querySelectorAll('.path-card');
        pathCards.forEach(card => {
          const href = card.getAttribute('href') || '';

          // Curious Path - lock stages 2-4
          if (href.includes('/paths/curious/')) {
            card.setAttribute('data-path', 'curious');
          }

          // Hurried Path - all unlocked (single page)
          if (href.includes('/paths/hurried/')) {
            card.setAttribute('data-path', 'hurried');
            // No locking needed
          }

          // Builder Path - lock stages 2-4
          if (href.includes('/paths/builder/')) {
            card.setAttribute('data-path', 'builder');
          }

          // Sovereign Path - lock everything
          if (href.includes('/paths/sovereign/')) {
            console.log('🔒 Locking Sovereign Path card on homepage');
            addLockOverlay(card, 'Sovereign Path - Coming in Full Release');
          }
        });

        // Lock Demos
        const demoCards = document.querySelectorAll('.feature-card');
        demoCards.forEach(card => {
          const href = card.getAttribute('href') || '';

          // Check if demo is locked
          const isLocked = previewConfig.demos.locked.some(demo =>
            href.includes(demo)
          );

          if (isLocked) {
            addLockOverlay(card, 'Demo - Coming in Full Release');
          }
        });

        // Lock AI Agents
        const agentCards = document.querySelectorAll('.agent-card');
        agentCards.forEach(card => {
          const dataLink = card.getAttribute('data-link') || '';

          // Check if agent is locked
          const isLocked = previewConfig.aiAgents.locked.some(agent =>
            dataLink.includes(agent) ||
            card.textContent.toLowerCase().includes(agent.replace('-', ' '))
          );

          if (isLocked) {
            addLockOverlay(card, 'AI Agent - Coming in Full Release');
          }
        });

        // Add info message to console
        console.log('📋 Preview Mode Access:');
        console.log('  Paths:');
        console.log('    ✅ Curious: Stage 1 only');
        console.log('    ✅ Hurried: All modules');
        console.log('    ✅ Builder: Genesis timeline only');
        console.log('    🔒 Sovereign: All locked');
        console.log('  Demos:');
        console.log('    ✅ Unlocked: Consensus Game, Locked Out of YOUR Money');
        console.log('    🔒 Locked: Bitcoin Layers Map, Stock-to-Flow, Computational Puzzles');
        console.log('    🔒 Locked: Bitcoin Supply Schedule, Debt Crisis');
        console.log('  Practice Tools:');
        console.log('    🔒 All 6 tools locked (Fee Master, Lightning Instant, Sat Stacking, etc.)');
        console.log('  Master Section:');
        console.log('    🔒 Testnet Practice, Lightning Network Lab, Security Dojo, Wallet Workshop');
        console.log('  Make Real Decisions:');
        console.log('    ✅ Unlocked: Locked Out of YOUR Money');
        console.log('    🔒 Locked: $50 Emergency, Savings Disappear, Bitcoin vs Banking, Ledger Keeper');
        console.log('  AI Agents:');
        console.log('    ✅ Visual Synthesizer');
        console.log('    🔒 Story Navigator, Debate Arena, Future Oracle');
        console.log('    🔒 Strategy Advisor, Data Poet, Philosophy Guide, Time Machine');
        console.log('');
        console.log('💡 Add ?unlock=all to URL to enable developer mode');

      })();
    </script>


</body>
</html>
