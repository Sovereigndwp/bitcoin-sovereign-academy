<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Learning Path | Bitcoin Sovereign Academy</title>
    <meta name="description" content="Your personalized Bitcoin learning journey">
    <link rel="stylesheet" href="/css/brand.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 2rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Header */
        .dashboard-header {
            text-align: center;
            margin-bottom: 3rem;
            animation: fadeIn 0.6s ease;
        }

        .dashboard-header h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #f7931a, #ffb347);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .dashboard-header .welcome-text {
            font-size: 1.2rem;
            color: #b3b3b3;
            margin-bottom: 1rem;
        }

        .retake-assessment {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 0.5rem;
            color: #b3b3b3;
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .retake-assessment:hover {
            border-color: #f7931a;
            color: #f7931a;
        }

        /* Section Headers */
        .section {
            margin-bottom: 3rem;
            animation: fadeIn 0.6s ease;
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .section-icon {
            font-size: 2rem;
        }

        .section-title {
            font-size: 1.8rem;
            color: #fff;
        }

        .section-subtitle {
            color: #b3b3b3;
            margin-left: 3rem;
            margin-bottom: 1.5rem;
            font-size: 1rem;
        }

        /* Start Here Section */
        .start-here-grid {
            display: grid;
            gap: 1.5rem;
        }

        .start-card {
            background: linear-gradient(135deg, rgba(247, 147, 26, 0.2), rgba(255, 179, 71, 0.1));
            border: 2px solid rgba(247, 147, 26, 0.4);
            border-radius: 1rem;
            padding: 2rem;
            display: flex;
            align-items: center;
            gap: 1.5rem;
            transition: all 0.3s ease;
            cursor: pointer;
            text-decoration: none;
            color: inherit;
        }

        .start-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(247, 147, 26, 0.3);
            border-color: #f7931a;
        }

        .start-card-number {
            font-size: 3rem;
            font-weight: bold;
            color: #f7931a;
            flex-shrink: 0;
        }

        .start-card-content {
            flex: 1;
        }

        .start-card-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #fff;
            margin-bottom: 0.5rem;
        }

        .start-card-description {
            color: #b3b3b3;
            line-height: 1.5;
        }

        .start-card-time {
            color: #f7931a;
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }

        /* Path Card */
        .path-card {
            background: #2d2d2d;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            padding: 2.5rem;
            transition: all 0.3s ease;
        }

        .path-card.curious {
            border-color: rgba(76, 175, 80, 0.4);
        }

        .path-card.pragmatist {
            border-color: rgba(0, 188, 212, 0.4);
        }

        .path-card.principled {
            border-color: rgba(156, 39, 176, 0.4);
        }

        .path-card.sovereign {
            border-color: rgba(255, 152, 0, 0.4);
        }

        .path-card.hurried {
            border-color: rgba(255, 167, 38, 0.4);
        }

        .path-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .path-badge {
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .path-badge.curious {
            background: rgba(76, 175, 80, 0.2);
            color: #4caf50;
        }

        .path-badge.pragmatist {
            background: rgba(0, 188, 212, 0.2);
            color: #00bcd4;
        }

        .path-badge.principled {
            background: rgba(156, 39, 176, 0.2);
            color: #9c27b0;
        }

        .path-badge.sovereign {
            background: rgba(255, 152, 0, 0.2);
            color: #ff9800;
        }

        .path-badge.hurried {
            background: rgba(255, 167, 38, 0.2);
            color: #FFA726;
        }

        .path-name {
            font-size: 1.5rem;
            color: #fff;
        }

        .path-description {
            color: #b3b3b3;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .path-modules {
            display: grid;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .module-link {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.5rem;
            background: rgba(255, 255, 255, 0.03);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 0.75rem;
            text-decoration: none;
            color: inherit;
            transition: all 0.3s ease;
        }

        .module-link:hover {
            border-color: #f7931a;
            background: rgba(247, 147, 26, 0.1);
            transform: translateX(8px);
        }

        .module-icon {
            font-size: 1.5rem;
        }

        .module-info {
            flex: 1;
        }

        .module-title {
            font-weight: 600;
            color: #fff;
            margin-bottom: 0.25rem;
        }

        .module-description {
            font-size: 0.9rem;
            color: #b3b3b3;
        }

        /* Tools Grid */
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .tool-card {
            background: #2d2d2d;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            padding: 2rem;
            text-decoration: none;
            color: inherit;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .tool-card:hover {
            border-color: #f7931a;
            background: rgba(247, 147, 26, 0.05);
            transform: translateY(-4px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .tool-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .tool-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #fff;
            margin-bottom: 0.5rem;
        }

        .tool-description {
            color: #b3b3b3;
            line-height: 1.5;
            font-size: 0.95rem;
        }

        .tool-tag {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            background: rgba(247, 147, 26, 0.2);
            border-radius: 0.5rem;
            font-size: 0.85rem;
            color: #f7931a;
            margin-top: 1rem;
        }

        /* Optional Section */
        .optional-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .optional-card {
            background: rgba(255, 255, 255, 0.03);
            border: 2px solid rgba(255, 255, 255, 0.08);
            border-radius: 0.75rem;
            padding: 1.5rem;
            text-decoration: none;
            color: inherit;
            transition: all 0.3s ease;
        }

        .optional-card:hover {
            border-color: rgba(247, 147, 26, 0.5);
            background: rgba(247, 147, 26, 0.05);
        }

        .optional-card-title {
            font-weight: 600;
            color: #fff;
            margin-bottom: 0.5rem;
            font-size: 1.05rem;
        }

        .optional-card-description {
            color: #b3b3b3;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Loading State */
        .loading {
            text-align: center;
            padding: 4rem;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(247, 147, 26, 0.2);
            border-top-color: #f7931a;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }

            .dashboard-header h1 {
                font-size: 2rem;
            }

            .section-title {
                font-size: 1.5rem;
            }

            .tools-grid,
            .optional-grid {
                grid-template-columns: 1fr;
            }

            .start-card {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="loading" class="loading">
            <div class="loading-spinner"></div>
            <p style="color: #b3b3b3;">Generating your personalized learning path...</p>
        </div>

        <div id="dashboard" style="display: none;">
            <!-- Dashboard content will be generated by JavaScript -->
        </div>
    </div>

    <script>
        // Path Definitions
        const paths = {
            curious: {
                name: 'The Curious Path',
                badge: 'CURIOUS',
                color: 'curious',
                description: 'You want to understand Bitcoin from the ground up. This path starts with money fundamentals and builds your understanding step by step.',
                stages: [
                    {
                        title: 'Stage 1: Money Basics',
                        modules: [
                            { url: '/paths/curious/stage-1/module-1.html', title: 'Why Money Matters', description: 'Understanding the role of money' },
                            { url: '/paths/curious/stage-1/module-2.html', title: 'What is Bitcoin?', description: 'Bitcoin explained simply' },
                            { url: '/paths/curious/stage-1/module-3.html', title: 'Bitcoin Supply', description: 'Why 21 million matters' }
                        ]
                    },
                    {
                        title: 'Stage 2: How It Works',
                        modules: [
                            { url: '/paths/curious/stage-2/module-1.html', title: 'Transactions', description: 'How Bitcoin moves' },
                            { url: '/paths/curious/stage-2/module-2.html', title: 'Mining & Security', description: 'What keeps Bitcoin safe' }
                        ]
                    }
                ]
            },
            hurried: {
                name: 'The Hurried Path',
                badge: 'HURRIED',
                color: 'hurried',
                description: 'You need Bitcoin secured NOW. Zero fluff, pure action. 60 minutes from zero to self-custody.',
                stages: [
                    {
                        title: 'Your 6 Action Steps',
                        modules: [
                            { url: '/paths/hurried/stage-1/module-1.html', title: '1. Buy Bitcoin', description: '10 min: Get your first Bitcoin' },
                            { url: '/paths/hurried/stage-1/module-2.html', title: '2. Move to Self-Custody', description: '10 min: Take full control' },
                            { url: '/paths/hurried/stage-1/module-3.html', title: '3. Secure Seed Phrase', description: '10 min: Backup properly' },
                            { url: '/paths/hurried/stage-2/module-4.html', title: '4. Test Recovery', description: '10 min: Prove you can recover' },
                            { url: '/paths/hurried/stage-2/module-5.html', title: '5. Send Transactions', description: '10 min: Move Bitcoin safely' },
                            { url: '/paths/hurried/stage-3/module-6.html', title: '6. Upgrade to Multisig', description: '10 min: Graduate to advanced security' }
                        ]
                    }
                ]
            },
            pragmatist: {
                name: 'The Pragmatist Path',
                badge: 'PRAGMATIST',
                color: 'pragmatist',
                description: 'You need practical knowledge fast. This path gives you what you need to use Bitcoin confidently without unnecessary theory.',
                stages: [
                    {
                        title: 'Stage 1: Get Started',
                        modules: [
                            { url: '/paths/pragmatist/stage-1/module-1.html', title: 'Bitcoin Basics', description: 'What you need to know' },
                            { url: '/paths/pragmatist/stage-1/module-2.html', title: 'Getting Bitcoin', description: 'How to acquire it safely' },
                            { url: '/paths/pragmatist/stage-1/module-3.html', title: 'First Wallet Setup', description: 'Your first Bitcoin wallet' }
                        ]
                    }
                ]
            },
            principled: {
                name: 'The Principled Path',
                badge: 'PRINCIPLED',
                color: 'principled',
                description: 'You want to understand why Bitcoin matters philosophically and economically. This path explores the deeper implications.',
                stages: [
                    {
                        title: 'Stage 1: First Principles',
                        modules: [
                            { url: '/deep-dives/first-principles/index.html', title: 'Money & Sovereignty', description: 'What makes money valuable?' },
                            { url: '/deep-dives/philosophy-economics/index.html', title: 'Bitcoin Philosophy', description: 'Why Bitcoin exists' }
                        ]
                    }
                ]
            },
            sovereign: {
                name: 'The Sovereign Path',
                badge: 'SOVEREIGN',
                color: 'sovereign',
                description: 'You\'re ready for advanced security and full self-custody. This path covers everything from hardware wallets to inheritance planning.',
                stages: [
                    {
                        title: 'Stage 1: Advanced Security',
                        modules: [
                            { url: '/paths/sovereign/stage-1/module-1.html', title: 'Self-Custody Fundamentals', description: 'Taking full control' },
                            { url: '/paths/sovereign/stage-1/module-2.html', title: 'Hardware Wallets', description: 'Maximum security setup' },
                            { url: '/paths/sovereign/stage-1/module-3.html', title: 'Multisig & Backup', description: 'Advanced protection' }
                        ]
                    }
                ]
            }
        };

        // Tool Recommendations
        const tools = {
            wallet_security: {
                icon: 'üîê',
                title: 'Wallet Security Workshop',
                description: 'Practice generating and backing up seed phrases in a safe simulation',
                url: '/interactive-demos/wallet-security-workshop/',
                tags: ['security', 'custody', 'sovereign', 'pragmatist']
            },
            unit_converter: {
                icon: 'üßÆ',
                title: 'Bitcoin Unit Converter',
                description: 'Master sats, BTC, and fiat conversions',
                url: '/interactive-demos/unit-converter/',
                tags: ['pragmatist', 'curious', 'beginner']
            },
            mempool_visualizer: {
                icon: 'üìä',
                title: 'Mempool Visualizer',
                description: 'See how transactions wait and get confirmed',
                url: '/interactive-demos/mempool-visualizer/',
                tags: ['curious', 'technical', 'theory']
            },
            difficulty_calculator: {
                icon: '‚õèÔ∏è',
                title: 'Mining Difficulty Calculator',
                description: 'Understand Bitcoin\'s self-adjusting security',
                url: '/interactive-demos/difficulty-calculator/',
                tags: ['curious', 'principled', 'deep']
            },
            inflation_lab: {
                icon: 'üí∏',
                title: 'Inflation Lab',
                description: 'Compare purchasing power of Bitcoin vs fiat over time',
                url: '/interactive-demos/inflation-lab/',
                tags: ['economics', 'principled', 'curious']
            },
            lightning_demo: {
                icon: '‚ö°',
                title: 'Lightning Network Demo',
                description: 'Experience instant Bitcoin payments',
                url: '/interactive-demos/lightning-network-demo/',
                tags: ['pragmatist', 'transactions', 'lightning']
            }
        };

        // Optional Content
        const optionalContent = {
            philosophy: {
                title: 'Austrian Economics Primer',
                description: 'Deep dive into the economic theory behind Bitcoin',
                url: '/deep-dives/philosophy-economics/'
            },
            history: {
                title: 'Bitcoin History Timeline',
                description: 'From Satoshi to present day',
                url: '/interactive-demos/bitcoin-history/'
            },
            privacy: {
                title: 'Privacy Best Practices',
                description: 'Protecting your financial privacy',
                url: '/paths/sovereign/stage-2/module-1.html'
            },
            technical: {
                title: 'How Bitcoin Actually Works',
                description: 'Technical deep dive for developers',
                url: '/deep-dives/first-principles/'
            }
        };

        // Load Assessment Results
        function loadAssessment() {
            const answers = JSON.parse(localStorage.getItem('bsa-assessment') || '{}');
            if (Object.keys(answers).length === 0) {
                window.location.href = '/start/';
                return null;
            }
            return answers;
        }

        // Analyze Answers and Determine Path
        function determinePath(answers) {
            const tagCounts = {};

            // Count all tags from answers
            Object.values(answers).flat().forEach(answerId => {
                // Find the question and option to get tags
                for (const question of ['goals', 'learning_style', 'knowledge', 'concerns', 'time', 'actions']) {
                    if (answers[question] && answers[question].includes(answerId)) {
                        // Map answer IDs to tags (simplified logic)
                        const tagMapping = {
                            'understand': ['curious', 'beginner'],
                            'use': ['pragmatist', 'practical'],
                            'skeptical': ['principled', 'philosophy'],
                            'secure': ['sovereign', 'security'],
                            'build': ['builder', 'advanced'],
                            'worried': ['curious', 'economics'],
                            'step_by_step': ['curious', 'guided'],
                            'hands_on': ['pragmatist', 'interactive'],
                            'theory': ['principled', 'deep'],
                            'quick': ['hurried', 'overview'],
                            'philosophy': ['principled', 'philosophy'],
                            'beginner': ['curious', 'level-1'],
                            'some': ['pragmatist', 'level-2'],
                            'basics': ['principled', 'level-3'],
                            'advanced': ['sovereign', 'level-4'],
                            'scam': ['curious', 'skeptical'],
                            'security': ['sovereign', 'security'],
                            'volatile': ['economics', 'risk'],
                            'tracking': ['sovereign', 'privacy'],
                            'complex': ['pragmatist', 'simplify'],
                            'not_concerned': ['curious', 'explorer'],
                            '10min': ['hurried', 'quick-start'],
                            '1hour': ['pragmatist', 'focused'],
                            'deep': ['principled', 'comprehensive'],
                            'own_pace': ['curious', 'flexible'],
                            'buy': ['pragmatist', 'beginner', 'buying'],
                            'custody': ['sovereign', 'security', 'custody'],
                            'transactions': ['pragmatist', 'lightning'],
                            'savings': ['economics', 'store-value'],
                            'explore': ['curious', 'explorer']
                        };

                        const tags = tagMapping[answerId] || [];
                        tags.forEach(tag => {
                            tagCounts[tag] = (tagCounts[tag] || 0) + 1;
                        });
                    }
                }
            });

            // Determine primary path based on tag frequency
            const pathScores = {
                curious: (tagCounts['curious'] || 0) + (tagCounts['beginner'] || 0) + (tagCounts['explorer'] || 0),
                hurried: (tagCounts['hurried'] || 0) + (tagCounts['quick-start'] || 0) + (tagCounts['overview'] || 0),
                pragmatist: (tagCounts['pragmatist'] || 0) + (tagCounts['practical'] || 0),
                principled: (tagCounts['principled'] || 0) + (tagCounts['philosophy'] || 0) + (tagCounts['deep'] || 0),
                sovereign: (tagCounts['sovereign'] || 0) + (tagCounts['security'] || 0) + (tagCounts['advanced'] || 0)
            };

            const primaryPath = Object.keys(pathScores).reduce((a, b) =>
                pathScores[a] > pathScores[b] ? a : b
            );

            return { primaryPath, tagCounts };
        }

        // Recommend Tools Based on Tags
        function recommendTools(tagCounts) {
            const toolScores = {};

            Object.entries(tools).forEach(([id, tool]) => {
                let score = 0;
                tool.tags.forEach(tag => {
                    if (tagCounts[tag]) {
                        score += tagCounts[tag];
                    }
                });
                if (score > 0) {
                    toolScores[id] = score;
                }
            });

            // Sort by score and return top 6
            return Object.entries(toolScores)
                .sort(([, a], [, b]) => b - a)
                .slice(0, 6)
                .map(([id]) => tools[id]);
        }

        // Generate Start Here Section
        function generateStartHere(primaryPath, tagCounts) {
            const startItems = [];

            // Always include first module of primary path
            const path = paths[primaryPath];
            const firstModule = path.stages[0].modules[0];
            startItems.push({
                number: '1',
                title: firstModule.title,
                description: firstModule.description,
                time: '5-10 minutes',
                url: firstModule.url
            });

            // Add security workshop if user concerned about security or custody
            if (tagCounts['security'] || tagCounts['custody'] || tagCounts['sovereign']) {
                startItems.push({
                    number: '2',
                    title: 'Practice Wallet Security',
                    description: 'Learn to safely back up a Bitcoin wallet in our risk-free simulation',
                    time: '10 minutes',
                    url: '/interactive-demos/wallet-security-workshop/'
                });
            } else if (tagCounts['pragmatist'] || tagCounts['practical']) {
                startItems.push({
                    number: '2',
                    title: 'Master Bitcoin Units',
                    description: 'Get comfortable with sats, BTC, and conversions',
                    time: '5 minutes',
                    url: '/interactive-demos/unit-converter/'
                });
            } else {
                startItems.push({
                    number: '2',
                    title: 'See Bitcoin in Action',
                    description: 'Watch how transactions flow through the network',
                    time: '8 minutes',
                    url: '/interactive-demos/mempool-visualizer/'
                });
            }

            return startItems;
        }

        // Recommend Optional Content
        function recommendOptional(tagCounts) {
            const recommended = [];

            if (tagCounts['philosophy'] || tagCounts['economics'] || tagCounts['principled']) {
                recommended.push(optionalContent.philosophy);
            }
            if (tagCounts['curious'] || tagCounts['explorer']) {
                recommended.push(optionalContent.history);
            }
            if (tagCounts['privacy'] || tagCounts['sovereign']) {
                recommended.push(optionalContent.privacy);
            }
            if (tagCounts['technical'] || tagCounts['builder'] || tagCounts['deep']) {
                recommended.push(optionalContent.technical);
            }

            return recommended.slice(0, 4);
        }

        // Render Dashboard
        function renderDashboard() {
            const answers = loadAssessment();
            if (!answers) return;

            const { primaryPath, tagCounts } = determinePath(answers);
            const path = paths[primaryPath];
            const startHere = generateStartHere(primaryPath, tagCounts);
            const recommendedTools = recommendTools(tagCounts);
            const optionalItems = recommendOptional(tagCounts);

            const dashboardHTML = `
                <div class="dashboard-header">
                    <h1>üéØ Your Learning Path</h1>
                    <p class="welcome-text">Based on your assessment, we've created a personalized journey for you</p>
                    <button class="retake-assessment" onclick="retakeAssessment()">
                        <span>üîÑ</span> Retake Assessment
                    </button>
                </div>

                <!-- Start Here -->
                <section class="section">
                    <div class="section-header">
                        <span class="section-icon">üöÄ</span>
                        <h2 class="section-title">START HERE</h2>
                    </div>
                    <p class="section-subtitle">These are your next immediate steps. Complete these first.</p>
                    <div class="start-here-grid">
                        ${startHere.map(item => `
                            <a href="${item.url}" class="start-card">
                                <div class="start-card-number">${item.number}</div>
                                <div class="start-card-content">
                                    <div class="start-card-title">${item.title}</div>
                                    <div class="start-card-description">${item.description}</div>
                                    <div class="start-card-time">‚è±Ô∏è ${item.time}</div>
                                </div>
                            </a>
                        `).join('')}
                    </div>
                </section>

                <!-- Core Path -->
                <section class="section">
                    <div class="section-header">
                        <span class="section-icon">üìö</span>
                        <h2 class="section-title">YOUR CORE PATH</h2>
                    </div>
                    <p class="section-subtitle">Your personalized learning journey matched to your goals and style</p>

                    <div class="path-card ${path.color}">
                        <div class="path-header">
                            <span class="path-badge ${path.color}">${path.badge}</span>
                            <h3 class="path-name">${path.name}</h3>
                        </div>
                        <p class="path-description">${path.description}</p>

                        ${path.stages.map(stage => `
                            <div class="path-modules">
                                <h4 style="color: #fff; margin-bottom: 1rem; font-size: 1.2rem;">${stage.title}</h4>
                                ${stage.modules.map(module => `
                                    <a href="${module.url}" class="module-link">
                                        <span class="module-icon">üìñ</span>
                                        <div class="module-info">
                                            <div class="module-title">${module.title}</div>
                                            <div class="module-description">${module.description}</div>
                                        </div>
                                        <span style="color: #f7931a;">‚Üí</span>
                                    </a>
                                `).join('')}
                            </div>
                        `).join('')}
                    </div>
                </section>

                <!-- Recommended Tools -->
                <section class="section">
                    <div class="section-header">
                        <span class="section-icon">üõ†Ô∏è</span>
                        <h2 class="section-title">RECOMMENDED TOOLS FOR YOU</h2>
                    </div>
                    <p class="section-subtitle">Interactive demos and tools matched to your interests</p>
                    <div class="tools-grid">
                        ${recommendedTools.map(tool => `
                            <a href="${tool.url}" class="tool-card">
                                <div class="tool-icon">${tool.icon}</div>
                                <div class="tool-title">${tool.title}</div>
                                <div class="tool-description">${tool.description}</div>
                            </a>
                        `).join('')}
                    </div>
                </section>

                <!-- Optional Deep Dives -->
                ${optionalItems.length > 0 ? `
                    <section class="section">
                        <div class="section-header">
                            <span class="section-icon">üåü</span>
                            <h2 class="section-title">OPTIONAL: DIVE DEEPER</h2>
                        </div>
                        <p class="section-subtitle">Explore these when you're ready for more</p>
                        <div class="optional-grid">
                            ${optionalItems.map(item => `
                                <a href="${item.url}" class="optional-card">
                                    <div class="optional-card-title">${item.title}</div>
                                    <div class="optional-card-description">${item.description}</div>
                                </a>
                            `).join('')}
                        </div>
                    </section>
                ` : ''}
            `;

            document.getElementById('loading').style.display = 'none';
            document.getElementById('dashboard').style.display = 'block';
            document.getElementById('dashboard').innerHTML = dashboardHTML;
        }

        function retakeAssessment() {
            if (confirm('This will reset your assessment answers. Continue?')) {
                localStorage.removeItem('bsa-assessment');
                localStorage.removeItem('bsa-assessment-date');
                window.location.href = '/start/';
            }
        }

        // Initialize
        setTimeout(renderDashboard, 800);
    </script>
</body>
</html>
