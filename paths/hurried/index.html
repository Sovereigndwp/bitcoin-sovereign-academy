<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Hurried: Bitcoin Straight Up | Bitcoin Sovereign Academy</title>
    <meta name="description" content="Learn Bitcoin through hands-on interactive demos. No fluff, just practical knowledge.">

    <style>
        :root {
            --primary-orange: #f7931a;
            --primary-dark: #1a1a1a;
            --secondary-dark: #2d2d2d;
            --accent-green: #4caf50;
            --accent-gold: #FFA726;
            --accent-blue: #2196f3;
            --text-light: #e0e0e0;
            --text-dim: #999;
            --border-color: rgba(247, 147, 26, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--primary-dark);
            color: var(--text-light);
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Header */
        .hero-header {
            background: linear-gradient(135deg, rgba(255, 167, 38, 0.2), rgba(255, 167, 38, 0.05));
            border-bottom: 3px solid var(--accent-gold);
            padding: 2rem 0 1.5rem;
            text-align: center;
            margin-bottom: 2rem;
        }

        .hero-header h1 {
            font-size: 2.5rem;
            color: var(--accent-gold);
            margin-bottom: 0.5rem;
        }

        .hero-tagline {
            font-size: 1.2rem;
            color: var(--text-dim);
        }

        /* Module Section */
        .module-section {
            background: var(--secondary-dark);
            border: 2px solid var(--border-color);
            border-radius: 1rem;
            margin-bottom: 1.5rem;
            overflow: hidden;
        }

        .module-header {
            padding: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.2s;
        }

        .module-header:hover {
            background: rgba(255, 167, 38, 0.1);
        }

        .module-title {
            font-size: 1.5rem;
            color: var(--text-light);
        }

        .module-number {
            color: var(--accent-gold);
            font-weight: bold;
            margin-right: 0.5rem;
        }

        .toggle-icon {
            font-size: 1.5rem;
            color: var(--accent-gold);
            transition: transform 0.3s;
        }

        .module-section.open .toggle-icon {
            transform: rotate(180deg);
        }

        .module-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease;
        }

        .module-section.open .module-content {
            max-height: 10000px;
        }

        .module-inner {
            padding: 2rem;
            border-top: 1px solid var(--border-color);
        }

        /* Content Blocks */
        .info-box {
            background: rgba(33, 150, 243, 0.1);
            border-left: 4px solid var(--accent-blue);
            padding: 1rem;
            margin: 1.5rem 0;
            border-radius: 0.5rem;
        }

        .info-box strong {
            color: var(--accent-blue);
            display: block;
            margin-bottom: 0.5rem;
        }

        .feature-list {
            list-style: none;
            padding: 0;
        }

        .feature-list li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
        }

        .feature-list li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: var(--accent-green);
            font-weight: bold;
        }

        /* Comparison Table */
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .comparison-box {
            padding: 1.5rem;
            border-radius: 0.75rem;
            border: 2px solid;
        }

        .comparison-box.bad {
            background: rgba(244, 67, 54, 0.1);
            border-color: #f44336;
        }

        .comparison-box.good {
            background: rgba(76, 175, 80, 0.1);
            border-color: var(--accent-green);
        }

        .comparison-box h4 {
            margin-bottom: 1rem;
        }

        /* Interactive Demos */
        .demo-box {
            background: rgba(156, 39, 176, 0.1);
            border: 2px solid #9c27b0;
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
        }

        .demo-box h4 {
            color: #ce93d8;
            margin-bottom: 1.5rem;
            font-size: 1.3rem;
        }

        .demo-step {
            background: var(--primary-dark);
            padding: 1.5rem;
            border-radius: 0.75rem;
            margin-bottom: 1rem;
            transition: opacity 0.5s ease;
        }

        .demo-step h5 {
            color: var(--accent-gold);
            margin-bottom: 1rem;
        }

        .demo-output {
            background: #000;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 1rem;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            color: var(--accent-green);
            overflow-x: auto;
        }

        .button {
            background: linear-gradient(135deg, var(--accent-gold), #FFB74D);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 167, 38, 0.4);
        }

        .button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .button.secondary {
            background: linear-gradient(135deg, var(--accent-blue), #42A5F5);
        }

        .button.success {
            background: linear-gradient(135deg, var(--accent-green), #66BB6A);
        }

        .button.active {
            background: linear-gradient(135deg, var(--accent-gold), var(--primary-orange));
            box-shadow: 0 5px 20px rgba(255, 167, 38, 0.5);
            transform: translateY(-2px);
        }

        /* Mining Demo */
        .mining-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .stat-box {
            background: var(--secondary-dark);
            padding: 1rem;
            border-radius: 0.5rem;
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            color: var(--accent-gold);
            font-weight: bold;
        }

        .stat-label {
            color: var(--text-dim);
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }

        .hash-display {
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            word-break: break-all;
            padding: 1rem;
            background: #000;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            margin: 1rem 0;
        }

        .hash-display.success {
            border-color: var(--accent-green);
            background: rgba(76, 175, 80, 0.1);
        }

        /* Blockchain Builder */
        .block {
            background: var(--secondary-dark);
            border: 2px solid var(--border-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }

        .block.valid {
            border-color: var(--accent-green);
        }

        .block.new-block {
            animation: blockPulse 0.6s ease-out;
        }

        @keyframes blockPulse {
            0% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.7);
            }
            50% {
                transform: scale(1.02);
                box-shadow: 0 0 20px 10px rgba(76, 175, 80, 0.3);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(76, 175, 80, 0);
            }
        }

        .block-field {
            margin: 0.75rem 0;
            display: grid;
            grid-template-columns: 120px 1fr;
            gap: 1rem;
            align-items: center;
        }

        .block-field label {
            font-weight: 600;
            color: var(--accent-gold);
        }

        .block-field .value {
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            word-break: break-all;
        }

        /* FAQ */
        .faq-item {
            background: var(--secondary-dark);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
            overflow: hidden;
        }

        .faq-question {
            padding: 1rem 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.2s;
        }

        .faq-question:hover {
            background: rgba(255, 167, 38, 0.1);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .faq-item.open .faq-answer {
            max-height: 500px;
        }

        .faq-answer-inner {
            padding: 0 1.5rem 1rem 1.5rem;
            color: var(--text-dim);
        }

        /* Glossary */
        .glossary-grid {
            display: grid;
            gap: 1rem;
        }

        .glossary-term {
            background: var(--secondary-dark);
            border-left: 4px solid var(--accent-gold);
            padding: 1rem 1.5rem;
            border-radius: 0 0.5rem 0.5rem 0;
        }

        .glossary-term h4 {
            color: var(--accent-gold);
            margin-bottom: 0.5rem;
        }

        .glossary-analogy {
            font-style: italic;
            color: var(--text-dim);
            margin-top: 0.5rem;
            font-size: 0.95rem;
        }

        /* Checklist */
        .checklist {
            list-style: none;
        }

        .checklist li {
            padding: 0.75rem;
            margin: 0.5rem 0;
            background: var(--secondary-dark);
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .checklist li:hover {
            background: rgba(255, 167, 38, 0.1);
        }

        .checklist li.checked {
            background: rgba(76, 175, 80, 0.1);
            border-left: 4px solid var(--accent-green);
        }

        .checklist input[type="checkbox"] {
            margin-right: 0.75rem;
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .understand-btn {
            display: block;
            width: 100%;
            margin-top: 2rem;
        }

        /* Progress */
        .progress-indicator {
            background: var(--secondary-dark);
            border: 2px solid var(--accent-gold);
            border-radius: 1rem;
            padding: 1rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .progress-text {
            font-size: 1.2rem;
            color: var(--accent-gold);
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .comparison {
                grid-template-columns: 1fr;
            }

            .block-field {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="hero-header">
        <div class="container">
            <h1>⚡ The Hurried: Bitcoin Straight Up</h1>
            <p class="hero-tagline">Get it. Hold it. Use it. Bitcoin in 10 minutes.</p>
        </div>
    </header>

    <div class="container">
        <div class="progress-indicator">
            <div class="progress-text" id="progress-text">0 / 4 Steps Completed</div>
        </div>

        <!-- Visual Flow Map -->
        <div style="background: linear-gradient(135deg, rgba(247, 147, 26, 0.15), rgba(76, 175, 80, 0.1)); border: 2px solid var(--accent-gold); border-radius: 1rem; padding: 2rem; margin-bottom: 2rem;">
            <h3 style="text-align: center; color: var(--accent-gold); margin-bottom: 1.5rem; font-size: 1.3rem;">Your Bitcoin Journey</h3>
            <div style="display: flex; align-items: center; justify-content: space-around; flex-wrap: wrap; gap: 1rem;">
                <div style="text-align: center; flex: 1; min-width: 150px;">
                    <div style="background: rgba(33, 150, 243, 0.2); border: 3px solid var(--accent-blue); border-radius: 50%; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.75rem; font-size: 2.5rem;">💵</div>
                    <strong style="color: var(--accent-blue); font-size: 1.1rem;">Get It</strong>
                    <p style="color: var(--text-dim); font-size: 0.85rem; margin-top: 0.25rem;">Buy your first Bitcoin</p>
                </div>
                <div style="color: var(--accent-gold); font-size: 2rem; margin: 0 0.5rem;">→</div>
                <div style="text-align: center; flex: 1; min-width: 150px;">
                    <div style="background: rgba(156, 39, 176, 0.2); border: 3px solid #9c27b0; border-radius: 50%; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.75rem; font-size: 2.5rem;">🔐</div>
                    <strong style="color: #ce93d8; font-size: 1.1rem;">Hold It</strong>
                    <p style="color: var(--text-dim); font-size: 0.85rem; margin-top: 0.25rem;">Set up your wallet</p>
                </div>
                <div style="color: var(--accent-gold); font-size: 2rem; margin: 0 0.5rem;">→</div>
                <div style="text-align: center; flex: 1; min-width: 150px;">
                    <div style="background: rgba(76, 175, 80, 0.2); border: 3px solid var(--accent-green); border-radius: 50%; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.75rem; font-size: 2.5rem;">⚡</div>
                    <strong style="color: var(--accent-green); font-size: 1.1rem;">Use It</strong>
                    <p style="color: var(--text-dim); font-size: 0.85rem; margin-top: 0.25rem;">Send, spend, save</p>
                </div>
                <div style="color: var(--accent-gold); font-size: 2rem; margin: 0 0.5rem;">→</div>
                <div style="text-align: center; flex: 1; min-width: 150px;">
                    <div style="background: rgba(255, 167, 38, 0.2); border: 3px solid var(--accent-gold); border-radius: 50%; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.75rem; font-size: 2.5rem;">🎯</div>
                    <strong style="color: var(--accent-gold); font-size: 1.1rem;">Why It Matters</strong>
                    <p style="color: var(--text-dim); font-size: 0.85rem; margin-top: 0.25rem;">The big picture</p>
                </div>
            </div>
        </div>

        <!-- Module 1: Get Bitcoin -->
        <section class="module-section" data-module="1">
            <div class="module-header" onclick="toggleModule(1)">
                <div>
                    <span class="module-number">1.</span>
                    <span class="module-title">💵 How to Get Bitcoin — Step by Step</span>
                </div>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="module-content">
                <div class="module-inner">
                    <h3>🏦 Step 1: Choose How You'll Get It</h3>
                    <p>There are several ways to get Bitcoin. Each has different trade-offs between convenience, privacy, and learning curve.</p>

                    <!-- Interactive Method Choice Grid -->
                    <div style="overflow-x: auto; margin: 1.5rem 0;">
                        <table style="width: 100%; border-collapse: collapse; background: var(--secondary-dark); border-radius: 0.75rem; overflow: hidden;">
                            <thead>
                                <tr style="background: rgba(255, 167, 38, 0.2);">
                                    <th style="padding: 1rem; text-align: left; color: var(--accent-gold); border-bottom: 2px solid var(--border-color);">Method</th>
                                    <th style="padding: 1rem; text-align: left; color: var(--accent-green); border-bottom: 2px solid var(--border-color);">Pros</th>
                                    <th style="padding: 1rem; text-align: left; color: #ff9800; border-bottom: 2px solid var(--border-color);">Cautions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="border-bottom: 1px solid var(--border-color);">
                                    <td style="padding: 1rem; font-weight: 600;">Centralized Exchange<br><span style="font-size: 0.85rem; color: var(--text-dim);">(Coinbase, Kraken, Cash App)</span></td>
                                    <td style="padding: 1rem; color: var(--text-dim);">Fast, easy, credit card or bank</td>
                                    <td style="padding: 1rem; color: var(--text-dim);">Not your keys → not your Bitcoin</td>
                                </tr>
                                <tr style="border-bottom: 1px solid var(--border-color);">
                                    <td style="padding: 1rem; font-weight: 600;">Peer-to-Peer / Bitcoin ATM<br><span style="font-size: 0.85rem; color: var(--text-dim);">(Bisq, RoboSats, local meetups)</span></td>
                                    <td style="padding: 1rem; color: var(--text-dim);">Privacy, direct ownership</td>
                                    <td style="padding: 1rem; color: var(--text-dim);">Beware of scams or high fees</td>
                                </tr>
                                <tr>
                                    <td style="padding: 1rem; font-weight: 600;">Earning Bitcoin<br><span style="font-size: 0.85rem; color: var(--text-dim);">(Freelance work, sell goods/services)</span></td>
                                    <td style="padding: 1rem; color: var(--text-dim);">No KYC, real value exchange</td>
                                    <td style="padding: 1rem; color: var(--text-dim);">Slower accumulation</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div style="background: rgba(255, 152, 0, 0.1); border-left: 4px solid #ff9800; padding: 1rem; border-radius: 0.5rem; margin: 1.5rem 0;">
                        <strong style="color: #ff9800;">💬 Socratic Question:</strong> If you never hold your keys, do you really own Bitcoin?
                    </div>

                    <h3 style="margin-top: 2.5rem;">💵 Step 2: Buy Your First Sats</h3>
                    <p style="color: var(--text-dim); margin-bottom: 1rem;">Most people start with a centralized exchange. Here's the typical flow:</p>

                    <!-- Visual Flow -->
                    <div style="background: linear-gradient(135deg, rgba(33, 150, 243, 0.15), rgba(33, 150, 243, 0.05)); border: 2px solid var(--accent-blue); border-radius: 1rem; padding: 2rem; margin: 1.5rem 0;">
                        <div style="display: flex; flex-direction: column; gap: 1rem;">
                            <div style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: var(--primary-dark); border-radius: 0.75rem;">
                                <div style="background: var(--accent-blue); color: white; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0;">1</div>
                                <div>
                                    <strong>Create an account</strong> on a centralized exchange
                                    <p style="font-size: 0.85rem; color: var(--text-dim); margin: 0.25rem 0 0;">Coinbase, Kraken, Strike, Cash App, etc.</p>
                                </div>
                            </div>

                            <div style="text-align: center; color: var(--accent-blue); font-size: 1.5rem;">↓</div>

                            <div style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: var(--primary-dark); border-radius: 0.75rem;">
                                <div style="background: var(--accent-blue); color: white; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0;">2</div>
                                <div>
                                    <strong>Link your payment method</strong>
                                    <p style="font-size: 0.85rem; color: var(--text-dim); margin: 0.25rem 0 0;">Bank account, debit card, or credit card</p>
                                </div>
                            </div>

                            <div style="text-align: center; color: var(--accent-blue); font-size: 1.5rem;">↓</div>

                            <div style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: var(--primary-dark); border-radius: 0.75rem;">
                                <div style="background: var(--accent-blue); color: white; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0;">3</div>
                                <div>
                                    <strong>Buy $10 worth of BTC</strong>
                                    <p style="font-size: 0.85rem; color: var(--text-dim); margin: 0.25rem 0 0;">Price shown in sats: ~40,000 sats at $25k/BTC</p>
                                </div>
                            </div>

                            <div style="text-align: center; color: var(--accent-blue); font-size: 1.5rem;">↓</div>

                            <div style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: rgba(76, 175, 80, 0.2); border: 2px solid var(--accent-green); border-radius: 0.75rem;">
                                <div style="background: var(--accent-green); color: white; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0;">✓</div>
                                <div>
                                    <strong>You now have Bitcoin</strong> — but it's not yet yours
                                    <p style="font-size: 0.85rem; color: var(--text-dim); margin: 0.25rem 0 0;">The exchange owes you that balance. You can't verify it or move it freely yet.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="background: rgba(244, 67, 54, 0.1); border-left: 4px solid #f44336; padding: 1rem; border-radius: 0.5rem; margin: 1.5rem 0;">
                        <strong style="color: #f44336;">⚠️ Important:</strong> Your Bitcoin sits on their servers. They owe you that balance — but you can't verify it or move it freely yet.
                    </div>

                    <h3 style="margin-top: 2.5rem;">🏠 Step 3: Self-Custody — Make It Truly Yours</h3>
                    <p style="margin-bottom: 1.5rem;">Once you own Bitcoin on an exchange, the next step is moving it to self-custody where YOU control the keys.</p>

                    <!-- Exchange vs Self-Custody Comparison -->
                    <div class="comparison" style="margin: 2rem 0;">
                        <div class="comparison-box bad">
                            <h4 style="color: #f44336;">🏦 Exchange Custody</h4>
                            <ul style="list-style: none; padding: 0; margin: 0;">
                                <li style="padding: 0.5rem 0; border-bottom: 1px solid var(--border-color);">Your Bitcoin lives in <strong>their</strong> account</li>
                                <li style="padding: 0.5rem 0; border-bottom: 1px solid var(--border-color);">Can be frozen, hacked, or censored</li>
                                <li style="padding: 0.5rem 0; border-bottom: 1px solid var(--border-color);">Easy to start, risky to rely on</li>
                                <li style="padding: 0.5rem 0;">❌ Not your keys, not your coins</li>
                            </ul>
                        </div>

                        <div class="comparison-box good">
                            <h4 style="color: var(--accent-green);">🔐 Self-Custody</h4>
                            <ul style="list-style: none; padding: 0; margin: 0;">
                                <li style="padding: 0.5rem 0; border-bottom: 1px solid var(--border-color);">You hold the keys that <strong>control</strong> your Bitcoin</li>
                                <li style="padding: 0.5rem 0; border-bottom: 1px solid var(--border-color);">Only you can spend it</li>
                                <li style="padding: 0.5rem 0; border-bottom: 1px solid var(--border-color);">Slight learning curve, but true ownership</li>
                                <li style="padding: 0.5rem 0;">✅ Your keys, your Bitcoin</li>
                            </ul>
                        </div>
                    </div>

                    <div style="text-align: center; margin: 2rem 0; padding: 1.5rem; background: linear-gradient(135deg, rgba(76, 175, 80, 0.2), rgba(76, 175, 80, 0.05)); border: 2px solid var(--accent-green); border-radius: 0.75rem;">
                        <p style="margin: 0; font-size: 1.1rem;">
                            <strong style="color: var(--accent-green);">Next Step:</strong> Learn how to set up your first wallet →
                        </p>
                    </div>

                    <button class="button understand-btn" onclick="completeModule(1)">✅ I'm Ready to Set Up a Wallet</button>
                </div>
            </div>
        </section>

        <!-- Module 2: Your Digital Keychain -->
        <section class="module-section" data-module="2">
            <div class="module-header" onclick="toggleModule(2)">
                <div>
                    <span class="module-number">2.</span>
                    <span class="module-title">🔐 Your Digital Keychain — Taking Control</span>
                </div>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="module-content">
                <div class="module-inner">
                    <h3>What's a Bitcoin Wallet?</h3>
                    <p style="color: var(--text-dim); margin-bottom: 1.5rem;">It's your personal keyring that controls your Bitcoin. <strong>No bank, no permission, just you.</strong></p>

                    <div class="info-box">
                        <strong>🔑 Simple Idea:</strong>
                        Your wallet holds the keys. The keys unlock your Bitcoin. Lose the keys = lose your Bitcoin forever.
                    </div>

                    <h3 style="margin-top: 2.5rem;">🎯 Step 1: Choose Your Wallet Type</h3>
                    <p style="color: var(--text-dim); margin-bottom: 1rem;">Different wallets for different needs. Start simple, upgrade as you learn.</p>

                    <!-- Wallet Type Picker -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 1.5rem 0;">
                        <div style="background: var(--secondary-dark); border: 2px solid var(--accent-blue); border-radius: 0.75rem; padding: 1.5rem;">
                            <h4 style="color: var(--accent-blue); margin-bottom: 0.75rem;">📱 Mobile Wallet</h4>
                            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem;">Best for: Daily spending, beginners</p>
                            <ul style="list-style: none; padding: 0; margin: 0; color: var(--text-dim); font-size: 0.85rem;">
                                <li style="padding: 0.25rem 0;">✅ Easy to use</li>
                                <li style="padding: 0.25rem 0;">✅ QR code scanning</li>
                                <li style="padding: 0.25rem 0;">⚠️ Keep small amounts</li>
                            </ul>
                            <p style="margin-top: 1rem; font-size: 0.85rem; color: var(--accent-blue);"><strong>Examples:</strong> BlueWallet, Phoenix, Muun</p>
                        </div>

                        <div style="background: var(--secondary-dark); border: 2px solid var(--accent-green); border-radius: 0.75rem; padding: 1.5rem;">
                            <h4 style="color: var(--accent-green); margin-bottom: 0.75rem;">🔒 Hardware Wallet</h4>
                            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem;">Best for: Savings, security</p>
                            <ul style="list-style: none; padding: 0; margin: 0; color: var(--text-dim); font-size: 0.85rem;">
                                <li style="padding: 0.25rem 0;">✅ Maximum security</li>
                                <li style="padding: 0.25rem 0;">✅ Keys never online</li>
                                <li style="padding: 0.25rem 0;">⚠️ Costs $50-$200</li>
                            </ul>
                            <p style="margin-top: 1rem; font-size: 0.85rem; color: var(--accent-green);"><strong>Examples:</strong> Coldcard, Trezor, Ledger</p>
                        </div>

                        <div style="background: var(--secondary-dark); border: 2px solid var(--accent-gold); border-radius: 0.75rem; padding: 1.5rem;">
                            <h4 style="color: var(--accent-gold); margin-bottom: 0.75rem;">🛡️ Multisig Wallet</h4>
                            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem;">Best for: Advanced users, shared funds</p>
                            <ul style="list-style: none; padding: 0; margin: 0; color: var(--text-dim); font-size: 0.85rem;">
                                <li style="padding: 0.25rem 0;">✅ Multiple keys required</li>
                                <li style="padding: 0.25rem 0;">✅ Eliminates single point of failure</li>
                                <li style="padding: 0.25rem 0;">⚠️ More complex setup</li>
                            </ul>
                            <p style="margin-top: 1rem; font-size: 0.85rem; color: var(--accent-gold);"><strong>Examples:</strong> Unchained, Casa, Sparrow</p>
                        </div>
                    </div>

                    <h3 style="margin-top: 2.5rem;">🎲 Step 2: Create Your Wallet (Demo)</h3>
                    <p style="color: var(--text-dim); margin-bottom: 1rem;">Every wallet starts with random numbers that generate your backup words. Let's see how it works.</p>

                    <div class="demo-box">
                        <h4>🎮 Interactive Demo: Generate a Practice Wallet</h4>

                        <div style="background: var(--primary-dark); padding: 1.5rem; border-radius: 0.75rem; margin-bottom: 1.5rem;">
                            <h5 style="margin-bottom: 1rem; text-align: center;">How It Works: 3 Simple Steps</h5>
                            <div style="display: flex; align-items: center; justify-content: space-around; flex-wrap: wrap; gap: 1rem;">
                                <div style="text-align: center; flex: 1; min-width: 150px;">
                                    <div style="background: rgba(255, 167, 38, 0.2); border: 2px solid var(--accent-gold); border-radius: 50%; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; font-size: 2rem;">🎲</div>
                                    <strong style="color: var(--accent-gold);">Random Seed</strong>
                                    <p style="color: var(--text-dim); font-size: 0.85rem; margin-top: 0.25rem;">Computer dice roll</p>
                                </div>
                                <div style="color: var(--accent-gold); font-size: 2rem;">→</div>
                                <div style="text-align: center; flex: 1; min-width: 150px;">
                                    <div style="background: rgba(33, 150, 243, 0.2); border: 2px solid var(--accent-blue); border-radius: 50%; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; font-size: 2rem;">📝</div>
                                    <strong style="color: var(--accent-blue);">12 Words</strong>
                                    <p style="color: var(--text-dim); font-size: 0.85rem; margin-top: 0.25rem;">Your backup phrase</p>
                                </div>
                                <div style="color: var(--accent-gold); font-size: 2rem;">→</div>
                                <div style="text-align: center; flex: 1; min-width: 150px;">
                                    <div style="background: rgba(76, 175, 80, 0.2); border: 2px solid var(--accent-green); border-radius: 50%; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem; font-size: 2rem;">📧</div>
                                    <strong style="color: var(--accent-green);">Addresses</strong>
                                    <p style="color: var(--text-dim); font-size: 0.85rem; margin-top: 0.25rem;">Where you receive</p>
                                </div>
                            </div>
                            <p style="text-align: center; margin-top: 1rem; color: var(--text-dim); font-size: 0.9rem;">Save the 12 words = save all your Bitcoin forever.</p>
                        </div>

                        <div class="demo-step">
                            <h5>Step 1: Generate Random Seed</h5>
                            <p style="color: var(--text-dim); margin-bottom: 1rem;">Click the button to create your wallet's DNA.</p>
                            <button class="button" onclick="generateSeed()">🎲 Generate Wallet</button>
                            <div id="seed-output" class="demo-output" style="display: none;"></div>
                        </div>

                        <div class="demo-step" id="step-2" style="opacity: 0.5;">
                            <h5>Step 2: Your 12 Backup Words</h5>
                            <p style="color: var(--text-dim); margin-bottom: 1rem;">Write these down on paper. Never type them on your computer or phone!</p>
                            <div id="mnemonic-output" class="demo-output" style="display: none;"></div>
                        </div>

                        <div class="demo-step" id="step-3" style="opacity: 0.5;">
                            <h5>Step 3: Your Bitcoin Address</h5>
                            <p style="color: var(--text-dim); margin-bottom: 1rem;">This is where people send you Bitcoin. You can share this publicly.</p>
                            <div id="address-output" class="demo-output" style="display: none;"></div>
                            <div id="qr-code-container" style="display: none; text-align: center; margin: 1.5rem 0;">
                                <canvas id="qr-code-canvas" style="border: 4px solid var(--accent-green); border-radius: 0.5rem; background: white; padding: 10px;"></canvas>
                                <p style="color: var(--accent-green); margin-top: 0.5rem; font-size: 0.9rem;">📱 Scan this QR code to receive Bitcoin</p>
                            </div>
                            <button class="button secondary" id="show-more-btn" onclick="showMoreAddresses()" style="display: none; margin-top: 1rem;">Show More Addresses</button>
                            <div id="more-addresses" style="display: none;"></div>
                        </div>
                    </div>

                    <h3 style="margin-top: 2.5rem;">📱 Step 3: Practice Sending (Two-Phone Demo)</h3>
                    <p style="color: var(--text-dim); margin-bottom: 1rem;">Simulate a real Bitcoin transaction between two phones. This is exactly how it works in real life!</p>

                    <div class="demo-box">
                        <h4>📲 Interactive Demo: Send Bitcoin Between Phones</h4>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 1.5rem;">
                            <!-- Phone A -->
                            <div style="background: var(--primary-dark); border: 2px solid var(--accent-blue); border-radius: 1rem; padding: 1.5rem;">
                                <h5 style="color: var(--accent-blue); margin-bottom: 1rem; text-align: center;">📱 Phone A (Sender)</h5>
                                <div style="background: var(--secondary-dark); padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;">
                                    <p style="font-size: 0.85rem; color: var(--text-dim); margin-bottom: 0.5rem;">Balance:</p>
                                    <p style="font-size: 1.5rem; color: var(--accent-gold); margin: 0;" id="phone-a-balance">0.05 BTC</p>
                                    <p style="font-size: 0.85rem; color: var(--text-dim); margin-top: 0.25rem;">~50,000 sats</p>
                                </div>
                                <p style="font-size: 0.85rem; color: var(--text-dim); margin-bottom: 0.5rem;">Send amount:</p>
                                <input type="number" id="send-amount" value="0.01" step="0.001" min="0.001" max="0.05" style="width: 100%; padding: 0.75rem; background: var(--secondary-dark); border: 1px solid var(--border-color); border-radius: 0.5rem; color: var(--text-light); margin-bottom: 1rem;">
                                <button class="button secondary" onclick="scanQRCode()" style="width: 100%; margin-bottom: 0.5rem;">📷 Scan QR Code</button>
                                <p id="scan-status" style="font-size: 0.85rem; color: var(--text-dim); text-align: center; margin: 0.5rem 0;"></p>
                                <button class="button" id="send-btn" onclick="sendBitcoin()" style="width: 100%; display: none;">⚡ Send Bitcoin</button>
                            </div>

                            <!-- Phone B -->
                            <div style="background: var(--primary-dark); border: 2px solid var(--accent-green); border-radius: 1rem; padding: 1.5rem;">
                                <h5 style="color: var(--accent-green); margin-bottom: 1rem; text-align: center;">📱 Phone B (Receiver)</h5>
                                <div style="background: var(--secondary-dark); padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;">
                                    <p style="font-size: 0.85rem; color: var(--text-dim); margin-bottom: 0.5rem;">Balance:</p>
                                    <p style="font-size: 1.5rem; color: var(--accent-gold); margin: 0;" id="phone-b-balance">0.00 BTC</p>
                                    <p style="font-size: 0.85rem; color: var(--text-dim); margin-top: 0.25rem;">~0 sats</p>
                                </div>
                                <div style="text-align: center; padding: 1rem; background: white; border-radius: 0.5rem;">
                                    <canvas id="receiver-qr-code" width="150" height="150"></canvas>
                                    <p style="font-size: 0.75rem; color: #333; margin-top: 0.5rem; font-family: monospace; word-break: break-all;">bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh</p>
                                </div>
                                <p style="font-size: 0.85rem; color: var(--text-dim); text-align: center; margin-top: 0.5rem;">Show this QR code to sender</p>
                            </div>
                        </div>

                        <div id="tx-animation" style="display: none; background: linear-gradient(135deg, rgba(76, 175, 80, 0.2), rgba(76, 175, 80, 0.05)); border: 2px solid var(--accent-green); border-radius: 0.75rem; padding: 1.5rem; text-align: center;">
                            <div style="font-size: 2rem; margin-bottom: 0.5rem;">⚡</div>
                            <h5 style="color: var(--accent-green); margin-bottom: 0.5rem;">Transaction Broadcasting...</h5>
                            <p id="tx-status" style="color: var(--text-dim); font-size: 0.9rem;">Miners are including your transaction in the next block</p>
                            <div style="margin: 1rem 0;">
                                <div style="background: var(--secondary-dark); height: 8px; border-radius: 4px; overflow: hidden;">
                                    <div id="tx-progress" style="width: 0%; height: 100%; background: linear-gradient(90deg, var(--accent-green), var(--accent-blue)); transition: width 0.5s;"></div>
                                </div>
                            </div>
                            <p style="font-size: 0.85rem; color: var(--text-dim);">⏱️ Usually takes ~10 minutes on the real network</p>
                        </div>

                        <button class="button secondary" onclick="resetTwoPhoneDemo()" style="width: 100%; margin-top: 1rem;">🔄 Reset Demo</button>
                    </div>

                    <div style="background: rgba(244, 67, 54, 0.1); border-left: 4px solid #f44336; padding: 1rem; border-radius: 0.5rem; margin-top: 1.5rem;">
                        <strong style="color: #f44336;">⚠️ Important:</strong> This is a practice demo. Never use demo wallets for real Bitcoin!
                    </div>

                    <div style="background: rgba(255, 152, 0, 0.1); border-left: 4px solid #ff9800; padding: 1rem; border-radius: 0.5rem; margin: 1.5rem 0;">
                        <strong style="color: #ff9800;">💬 Socratic Question:</strong> Why do you think Bitcoin uses 12 random words instead of a password you choose?
                    </div>

                    <button class="button understand-btn" onclick="completeModule(2)">✅ I'm Ready to Use Bitcoin</button>
                </div>
            </div>
        </section>

        <!-- Module 3: Use Bitcoin -->
        <section class="module-section" data-module="3">
            <div class="module-header" onclick="toggleModule(3)">
                <div>
                    <span class="module-number">3.</span>
                    <span class="module-title">⚡ Use Bitcoin — Spend, Send, Save</span>
                </div>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="module-content">
                <div class="module-inner">
                    <h3>Now You Can Actually Use It</h3>
                    <p style="color: var(--text-dim); margin-bottom: 1.5rem;">You've got Bitcoin. You control the keys. What's next? Let's put it to work.</p>

                    <div class="info-box">
                        <strong>💡 Three Ways to Use Bitcoin:</strong>
                        Spend it for goods & services • Send it to anyone globally • Save it for the future
                    </div>

                    <!-- Interactive Use Wheel -->
                    <div style="background: linear-gradient(135deg, rgba(76, 175, 80, 0.15), rgba(33, 150, 243, 0.1)); border: 2px solid var(--accent-green); border-radius: 1rem; padding: 2rem; margin: 2rem 0;">
                        <h4 style="text-align: center; color: var(--accent-green); margin-bottom: 1.5rem;">Choose How You'll Use Your Bitcoin</h4>

                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 1.5rem;">
                            <button class="button secondary" onclick="showUseCase('spend')" data-use-case="spend" style="padding: 1.5rem; height: auto; display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
                                <div style="font-size: 2.5rem;">🛒</div>
                                <strong>Spend It</strong>
                                <span style="font-size: 0.85rem; font-weight: normal; opacity: 0.8;">Buy goods & services</span>
                            </button>

                            <button class="button secondary" onclick="showUseCase('send')" data-use-case="send" style="padding: 1.5rem; height: auto; display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
                                <div style="font-size: 2.5rem;">📤</div>
                                <strong>Send It</strong>
                                <span style="font-size: 0.85rem; font-weight: normal; opacity: 0.8;">Transfer to anyone</span>
                            </button>

                            <button class="button secondary" onclick="showUseCase('save')" data-use-case="save" style="padding: 1.5rem; height: auto; display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
                                <div style="font-size: 2.5rem;">🔒</div>
                                <strong>Save It</strong>
                                <span style="font-size: 0.85rem; font-weight: normal; opacity: 0.8;">Long-term storage</span>
                            </button>
                        </div>

                        <div id="use-case-display" style="display: none;"></div>
                    </div>

                    <!-- Best Practices Checklist -->
                    <h3 style="margin-top: 2.5rem;">✅ Bitcoin Best Practices Checklist</h3>
                    <p style="color: var(--text-dim); margin-bottom: 1rem;">Track your progress as you learn to use Bitcoin safely and effectively.</p>

                    <div style="background: var(--secondary-dark); border: 2px solid var(--border-color); border-radius: 0.75rem; padding: 1.5rem; margin: 1.5rem 0;">
                        <ul class="checklist" id="bitcoin-practices-checklist">
                            <li onclick="toggleCheck(this)">
                                <input type="checkbox">
                                <strong>Always double-check addresses</strong> before sending (wrong address = lost Bitcoin forever)
                            </li>
                            <li onclick="toggleCheck(this)">
                                <input type="checkbox">
                                <strong>Start with small test transactions</strong> when trying new wallets or services
                            </li>
                            <li onclick="toggleCheck(this)">
                                <input type="checkbox">
                                <strong>Keep most Bitcoin in cold storage</strong>, only spending money in hot wallets
                            </li>
                            <li onclick="toggleCheck(this)">
                                <input type="checkbox">
                                <strong>Never share your seed phrase</strong> with anyone, ever (not even "support")
                            </li>
                            <li onclick="toggleCheck(this)">
                                <input type="checkbox">
                                <strong>Understand transaction fees</strong> before sending (higher fee = faster confirmation)
                            </li>
                            <li onclick="toggleCheck(this)">
                                <input type="checkbox">
                                <strong>Verify you control your keys</strong> (if you can't export seed phrase, you don't own it)
                            </li>
                        </ul>

                        <div style="margin-top: 1.5rem; text-align: center;">
                            <div style="font-size: 1.5rem; color: var(--accent-green); font-weight: bold;">Your Bitcoin IQ: <span id="practices-score">0/6</span></div>
                        </div>
                    </div>

                    <div style="background: rgba(255, 152, 0, 0.1); border-left: 4px solid #ff9800; padding: 1rem; border-radius: 0.5rem; margin: 1.5rem 0;">
                        <strong style="color: #ff9800;">💬 Reflection:</strong> Now that you can get, hold, and use Bitcoin — what would you use it for first?
                        <details style="margin-top: 0.5rem; cursor: pointer;">
                            <summary style="color: var(--accent-gold);">💭 Common First Uses</summary>
                            <p style="margin-top: 0.5rem; color: var(--text-dim);">
                                • International remittances (sending money across borders)<br>
                                • Privacy-focused purchases (VPN, domain names, gift cards)<br>
                                • Savings against inflation (store of value)<br>
                                • Supporting creators directly (tips, donations)<br>
                                • Lightning Network micro-payments (streaming sats, pay-per-article)
                            </p>
                        </details>
                    </div>

                    <button class="button understand-btn" onclick="completeModule(3)">✅ I'm Ready for the Big Picture</button>
                </div>
            </div>
        </section>

        <!-- Module 4: Why It Matters -->
        <section class="module-section" data-module="4">
            <div class="module-header" onclick="toggleModule(4)">
                <div>
                    <span class="module-number">4.</span>
                    <span class="module-title">🎯 Why It Matters — The Big Picture</span>
                </div>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="module-content">
                <div class="module-inner">
                    <div style="text-align: center; margin: 2rem 0;">
                        <h3 style="color: var(--accent-gold); font-size: 2rem; margin-bottom: 1rem;">You Just Learned the Future of Money</h3>
                        <p style="font-size: 1.2rem; color: var(--text-dim);">In 10 minutes, you now know more about Bitcoin than 99% of people.</p>
                    </div>

                    <!-- Quick Recap -->
                    <div style="background: linear-gradient(135deg, rgba(247, 147, 26, 0.15), rgba(76, 175, 80, 0.1)); border: 2px solid var(--accent-gold); border-radius: 1rem; padding: 2rem; margin: 2rem 0;">
                        <h4 style="color: var(--accent-gold); text-align: center; margin-bottom: 1.5rem;">What You've Mastered</h4>

                        <div style="display: grid; gap: 1rem;">
                            <div style="background: var(--primary-dark); padding: 1.5rem; border-radius: 0.75rem; border-left: 4px solid var(--accent-blue);">
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <div style="font-size: 2.5rem;">💵</div>
                                    <div>
                                        <strong style="color: var(--accent-blue); font-size: 1.1rem;">Get Bitcoin</strong>
                                        <p style="margin: 0.25rem 0 0; color: var(--text-dim); font-size: 0.9rem;">You know how to buy your first sats and understand the difference between exchange custody and true ownership</p>
                                    </div>
                                </div>
                            </div>

                            <div style="background: var(--primary-dark); padding: 1.5rem; border-radius: 0.75rem; border-left: 4px solid #9c27b0;">
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <div style="font-size: 2.5rem;">🔐</div>
                                    <div>
                                        <strong style="color: #ce93d8; font-size: 1.1rem;">Hold It Safely</strong>
                                        <p style="margin: 0.25rem 0 0; color: var(--text-dim); font-size: 0.9rem;">You control the keys = you control the Bitcoin. No bank, no intermediary, no permission needed</p>
                                    </div>
                                </div>
                            </div>

                            <div style="background: var(--primary-dark); padding: 1.5rem; border-radius: 0.75rem; border-left: 4px solid var(--accent-green);">
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <div style="font-size: 2.5rem;">⚡</div>
                                    <div>
                                        <strong style="color: var(--accent-green); font-size: 1.1rem;">Use It Freely</strong>
                                        <p style="margin: 0.25rem 0 0; color: var(--text-dim); font-size: 0.9rem;">Spend, send, or save — Bitcoin gives you financial freedom without borders or restrictions</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Why This Matters -->
                    <div style="background: var(--secondary-dark); border: 2px solid var(--accent-green); border-radius: 1rem; padding: 2rem; margin: 2rem 0;">
                        <h4 style="color: var(--accent-green); margin-bottom: 1.5rem; text-align: center;">Why This Actually Matters</h4>

                        <div style="display: grid; gap: 1.5rem;">
                            <div>
                                <h5 style="color: var(--accent-gold); margin-bottom: 0.5rem;">🗽 True Ownership</h5>
                                <p style="color: var(--text-dim); margin: 0;">For the first time in history, you can own digital money that nobody can take away, freeze, or devalue. Not your bank. Not your government. Just you.</p>
                            </div>

                            <div>
                                <h5 style="color: var(--accent-gold); margin-bottom: 0.5rem;">🌍 Permission-less Money</h5>
                                <p style="color: var(--text-dim); margin: 0;">Send any amount to anyone, anywhere, anytime. No forms to fill out. No approval needed. No borders. No censorship.</p>
                            </div>

                            <div>
                                <h5 style="color: var(--accent-gold); margin-bottom: 0.5rem;">🔒 Fixed Supply</h5>
                                <p style="color: var(--text-dim); margin: 0;">Only 21 million Bitcoin will ever exist. No government can print more. No central bank can inflate it away. Your purchasing power is protected.</p>
                            </div>

                            <div>
                                <h5 style="color: var(--accent-gold); margin-bottom: 0.5rem;">🛡️ Financial Sovereignty</h5>
                                <p style="color: var(--text-dim); margin: 0;">You are your own bank. With that comes responsibility — but also complete control over your wealth.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Next Steps -->
                    <div style="background: linear-gradient(135deg, rgba(33, 150, 243, 0.15), rgba(156, 39, 176, 0.1)); border: 2px solid var(--accent-blue); border-radius: 1rem; padding: 2rem; margin: 2rem 0;">
                        <h4 style="color: var(--accent-blue); margin-bottom: 1rem; text-align: center;">Your Next Steps</h4>

                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="padding: 0.75rem 0; color: var(--text-dim);"><strong style="color: var(--text-light);">1.</strong> Buy your first $10-$20 of Bitcoin on a trusted exchange</li>
                            <li style="padding: 0.75rem 0; color: var(--text-dim);"><strong style="color: var(--text-light);">2.</strong> Download a mobile wallet (BlueWallet, Phoenix, Muun)</li>
                            <li style="padding: 0.75rem 0; color: var(--text-dim);"><strong style="color: var(--text-light);">3.</strong> Practice: send a small amount to yourself from exchange to wallet</li>
                            <li style="padding: 0.75rem 0; color: var(--text-dim);"><strong style="color: var(--text-light);">4.</strong> Write down and secure your 12-word seed phrase</li>
                            <li style="padding: 0.75rem 0; color: var(--text-dim);"><strong style="color: var(--text-light);">5.</strong> Keep learning: explore our full curriculum and interactive demos</li>
                        </ul>
                    </div>

                    <div style="text-align: center; margin: 2rem 0;">
                        <p style="font-size: 1.1rem; color: var(--text-dim); font-style: italic;">"Not your keys, not your coins."</p>
                        <p style="margin-top: 0.5rem; color: var(--text-dim); font-size: 0.9rem;">— Bitcoin Proverb</p>
                    </div>

                    <button class="button understand-btn" onclick="completeModule(4)">🎓 Complete The Hurried Path</button>
                </div>
            </div>
        </section>

        <!-- Completion -->
        <div id="completion-section" style="display: none; background: linear-gradient(135deg, rgba(76, 175, 80, 0.2), rgba(76, 175, 80, 0.05)); border: 3px solid var(--accent-green); border-radius: 1rem; padding: 3rem 2rem; text-align: center; margin: 2rem 0;">
            <div style="font-size: 4rem; margin-bottom: 1rem;">🎉</div>
            <h2 style="color: var(--accent-green); font-size: 2.5rem; margin-bottom: 1rem;">Congratulations!</h2>
            <p style="font-size: 1.2rem; margin-bottom: 2rem;">You've completed The Hurried path! You now have a solid foundation in Bitcoin.</p>
            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                <a href="/paths/curious/" class="button">🌱 Continue to The Curious</a>
                <a href="/paths/builder/" class="button secondary">⚡ Try The Builder</a>
                <a href="/paths/sovereign/" class="button success">🎯 Master The Sovereign</a>
            </div>
        </div>

        <div style="text-align: center; margin: 3rem 0; padding: 2rem; background: var(--secondary-dark); border-radius: 1rem;">
            <h3 style="color: var(--accent-gold); margin-bottom: 1rem;">Ready for More?</h3>
            <p style="margin-bottom: 1.5rem;">Continue your Bitcoin education journey</p>
            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                <a href="/" class="button secondary">← Back to Home</a>
                <a href="/interactive-demos/" class="button secondary">🎮 Interactive Demos</a>
                <a href="/curriculum/" class="button secondary">📚 Full Curriculum</a>
            </div>
        </div>
    </div>

    <script>
        // Simple SHA-256 implementation for demo purposes
        async function sha256(message) {
            const msgBuffer = new TextEncoder().encode(message);
            const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
        }

        // Progress tracking
        let completedModules = new Set(JSON.parse(localStorage.getItem('hurried_progress') || '[]'));

        function updateProgress() {
            document.getElementById('progress-text').textContent = `${completedModules.size} / 4 Steps Completed`;
            if (completedModules.size === 4) {
                document.getElementById('completion-section').style.display = 'block';
                document.getElementById('completion-section').scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }

        function toggleModule(num) {
            const module = document.querySelector(`[data-module="${num}"]`);
            module.classList.toggle('open');
        }

        function completeModule(num) {
            completedModules.add(num);
            localStorage.setItem('hurried_progress', JSON.stringify([...completedModules]));
            updateProgress();

            // Open next module
            if (num < 4) {
                setTimeout(() => {
                    toggleModule(num + 1);
                    document.querySelector(`[data-module="${num + 1}"]`).scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 500);
            }
        }

        // Scenario Comparison (Module 1)
        const scenarios = {
            international: {
                bank: "💰 $50-100 in fees<br>⏱️ 3-7 business days<br>📋 Must provide documentation<br>🚫 May be rejected/frozen<br>💵 Currency conversion fees",
                bitcoin: "💰 $1-3 in fees<br>⏱️ 10-60 minutes<br>📋 No permission needed<br>✅ Uncensorable<br>💵 No conversion needed (global currency)"
            },
            freeze: {
                bank: "🏢 Bank owns your account<br>🚫 Can freeze anytime<br>👮 Government can seize<br>📝 Must follow their rules<br>❌ Account closure possible",
                bitcoin: "🔑 You own your keys<br>✅ Nobody can freeze it<br>🌍 Works everywhere<br>🗽 Financial sovereignty<br>✅ Unstoppable payments"
            },
            inflation: {
                bank: "📉 Dollar loses ~2-8% value/year<br>💸 $100 → $50 purchasing power in 10 years<br>🏦 Bank can print unlimited money<br>📊 Your savings erode<br>⚠️ Historical hyperinflation examples",
                bitcoin: "📈 Fixed supply (21M max)<br>💎 Scarcity guarantees value preservation<br>🔒 No one can print more<br>⚡ 19.5M already mined<br>✅ Deflationary by design"
            }
        };

        function showScenario(type) {
            const scenario = scenarios[type];

            // Remove active class from all scenario buttons
            document.querySelectorAll('#scenario-buttons button').forEach(btn => {
                btn.classList.remove('active');
            });

            // Add active class to clicked button
            document.querySelector(`[data-scenario="${type}"]`).classList.add('active');

            // Show comparison
            document.getElementById('scenario-display').style.display = 'block';
            document.getElementById('bank-content').innerHTML = scenario.bank;
            document.getElementById('bitcoin-content').innerHTML = scenario.bitcoin;
            document.getElementById('scenario-display').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Transaction Simulation (Module 3)
        let txSimulationActive = false;

        function simulateTransaction() {
            if (txSimulationActive) return;
            txSimulationActive = true;

            document.getElementById('tx-start-btn').style.display = 'none';
            document.getElementById('tx-reset-btn').style.display = 'block';

            const steps = [1, 2, 3, 4, 5];
            let currentStep = 0;

            const interval = setInterval(() => {
                if (currentStep < steps.length) {
                    const stepEl = document.getElementById(`tx-step-${steps[currentStep]}`);
                    stepEl.style.opacity = '1';
                    stepEl.style.background = 'rgba(76, 175, 80, 0.2)';
                    stepEl.style.borderLeft = '4px solid var(--accent-green)';
                    currentStep++;
                } else {
                    clearInterval(interval);
                    txSimulationActive = false;
                }
            }, 1000);
        }

        function resetTransaction() {
            txSimulationActive = false;
            document.getElementById('tx-start-btn').style.display = 'block';
            document.getElementById('tx-reset-btn').style.display = 'none';

            for (let i = 1; i <= 5; i++) {
                const stepEl = document.getElementById(`tx-step-${i}`);
                stepEl.style.opacity = '0.3';
                stepEl.style.background = 'rgba(255, 167, 38, 0.1)';
                stepEl.style.borderLeft = 'none';
            }
        }

        // Simple QR Code generator
        function generateQRCode(text, canvasId) {
            const canvas = document.getElementById(canvasId);
            if (!canvas) return;

            const ctx = canvas.getContext('2d');
            const size = canvas.width;
            const data = text;

            // Simple QR-like pattern (not a real QR code, just visual representation)
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, size, size);
            ctx.fillStyle = 'black';

            // Generate random blocks to look like QR code
            const blockSize = 5;
            const blocks = size / blockSize;

            // Use text to seed pseudo-random pattern
            let seed = 0;
            for (let i = 0; i < text.length; i++) {
                seed += text.charCodeAt(i);
            }

            for (let y = 0; y < blocks; y++) {
                for (let x = 0; x < blocks; x++) {
                    seed = (seed * 1103515245 + 12345) & 0x7fffffff;
                    if (seed % 2 === 0) {
                        ctx.fillRect(x * blockSize, y * blockSize, blockSize, blockSize);
                    }
                }
            }

            // Add corner squares (QR code markers)
            const markerSize = 7 * blockSize;
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, markerSize, markerSize);
            ctx.fillRect(size - markerSize, 0, markerSize, markerSize);
            ctx.fillRect(0, size - markerSize, markerSize, markerSize);

            ctx.fillStyle = 'black';
            ctx.strokeStyle = 'black';
            ctx.lineWidth = blockSize;
            ctx.strokeRect(blockSize, blockSize, markerSize - 2*blockSize, markerSize - 2*blockSize);
            ctx.strokeRect(size - markerSize + blockSize, blockSize, markerSize - 2*blockSize, markerSize - 2*blockSize);
            ctx.strokeRect(blockSize, size - markerSize + blockSize, markerSize - 2*blockSize, markerSize - 2*blockSize);

            ctx.fillRect(2.5*blockSize, 2.5*blockSize, 2*blockSize, 2*blockSize);
            ctx.fillRect(size - markerSize + 2.5*blockSize, 2.5*blockSize, 2*blockSize, 2*blockSize);
            ctx.fillRect(2.5*blockSize, size - markerSize + 2.5*blockSize, 2*blockSize, 2*blockSize);
        }

        // Wallet Generation with visual feedback
        function generateSeed() {
            const randomBytes = new Uint8Array(32);
            crypto.getRandomValues(randomBytes);
            const seed = Array.from(randomBytes).map(b => b.toString(16).padStart(2, '0')).join('');

            document.getElementById('seed-output').style.display = 'block';
            document.getElementById('seed-output').textContent = seed;

            // Highlight step 2
            setTimeout(() => {
                document.getElementById('step-2').style.opacity = '1';

                // Generate mnemonic (simplified - using random words for demo)
                const words = ['abandon', 'ability', 'able', 'about', 'above', 'absent', 'absorb', 'abstract', 'absurd', 'abuse', 'access', 'accident', 'achieve', 'acid', 'acoustic', 'acquire', 'across', 'act', 'action', 'actor', 'actress', 'actual'];
                const mnemonic = Array.from({length: 12}, () => words[Math.floor(Math.random() * words.length)]).join(' ');

                document.getElementById('mnemonic-output').style.display = 'block';
                document.getElementById('mnemonic-output').textContent = mnemonic;

                // Highlight step 3
                setTimeout(() => {
                    document.getElementById('step-3').style.opacity = '1';

                    // Generate address (demo format)
                    const address = '1' + Array.from({length: 25}, () => '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'[Math.floor(Math.random() * 58)]).join('');

                    document.getElementById('address-output').style.display = 'block';
                    document.getElementById('address-output').textContent = address;

                    // Generate and display QR code
                    const canvas = document.getElementById('qr-code-canvas');
                    if (canvas) {
                        canvas.width = 200;
                        canvas.height = 200;
                        generateQRCode(address, 'qr-code-canvas');
                        document.getElementById('qr-code-container').style.display = 'block';
                    }

                    document.getElementById('show-more-btn').style.display = 'inline-block';
                }, 800);
            }, 800);
        }

        function showMoreAddresses() {
            const container = document.getElementById('more-addresses');
            container.style.display = 'block';
            container.innerHTML = '';
            for (let i = 0; i < 5; i++) {
                const address = '1' + Array.from({length: 25}, () => '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'[Math.floor(Math.random() * 58)]).join('');
                const div = document.createElement('div');
                div.className = 'demo-output';
                div.style.marginTop = '0.5rem';
                div.textContent = `Address ${i + 2}: ${address}`;
                container.appendChild(div);
            }
        }

        // Two-Phone Demo Functions
        function scanQRCode() {
            document.getElementById('scan-status').textContent = '✅ QR Code Scanned: bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh';
            document.getElementById('scan-status').style.color = 'var(--accent-green)';
            document.getElementById('send-btn').style.display = 'block';
        }

        function sendBitcoin() {
            const amount = parseFloat(document.getElementById('send-amount').value);
            const phoneABalance = parseFloat(document.getElementById('phone-a-balance').textContent);

            if (amount > phoneABalance) {
                alert('Insufficient balance!');
                return;
            }

            // Hide send button
            document.getElementById('send-btn').style.display = 'none';

            // Show transaction animation
            const txAnimation = document.getElementById('tx-animation');
            txAnimation.style.display = 'block';

            // Animate progress bar
            const progressBar = document.getElementById('tx-progress');
            let progress = 0;
            const interval = setInterval(() => {
                progress += 10;
                progressBar.style.width = progress + '%';

                if (progress >= 100) {
                    clearInterval(interval);

                    // Update balances
                    setTimeout(() => {
                        const newPhoneABalance = (phoneABalance - amount).toFixed(2);
                        const currentPhoneBBalance = parseFloat(document.getElementById('phone-b-balance').textContent);
                        const newPhoneBBalance = (currentPhoneBBalance + amount).toFixed(2);

                        document.getElementById('phone-a-balance').textContent = newPhoneABalance + ' BTC';
                        document.getElementById('phone-b-balance').textContent = newPhoneBBalance + ' BTC';

                        document.getElementById('tx-status').textContent = '✅ Transaction Confirmed!';

                        setTimeout(() => {
                            txAnimation.style.display = 'none';
                        }, 2000);
                    }, 500);
                }
            }, 200);
        }

        function resetTwoPhoneDemo() {
            document.getElementById('phone-a-balance').textContent = '0.05 BTC';
            document.getElementById('phone-b-balance').textContent = '0.00 BTC';
            document.getElementById('send-amount').value = '0.01';
            document.getElementById('scan-status').textContent = '';
            document.getElementById('send-btn').style.display = 'none';
            document.getElementById('tx-animation').style.display = 'none';
            document.getElementById('tx-progress').style.width = '0%';
            document.getElementById('tx-status').textContent = 'Miners are including your transaction in the next block';
        }

        // Use Case Display (Module 3)
        const useCases = {
            spend: {
                title: '🛒 Spend Bitcoin',
                content: `
                    <div style="background: var(--primary-dark); padding: 1.5rem; border-radius: 0.75rem;">
                        <h5 style="color: var(--accent-green); margin-bottom: 1rem;">Where Can You Spend Bitcoin?</h5>

                        <div style="background: rgba(33, 150, 243, 0.1); padding: 1.5rem; border-radius: 0.75rem; margin: 1rem 0; border: 2px solid var(--accent-blue);">
                            <h6 style="color: var(--accent-blue); margin-bottom: 0.75rem;">🎁 Bitrefill - Gift Cards & Phone Top-ups</h6>
                            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 0.75rem;">Buy gift cards for Amazon, Uber, Starbucks, and more with Bitcoin.</p>
                            <ul style="list-style: none; padding: 0; margin: 0;">
                                <li style="padding: 0.25rem 0; color: var(--text-dim); font-size: 0.85rem;">✅ Instant delivery</li>
                                <li style="padding: 0.25rem 0; color: var(--text-dim); font-size: 0.85rem;">✅ Lightning Network supported (instant & cheap)</li>
                                <li style="padding: 0.25rem 0; color: var(--text-dim); font-size: 0.85rem;">✅ 170+ countries</li>
                            </ul>
                        </div>

                        <div style="margin-top: 1.5rem;">
                            <p style="font-size: 0.9rem; color: var(--text-dim); margin-bottom: 0.5rem;"><strong>Other Places:</strong></p>
                            <ul style="list-style: none; padding: 0; margin: 0; color: var(--text-dim); font-size: 0.85rem;">
                                <li style="padding: 0.25rem 0;">• <strong>Merchants:</strong> Newegg, Overstock, Namecheap</li>
                                <li style="padding: 0.25rem 0;">• <strong>Services:</strong> VPNs (Mullvad, IVPN), domain names</li>
                                <li style="padding: 0.25rem 0;">• <strong>Lightning:</strong> Strike, Cash App (instant, low fees)</li>
                            </ul>
                        </div>

                        <div style="background: rgba(255, 167, 38, 0.1); padding: 1rem; border-radius: 0.5rem; margin-top: 1rem; border-left: 4px solid var(--accent-gold);">
                            <p style="margin: 0; font-size: 0.85rem;"><strong style="color: var(--accent-gold);">💡 Pro Tip:</strong> Use Lightning Network for small purchases = lower fees & instant confirmation!</p>
                        </div>
                    </div>
                `
            },
            send: {
                title: '📤 Send Bitcoin',
                content: `
                    <div style="background: var(--primary-dark); padding: 1.5rem; border-radius: 0.75rem;">
                        <h5 style="color: var(--accent-blue); margin-bottom: 1rem;">How to Send Bitcoin Anywhere</h5>

                        <div style="display: flex; flex-direction: column; gap: 1rem;">
                            <div style="background: rgba(76, 175, 80, 0.1); padding: 1rem; border-radius: 0.75rem; border: 2px solid var(--accent-green);">
                                <strong style="color: var(--accent-green);">Step 1: Get the Recipient's Address</strong>
                                <p style="color: var(--text-dim); font-size: 0.85rem; margin: 0.5rem 0 0;">Ask them to send you their Bitcoin address or scan their QR code</p>
                            </div>

                            <div style="text-align: center; color: var(--accent-gold); font-size: 1.5rem;">↓</div>

                            <div style="background: rgba(76, 175, 80, 0.1); padding: 1rem; border-radius: 0.75rem; border: 2px solid var(--accent-green);">
                                <strong style="color: var(--accent-green);">Step 2: Open Your Wallet</strong>
                                <p style="color: var(--text-dim); font-size: 0.85rem; margin: 0.5rem 0 0;">Tap "Send" and paste their address or scan QR code</p>
                            </div>

                            <div style="text-align: center; color: var(--accent-gold); font-size: 1.5rem;">↓</div>

                            <div style="background: rgba(76, 175, 80, 0.1); padding: 1rem; border-radius: 0.75rem; border: 2px solid var(--accent-green);">
                                <strong style="color: var(--accent-green);">Step 3: Enter Amount & Fee</strong>
                                <p style="color: var(--text-dim); font-size: 0.85rem; margin: 0.5rem 0 0;">Choose fee priority: Low (slow) → Medium (~30 min) → High (fast)</p>
                            </div>

                            <div style="text-align: center; color: var(--accent-gold); font-size: 1.5rem;">↓</div>

                            <div style="background: rgba(76, 175, 80, 0.1); padding: 1rem; border-radius: 0.75rem; border: 2px solid var(--accent-green);">
                                <strong style="color: var(--accent-green);">Step 4: Confirm & Send</strong>
                                <p style="color: var(--text-dim); font-size: 0.85rem; margin: 0.5rem 0 0;">Double-check address! Bitcoin transactions can't be reversed.</p>
                            </div>
                        </div>

                        <div style="background: rgba(244, 67, 54, 0.1); padding: 1rem; border-radius: 0.5rem; margin-top: 1rem; border-left: 4px solid #f44336;">
                            <p style="margin: 0; font-size: 0.85rem;"><strong style="color: #f44336;">⚠️ Always verify:</strong> Wrong address = lost Bitcoin forever. No customer service to call!</p>
                        </div>
                    </div>
                `
            },
            save: {
                title: '🔒 Save Bitcoin (Cold Storage)',
                content: `
                    <div style="background: var(--primary-dark); padding: 1.5rem; border-radius: 0.75rem;">
                        <h5 style="color: var(--accent-gold); margin-bottom: 1rem;">Long-Term Bitcoin Storage Strategy</h5>

                        <div style="margin-bottom: 1.5rem;">
                            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem;">Think of Bitcoin storage like cash: keep spending money accessible, keep savings locked up safe.</p>
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem;">
                            <div style="background: rgba(33, 150, 243, 0.1); padding: 1rem; border-radius: 0.75rem; border: 2px solid var(--accent-blue);">
                                <h6 style="color: var(--accent-blue); margin-bottom: 0.5rem;">🔥 Hot Wallet</h6>
                                <p style="font-size: 0.85rem; color: var(--text-dim); margin-bottom: 0.5rem;">For daily spending</p>
                                <ul style="list-style: none; padding: 0; margin: 0; font-size: 0.8rem; color: var(--text-dim);">
                                    <li style="padding: 0.25rem 0;">• Mobile wallets</li>
                                    <li style="padding: 0.25rem 0;">• 5-10% of holdings</li>
                                    <li style="padding: 0.25rem 0;">• Always online</li>
                                </ul>
                            </div>

                            <div style="background: rgba(76, 175, 80, 0.1); padding: 1rem; border-radius: 0.75rem; border: 2px solid var(--accent-green);">
                                <h6 style="color: var(--accent-green); margin-bottom: 0.5rem;">❄️ Cold Storage</h6>
                                <p style="font-size: 0.85rem; color: var(--text-dim); margin-bottom: 0.5rem;">For long-term savings</p>
                                <ul style="list-style: none; padding: 0; margin: 0; font-size: 0.8rem; color: var(--text-dim);">
                                    <li style="padding: 0.25rem 0;">• Hardware wallets</li>
                                    <li style="padding: 0.25rem 0;">• 90-95% of holdings</li>
                                    <li style="padding: 0.25rem 0;">• Offline & secure</li>
                                </ul>
                            </div>
                        </div>

                        <div style="background: rgba(156, 39, 176, 0.1); padding: 1rem; border-radius: 0.75rem; border: 2px solid #9c27b0;">
                            <h6 style="color: #ce93d8; margin-bottom: 0.75rem;">🛡️ Cold Storage Options:</h6>
                            <ul style="list-style: none; padding: 0; margin: 0; color: var(--text-dim); font-size: 0.85rem;">
                                <li style="padding: 0.5rem 0; border-bottom: 1px solid rgba(156, 39, 176, 0.2);"><strong>Hardware Wallet:</strong> Physical device (Coldcard, Trezor, Ledger)</li>
                                <li style="padding: 0.5rem 0; border-bottom: 1px solid rgba(156, 39, 176, 0.2);"><strong>Paper Wallet:</strong> Seed phrase on paper in safe/vault</li>
                                <li style="padding: 0.5rem 0;"><strong>Multisig:</strong> 2-of-3 keys spread across locations (advanced)</li>
                            </ul>
                        </div>

                        <div style="background: rgba(255, 167, 38, 0.1); padding: 1rem; border-radius: 0.5rem; margin-top: 1rem; border-left: 4px solid var(--accent-gold);">
                            <p style="margin: 0; font-size: 0.85rem;"><strong style="color: var(--accent-gold);">💡 Best Practice:</strong> Store seed phrase in multiple secure physical locations. Metal backup plates resist fire/water damage.</p>
                        </div>
                    </div>
                `
            }
        };

        function showUseCase(type) {
            const useCase = useCases[type];
            const display = document.getElementById('use-case-display');

            // Remove active class from all buttons
            document.querySelectorAll('[data-use-case]').forEach(btn => {
                btn.classList.remove('active');
            });

            // Add active class to clicked button
            document.querySelector(`[data-use-case="${type}"]`).classList.add('active');

            // Show use case content
            display.style.display = 'block';
            display.innerHTML = `
                <div style="background: var(--secondary-dark); padding: 1.5rem; border-radius: 0.75rem; margin-top: 1rem; border: 2px solid var(--border-color);">
                    <h4 style="color: var(--accent-green); margin-bottom: 1rem;">${useCase.title}</h4>
                    ${useCase.content}
                </div>
            `;

            display.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Update practices checklist score
        function updatePracticesScore() {
            const checked = document.querySelectorAll('#bitcoin-practices-checklist li.checked').length;
            document.getElementById('practices-score').textContent = `${checked}/6`;
        }

        // Mining Simulator
        let miningInterval = null;
        let miningNonce = 0;
        let miningStartTime = 0;
        let miningDifficulty = 4;

        async function startMining() {
            document.getElementById('start-mining-btn').style.display = 'none';
            document.getElementById('stop-mining-btn').style.display = 'inline-block';

            miningNonce = 0;
            miningStartTime = Date.now();

            miningInterval = setInterval(async () => {
                const data = `Block ${miningNonce}`;
                const hash = await sha256(data);

                document.getElementById('nonce-value').textContent = miningNonce;
                document.getElementById('current-hash').textContent = hash;
                document.getElementById('current-hash').classList.remove('success');

                const elapsed = Math.floor((Date.now() - miningStartTime) / 1000);
                document.getElementById('time-elapsed').textContent = elapsed + 's';

                const hashrate = Math.floor(miningNonce / Math.max(elapsed, 1));
                document.getElementById('hashrate-value').textContent = hashrate;

                // Check if hash meets difficulty
                const target = '0'.repeat(miningDifficulty);
                if (hash.startsWith(target)) {
                    document.getElementById('current-hash').classList.add('success');
                    stopMining();
                    alert(`🎉 Block mined! Found valid hash in ${miningNonce} attempts!`);
                    return;
                }

                miningNonce++;
            }, 10);
        }

        function stopMining() {
            if (miningInterval) {
                clearInterval(miningInterval);
                miningInterval = null;
            }
            document.getElementById('start-mining-btn').style.display = 'inline-block';
            document.getElementById('stop-mining-btn').style.display = 'none';
        }

        function resetMining() {
            stopMining();
            miningNonce = 0;
            document.getElementById('nonce-value').textContent = '0';
            document.getElementById('hashrate-value').textContent = '0';
            document.getElementById('time-elapsed').textContent = '0s';
            document.getElementById('current-hash').textContent = 'Click "Start Mining" to begin the search for a winning hash!';
            document.getElementById('current-hash').classList.remove('success');
        }

        function changeDifficulty() {
            miningDifficulty = parseInt(document.getElementById('difficulty-select').value);
            document.getElementById('difficulty-target').textContent = '0'.repeat(miningDifficulty);
            resetMining();
        }

        // Blockchain Builder
        let blockchain = [
            {
                index: 0,
                prevHash: '0'.repeat(64),
                data: 'Genesis Block - First Bitcoin Block',
                hash: '000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f'
            }
        ];

        async function renderBlockchain(highlightLast = false) {
            const container = document.getElementById('blockchain-container');
            container.innerHTML = '';

            for (let i = 0; i < blockchain.length; i++) {
                const block = blockchain[i];
                const blockEl = document.createElement('div');
                blockEl.className = 'block valid';

                // Highlight the newly added block
                if (highlightLast && i === blockchain.length - 1) {
                    blockEl.classList.add('new-block');
                }

                blockEl.innerHTML = `
                    <div class="block-field">
                        <label>Block #:</label>
                        <div class="value">${block.index}</div>
                    </div>
                    <div class="block-field">
                        <label>Previous Hash:</label>
                        <div class="value">${block.prevHash.substring(0, 32)}...</div>
                    </div>
                    <div class="block-field">
                        <label>Data:</label>
                        <div class="value">${block.data}</div>
                    </div>
                    <div class="block-field">
                        <label>Block Hash:</label>
                        <div class="value" style="color: var(--accent-green)">${block.hash.substring(0, 32)}...</div>
                    </div>
                `;
                container.appendChild(blockEl);
            }

            document.getElementById('chain-length').textContent = blockchain.length;
            document.getElementById('total-transactions').textContent = blockchain.length;

            // Scroll to the new block
            if (highlightLast) {
                container.lastChild.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        }

        async function addBlock() {
            const data = document.getElementById('block-data').value || 'New transaction data';
            const prevBlock = blockchain[blockchain.length - 1];

            const newBlock = {
                index: blockchain.length,
                prevHash: prevBlock.hash,
                data: data,
                hash: await sha256(`${blockchain.length}${prevBlock.hash}${data}`)
            };

            blockchain.push(newBlock);
            document.getElementById('block-data').value = '';
            renderBlockchain(true); // Highlight the new block
        }

        // Security Checklist
        function toggleCheck(li) {
            const checkbox = li.querySelector('input[type="checkbox"]');
            checkbox.checked = !checkbox.checked;
            li.classList.toggle('checked');

            // Update security score if it exists
            const securityChecklist = document.getElementById('security-checklist');
            if (securityChecklist && securityChecklist.contains(li)) {
                const checked = document.querySelectorAll('#security-checklist li.checked').length;
                const scoreEl = document.getElementById('security-score');
                if (scoreEl) {
                    scoreEl.textContent = `${checked}/5`;
                }
            }

            // Update practices score if it exists
            const practicesChecklist = document.getElementById('bitcoin-practices-checklist');
            if (practicesChecklist && practicesChecklist.contains(li)) {
                updatePracticesScore();
            }
        }

        // FAQ Toggle
        function toggleFAQ(element) {
            const item = element.parentElement;
            const isOpen = item.classList.contains('open');

            // Close all
            document.querySelectorAll('.faq-item').forEach(i => i.classList.remove('open'));

            // Open clicked if it wasn't open
            if (!isOpen) {
                item.classList.add('open');
            }

            // Toggle icon
            element.querySelector('span:last-child').textContent = isOpen ? '+' : '−';
        }

        // Initialize
        updateProgress();
        renderBlockchain();

        // Initialize receiver QR code for two-phone demo
        const receiverQR = document.getElementById('receiver-qr-code');
        if (receiverQR) {
            generateQRCode('bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh', 'receiver-qr-code');
        }

        // Auto-open first incomplete module
        const firstIncomplete = [...Array(4).keys()].find(i => !completedModules.has(i + 1));
        if (firstIncomplete !== undefined) {
            toggleModule(firstIncomplete + 1);
        }
    </script>
</body>
</html>
