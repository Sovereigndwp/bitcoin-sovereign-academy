<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Hurried: Bitcoin Straight Up | Bitcoin Sovereign Academy</title>
    <meta name="description" content="Learn Bitcoin through hands-on interactive demos. No fluff, just practical knowledge.">

    <!-- QR Code Library - using QRious for better reliability -->
    <script src="https://cdn.jsdelivr.net/npm/qrious@4.0.2/dist/qrious.min.js"></script>
    
    <!-- Path Animations -->
    <link rel="stylesheet" href="/css/path-animations.css">

    <style>
        :root {
            --primary-orange: #f7931a;
            --primary-dark: #1a1a1a;
            --secondary-dark: #2d2d2d;
            --accent-green: #4caf50;
            --accent-gold: #FFA726;
            --accent-blue: #2196f3;
            --text-light: #e0e0e0;
            --text-dim: #999;
            --border-color: rgba(247, 147, 26, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--primary-dark);
            color: var(--text-light);
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Header */
        .hero-header {
            background: linear-gradient(135deg, rgba(255, 167, 38, 0.2), rgba(255, 167, 38, 0.05));
            border-bottom: 3px solid var(--accent-gold);
            padding: 2rem 0 1.5rem;
            text-align: center;
            margin-bottom: 2rem;
        }

        .hero-header h1 {
            font-size: 2.5rem;
            color: var(--accent-gold);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
        }

        .hero-tagline {
            font-size: 1.2rem;
            color: var(--text-dim);
        }

        /* Module Section */
        .module-section {
            background: var(--secondary-dark);
            border: 2px solid var(--border-color);
            border-radius: 1rem;
            margin-bottom: 1.5rem;
            overflow: hidden;
        }

        .module-header {
            padding: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.2s;
        }

        .module-header:hover {
            background: rgba(255, 167, 38, 0.1);
        }

        .module-title {
            font-size: 1.5rem;
            color: var(--text-light);
        }

        .module-number {
            color: var(--accent-gold);
            font-weight: bold;
            margin-right: 0.5rem;
        }

        .toggle-icon {
            font-size: 1.5rem;
            color: var(--accent-gold);
            transition: transform 0.3s;
        }

        .module-section.open .toggle-icon {
            transform: rotate(180deg);
        }

        .module-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease;
        }

        .module-section.open .module-content {
            max-height: 10000px;
        }

        .module-inner {
            padding: 2rem;
            border-top: 1px solid var(--border-color);
        }

        /* Content Blocks */
        .info-box {
            background: rgba(33, 150, 243, 0.1);
            border-left: 4px solid var(--accent-blue);
            padding: 1rem;
            margin: 1.5rem 0;
            border-radius: 0.5rem;
        }

        .info-box strong {
            color: var(--accent-blue);
            display: block;
            margin-bottom: 0.5rem;
        }

        .feature-list {
            list-style: none;
            padding: 0;
        }

        .feature-list li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
        }

        .feature-list li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: var(--accent-green);
            font-weight: bold;
        }

        /* Comparison Table */
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .comparison-box {
            padding: 1.5rem;
            border-radius: 0.75rem;
            border: 2px solid;
        }

        .comparison-box.bad {
            background: rgba(244, 67, 54, 0.1);
            border-color: #f44336;
        }

        .comparison-box.good {
            background: rgba(76, 175, 80, 0.1);
            border-color: var(--accent-green);
        }

        .comparison-box h4 {
            margin-bottom: 1rem;
        }

        /* Interactive Demos */
        .demo-box {
            background: rgba(156, 39, 176, 0.1);
            border: 2px solid #9c27b0;
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
        }

        .demo-box h4 {
            color: #ce93d8;
            margin-bottom: 1.5rem;
            font-size: 1.3rem;
        }

        .demo-step {
            background: var(--primary-dark);
            padding: 1.5rem;
            border-radius: 0.75rem;
            margin-bottom: 1rem;
            transition: opacity 0.5s ease;
        }

        .demo-step h5 {
            color: var(--accent-gold);
            margin-bottom: 1rem;
        }

        .demo-output {
            background: #000;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 1rem;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            color: var(--accent-green);
            overflow-x: auto;
        }

        .button {
            background: linear-gradient(135deg, var(--accent-gold), #FFB74D);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 167, 38, 0.4);
        }

        .button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .button.secondary {
            background: linear-gradient(135deg, var(--accent-blue), #42A5F5);
        }

        .button.success {
            background: linear-gradient(135deg, var(--accent-green), #66BB6A);
        }

        .button.active {
            background: linear-gradient(135deg, var(--accent-gold), var(--primary-orange));
            box-shadow: 0 5px 20px rgba(255, 167, 38, 0.5);
            transform: translateY(-2px);
        }

        /* Mining Demo */
        .mining-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .stat-box {
            background: var(--secondary-dark);
            padding: 1rem;
            border-radius: 0.5rem;
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            color: var(--accent-gold);
            font-weight: bold;
        }

        .stat-label {
            color: var(--text-dim);
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }

        .hash-display {
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            word-break: break-all;
            padding: 1rem;
            background: #000;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            margin: 1rem 0;
        }

        .hash-display.success {
            border-color: var(--accent-green);
            background: rgba(76, 175, 80, 0.1);
        }

        /* Blockchain Builder */
        .block {
            background: var(--secondary-dark);
            border: 2px solid var(--border-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }

        .block.valid {
            border-color: var(--accent-green);
        }

        .block.new-block {
            animation: blockPulse 0.6s ease-out;
        }

        @keyframes blockPulse {
            0% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.7);
            }
            50% {
                transform: scale(1.02);
                box-shadow: 0 0 20px 10px rgba(76, 175, 80, 0.3);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(76, 175, 80, 0);
            }
        }

        .block-field {
            margin: 0.75rem 0;
            display: grid;
            grid-template-columns: 120px 1fr;
            gap: 1rem;
            align-items: center;
        }

        .block-field label {
            font-weight: 600;
            color: var(--accent-gold);
        }

        .block-field .value {
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            word-break: break-all;
        }

        /* FAQ */
        .faq-item {
            background: var(--secondary-dark);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
            overflow: hidden;
        }

        .faq-question {
            padding: 1rem 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.2s;
        }

        .faq-question:hover {
            background: rgba(255, 167, 38, 0.1);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .faq-item.open .faq-answer {
            max-height: 500px;
        }

        .faq-answer-inner {
            padding: 0 1.5rem 1rem 1.5rem;
            color: var(--text-dim);
        }

        /* Glossary */
        .glossary-grid {
            display: grid;
            gap: 1rem;
        }

        .glossary-term {
            background: var(--secondary-dark);
            border-left: 4px solid var(--accent-gold);
            padding: 1rem 1.5rem;
            border-radius: 0 0.5rem 0.5rem 0;
        }

        .glossary-term h4 {
            color: var(--accent-gold);
            margin-bottom: 0.5rem;
        }

        .glossary-analogy {
            font-style: italic;
            color: var(--text-dim);
            margin-top: 0.5rem;
            font-size: 0.95rem;
        }

        /* Checklist */
        .checklist {
            list-style: none;
        }

        .checklist li {
            padding: 0.75rem;
            margin: 0.5rem 0;
            background: var(--secondary-dark);
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .checklist li:hover {
            background: rgba(255, 167, 38, 0.1);
        }

        .checklist li.checked {
            background: rgba(76, 175, 80, 0.1);
            border-left: 4px solid var(--accent-green);
        }

        .checklist input[type="checkbox"] {
            margin-right: 0.75rem;
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .understand-btn {
            display: block;
            width: 100%;
            margin-top: 2rem;
        }

        /* Progress */
        .progress-indicator {
            background: var(--secondary-dark);
            border: 2px solid var(--accent-gold);
            border-radius: 1rem;
            padding: 1rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .progress-text {
            font-size: 1.2rem;
            color: var(--accent-gold);
            font-weight: bold;
        }

        .progress-bar-container {
            width: 100%;
            height: 10px;
            background: var(--secondary-dark);
            border-radius: 5px;
            overflow: hidden;
            margin-top: 0.75rem;
        }

        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-orange), var(--accent-gold));
            transition: width 0.5s ease;
            border-radius: 5px;
        }

        /* Status Indicators */
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 0.5rem;
        }

        .status-green {
            background: #00ff00;
            box-shadow: 0 0 10px #00ff00;
        }

        .status-yellow {
            background: #ffff00;
            box-shadow: 0 0 10px #ffff00;
        }

        .status-orange {
            background: #ff8c00;
            box-shadow: 0 0 10px #ff8c00;
        }

        .status-red {
            background: #ff0000;
            box-shadow: 0 0 10px #ff0000;
        }

        /* Achievement Badge */
        .achievement-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: linear-gradient(135deg, rgba(247, 147, 26, 0.95), rgba(255, 167, 38, 0.95));
            border: 3px solid var(--accent-gold);
            border-radius: 1rem;
            padding: 3rem;
            text-align: center;
            z-index: 10000;
            animation: achievementPop 3.5s forwards;
            box-shadow: 0 0 50px rgba(247, 147, 26, 0.7);
        }

        @keyframes achievementPop {
            0% { transform: translate(-50%, -50%) scale(0); }
            20% { transform: translate(-50%, -50%) scale(1.1); }
            30% { transform: translate(-50%, -50%) scale(1); }
            90% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
        }

        .achievement-icon {
            font-size: 5rem;
            margin-bottom: 1rem;
        }

        .achievement-title {
            font-size: 2rem;
            color: white;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .achievement-desc {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
        }

        @media (max-width: 768px) {
            .comparison {
                grid-template-columns: 1fr;
            }

            .block-field {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="hero-header">
        <div class="container">
            <h1>
                <div class="hurried-speed">
                    🚀
                    <div class="speed-line"></div>
                    <div class="speed-line"></div>
                    <div class="speed-line"></div>
                </div>
                The Hurried: Bitcoin Straight Up
            </h1>
            <p class="hero-tagline">Get it. Hold it. Use it. Bitcoin in 10 minutes.</p>
        </div>
    </header>

    <div class="container">
        <div class="progress-indicator">
            <div class="progress-text" id="progress-text">0 / 4 Steps Completed</div>
            <div class="progress-bar-container">
                <div class="progress-bar-fill" id="progress-bar" style="width: 0%;"></div>
            </div>
        </div>

        <!-- Visual Flow Map -->
        <div style="background: linear-gradient(135deg, rgba(247, 147, 26, 0.15), rgba(76, 175, 80, 0.1)); border: 2px solid var(--accent-gold); border-radius: 1rem; padding: 2rem; margin-bottom: 2rem;">
            <h3 style="text-align: center; color: var(--accent-gold); margin-bottom: 2rem; font-size: 1.5rem; font-weight: 700;">Three Simple Steps to Bitcoin Sovereignty</h3>

            <!-- Simplified Visual Journey Map -->
            <div style="background: linear-gradient(135deg, rgba(255, 167, 38, 0.1), rgba(255, 167, 38, 0.02)); border: 2px solid var(--border-color); border-radius: 1.5rem; padding: 2.5rem 1.5rem; margin-bottom: 2rem;">
                <div style="display: flex; align-items: stretch; justify-content: space-between; flex-wrap: wrap; gap: 1.5rem;">
                    <!-- Step 1: Get -->
                    <div style="text-align: center; flex: 1; min-width: 180px; background: rgba(33, 150, 243, 0.15); border: 3px solid var(--accent-blue); border-radius: 1rem; padding: 1.5rem 1rem; transition: transform 0.2s;">
                        <div style="font-size: 3.5rem; margin-bottom: 0.75rem; filter: drop-shadow(0 2px 4px rgba(33, 150, 243, 0.5));">💵</div>
                        <div style="background: var(--accent-blue); color: white; display: inline-block; padding: 0.25rem 0.75rem; border-radius: 2rem; font-size: 0.75rem; font-weight: 700; margin-bottom: 0.5rem; letter-spacing: 0.5px;">STEP 1</div>
                        <strong style="display: block; color: var(--accent-blue); font-size: 1.3rem; margin-bottom: 0.5rem;">Get Bitcoin</strong>
                        <p style="color: var(--text-light); font-size: 0.9rem; margin: 0; line-height: 1.4;">Buy your first sats<br>in 10 minutes</p>
                    </div>

                    <!-- Arrow -->
                    <div style="display: flex; align-items: center; color: var(--accent-gold); font-size: 2.5rem; font-weight: bold;">→</div>

                    <!-- Step 2: Own -->
                    <div style="text-align: center; flex: 1; min-width: 180px; background: rgba(156, 39, 176, 0.15); border: 3px solid #9c27b0; border-radius: 1rem; padding: 1.5rem 1rem; transition: transform 0.2s;">
                        <div style="font-size: 3.5rem; margin-bottom: 0.75rem; filter: drop-shadow(0 2px 4px rgba(156, 39, 176, 0.5));">🔐</div>
                        <div style="background: #9c27b0; color: white; display: inline-block; padding: 0.25rem 0.75rem; border-radius: 2rem; font-size: 0.75rem; font-weight: 700; margin-bottom: 0.5rem; letter-spacing: 0.5px;">STEP 2</div>
                        <strong style="display: block; color: #ce93d8; font-size: 1.3rem; margin-bottom: 0.5rem;">Own Your Keys</strong>
                        <p style="color: var(--text-light); font-size: 0.9rem; margin: 0; line-height: 1.4;">Self-custody:<br>True ownership</p>
                    </div>

                    <!-- Arrow -->
                    <div style="display: flex; align-items: center; color: var(--accent-gold); font-size: 2.5rem; font-weight: bold;">→</div>

                    <!-- Step 3: Use -->
                    <div style="text-align: center; flex: 1; min-width: 180px; background: rgba(76, 175, 80, 0.15); border: 3px solid var(--accent-green); border-radius: 1rem; padding: 1.5rem 1rem; transition: transform 0.2s;">
                        <div style="font-size: 3.5rem; margin-bottom: 0.75rem; filter: drop-shadow(0 2px 4px rgba(76, 175, 80, 0.5));">⚡</div>
                        <div style="background: var(--accent-green); color: white; display: inline-block; padding: 0.25rem 0.75rem; border-radius: 2rem; font-size: 0.75rem; font-weight: 700; margin-bottom: 0.5rem; letter-spacing: 0.5px;">STEP 3</div>
                        <strong style="display: block; color: var(--accent-green); font-size: 1.3rem; margin-bottom: 0.5rem;">Use It Wisely</strong>
                        <p style="color: var(--text-light); font-size: 0.9rem; margin: 0; line-height: 1.4;">Send, save,<br>and verify</p>
                    </div>
                </div>

                <!-- Time Estimate -->
                <div style="text-align: center; margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid var(--border-color);">
                    <p style="color: var(--text-dim); font-size: 0.95rem; margin: 0;">
                        <span style="color: var(--accent-gold); font-weight: 600;">⏱️ Total Time:</span> 30 minutes to Bitcoin sovereignty
                    </p>
                </div>
            </div>
        </div>

        <!-- Module 1: Get Bitcoin -->
        <section class="module-section" data-module="1">
            <div class="module-header" onclick="toggleModule(1)">
                <div>
                    <span class="module-number">💵</span>
                    <span class="module-title">Step 1: Get Bitcoin</span>
                </div>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="module-content">
                <div class="module-inner">
                    <!-- Simplified Opening -->
                    <div style="background: linear-gradient(135deg, rgba(33, 150, 243, 0.2), rgba(33, 150, 243, 0.05)); border: 3px solid var(--accent-blue); border-radius: 1rem; padding: 2rem; margin-bottom: 2rem; text-align: center;">
                        <h3 style="color: var(--accent-blue); font-size: 1.8rem; margin-bottom: 1rem;">Most People Start Here</h3>
                        <p style="font-size: 1.1rem; color: var(--text-light); margin-bottom: 1.5rem;">Buy $10-50 on an exchange, then move it to your own wallet.</p>
                        <div style="display: inline-block; background: rgba(255, 255, 255, 0.1); padding: 1rem 1.5rem; border-radius: 0.75rem;">
                            <p style="margin: 0; color: var(--text-dim); font-size: 0.95rem;">⏱️ Time: <strong style="color: var(--text-light);">10 minutes</strong> | 💰 Start with: <strong style="color: var(--text-light);">$10-50</strong></p>
                        </div>
                    </div>

                    <!-- Simplified Visual Choice -->
                    <h3 style="color: var(--accent-gold); margin-bottom: 1.5rem; font-size: 1.4rem;">Choose Your Entry Point</h3>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                        <!-- Option 1: Exchange (Recommended for beginners) -->
                        <div style="background: linear-gradient(135deg, rgba(76, 175, 80, 0.15), rgba(76, 175, 80, 0.05)); border: 3px solid var(--accent-green); border-radius: 1rem; padding: 1.5rem; position: relative;">
                            <div style="position: absolute; top: -12px; right: 1rem; background: var(--accent-green); color: white; padding: 0.25rem 0.75rem; border-radius: 1rem; font-size: 0.75rem; font-weight: 700;">RECOMMENDED</div>
                            <div style="font-size: 3rem; margin-bottom: 0.75rem;">🏦</div>
                            <strong style="display: block; font-size: 1.2rem; color: var(--accent-green); margin-bottom: 0.5rem;">Exchange</strong>
                            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem;">Fast, easy, accepts cards & bank transfers</p>
                            <div style="background: rgba(0, 0, 0, 0.3); padding: 0.75rem; border-radius: 0.5rem; margin-bottom: 0.75rem;">
                                <p style="margin: 0; font-size: 0.85rem; color: var(--text-dim);">Examples: Coinbase, Kraken, Strike, Cash App</p>
                            </div>
                            <p style="margin: 0; font-size: 0.85rem;"><span style="color: var(--accent-green);">✓</span> Beginner-friendly<br><span style="color: #ff9800;">⚠️</span> Withdraw to own wallet ASAP</p>
                        </div>

                        <!-- Option 2: P2P -->
                        <div style="background: rgba(156, 39, 176, 0.1); border: 2px solid rgba(156, 39, 176, 0.5); border-radius: 1rem; padding: 1.5rem;">
                            <div style="font-size: 3rem; margin-bottom: 0.75rem;">🤝</div>
                            <strong style="display: block; font-size: 1.2rem; color: #ce93d8; margin-bottom: 0.5rem;">Peer-to-Peer</strong>
                            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem;">More private, direct ownership</p>
                            <div style="background: rgba(0, 0, 0, 0.3); padding: 0.75rem; border-radius: 0.5rem; margin-bottom: 0.75rem;">
                                <p style="margin: 0; font-size: 0.85rem; color: var(--text-dim);">Examples: Bisq, RoboSats, ATMs</p>
                            </div>
                            <p style="margin: 0; font-size: 0.85rem;"><span style="color: var(--accent-green);">✓</span> Better privacy<br><span style="color: #ff9800;">⚠️</span> Higher learning curve</p>
                        </div>

                        <!-- Option 3: Earn -->
                        <div style="background: rgba(255, 167, 38, 0.1); border: 2px solid rgba(255, 167, 38, 0.5); border-radius: 1rem; padding: 1.5rem;">
                            <div style="font-size: 3rem; margin-bottom: 0.75rem;">💼</div>
                            <strong style="display: block; font-size: 1.2rem; color: var(--accent-gold); margin-bottom: 0.5rem;">Earn It</strong>
                            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem;">Get paid in Bitcoin for work or goods</p>
                            <div style="background: rgba(0, 0, 0, 0.3); padding: 0.75rem; border-radius: 0.5rem; margin-bottom: 0.75rem;">
                                <p style="margin: 0; font-size: 0.85rem; color: var(--text-dim);">Freelance, sell products, services</p>
                            </div>
                            <p style="margin: 0; font-size: 0.85rem;"><span style="color: var(--accent-green);">✓</span> No KYC needed<br><span style="color: var(--text-dim);">○</span> Slower to accumulate</p>
                        </div>
                    </div>

                    <!-- Key Insight -->
                    <div style="background: linear-gradient(135deg, rgba(255, 152, 0, 0.2), rgba(255, 152, 0, 0.05)); border-left: 5px solid #ff9800; padding: 1.5rem; border-radius: 0.75rem; margin: 2rem 0;">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="font-size: 2.5rem; flex-shrink: 0;">💡</div>
                            <div>
                                <strong style="color: #ff9800; font-size: 1.1rem; display: block; margin-bottom: 0.5rem;">The Golden Rule</strong>
                                <p style="margin: 0; color: var(--text-light); font-size: 1rem;">Not your keys, not your Bitcoin. Always move funds to your own wallet after buying.</p>
                            </div>
                        </div>
                    </div>

                    <h3 style="margin-top: 2.5rem; color: var(--accent-gold); font-size: 1.4rem;">The 3-Step Purchase</h3>

                    <!-- Simplified Visual Flow -->
                    <div style="background: linear-gradient(135deg, rgba(33, 150, 243, 0.2), rgba(33, 150, 243, 0.05)); border: 3px solid var(--accent-blue); border-radius: 1rem; padding: 2rem; margin: 1.5rem 0;">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; text-align: center;">
                            <!-- Step 1 -->
                            <div>
                                <div style="background: var(--accent-blue); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.8rem; font-weight: bold; margin: 0 auto 1rem; box-shadow: 0 4px 12px rgba(33, 150, 243, 0.4);">1</div>
                                <strong style="display: block; color: var(--accent-blue); font-size: 1.1rem; margin-bottom: 0.5rem;">Sign Up</strong>
                                <p style="color: var(--text-dim); font-size: 0.9rem; margin: 0;">Create account on exchange</p>
                            </div>

                            <!-- Step 2 -->
                            <div>
                                <div style="background: var(--accent-blue); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.8rem; font-weight: bold; margin: 0 auto 1rem; box-shadow: 0 4px 12px rgba(33, 150, 243, 0.4);">2</div>
                                <strong style="display: block; color: var(--accent-blue); font-size: 1.1rem; margin-bottom: 0.5rem;">Link Payment</strong>
                                <p style="color: var(--text-dim); font-size: 0.9rem; margin: 0;">Bank or card</p>
                            </div>

                            <!-- Step 3 -->
                            <div>
                                <div style="background: var(--accent-green); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.8rem; font-weight: bold; margin: 0 auto 1rem; box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);">✓</div>
                                <strong style="display: block; color: var(--accent-green); font-size: 1.1rem; margin-bottom: 0.5rem;">Buy Sats</strong>
                                <p style="color: var(--text-dim); font-size: 0.9rem; margin: 0;">Start with $10-50</p>
                            </div>
                        </div>

                        <!-- Key Reality Check -->
                        <div style="background: rgba(244, 67, 54, 0.15); border: 2px solid #f44336; border-radius: 0.75rem; padding: 1.5rem; margin-top: 2rem; text-align: center;">
                            <div style="font-size: 2rem; margin-bottom: 0.5rem;">⚠️</div>
                            <strong style="display: block; color: #f44336; font-size: 1.1rem; margin-bottom: 0.5rem;">You Don't Really Own It Yet</strong>
                            <p style="margin: 0; color: var(--text-light); font-size: 0.95rem;">The exchange holds it for you. Next step: Move it to YOUR wallet.</p>
                        </div>
                    </div>

                    <!-- Exchange Withdrawal Reality Check -->
                    <div style="background: linear-gradient(135deg, rgba(255, 152, 0, 0.2), rgba(255, 152, 0, 0.05)); border: 3px solid #ff9800; border-radius: 1rem; padding: 2rem; margin: 2rem 0;">
                        <h4 style="color: #ff9800; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                            <span style="font-size: 1.5rem;">⏱️</span>
                            <span>First Withdrawal? Expect This Reality Check</span>
                        </h4>
                        <div style="background: rgba(0, 0, 0, 0.3); padding: 1.5rem; border-radius: 0.75rem; margin-bottom: 1.5rem;">
                            <p style="margin: 0; font-size: 1.05rem; font-weight: 600; color: var(--text-light);">
                                🚨 Your first withdrawal will likely be held for 24–48 hours for "security review."
                            </p>
                            <p style="margin: 0.75rem 0 0; color: var(--text-dim);">
                                This is NORMAL. Exchanges like Coinbase, CoinSpot, Kraken do this for new accounts. You might get:
                            </p>
                            <ul style="margin: 0.5rem 0 0 1.5rem; color: var(--text-dim);">
                                <li>Email confirmation required</li>
                                <li>Phone callback from support</li>
                                <li>"Pending review" status with no TXID</li>
                                <li>24–72 hour hold before funds move</li>
                            </ul>
                        </div>

                        <!-- Practice vs YOLO Accordion -->
                        <details style="background: var(--secondary-dark); border: 2px solid #ff9800; border-radius: 0.75rem; padding: 1rem; margin-bottom: 1rem; cursor: pointer;">
                            <summary style="font-weight: 600; color: #ff9800; cursor: pointer; user-select: none;">
                                🎯 Should I send a "practice" amount first or go all-in?
                            </summary>
                            <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border-color);">
                                <div style="display: grid; gap: 1rem; margin-bottom: 1rem;">
                                    <div style="background: rgba(76, 175, 80, 0.1); border-left: 4px solid var(--accent-green); padding: 1rem; border-radius: 0.5rem;">
                                        <strong style="color: var(--accent-green);">✅ Practice Send (Recommended)</strong>
                                        <p style="margin: 0.5rem 0 0; color: var(--text-dim); font-size: 0.9rem;">
                                            Send $5–$20 first. Wait for 1–3 confirmations. Verify it arrives. Then send the rest.
                                        </p>
                                        <p style="margin: 0.5rem 0 0; color: var(--text-light); font-size: 0.85rem; font-style: italic;">
                                            <strong>When to use:</strong> First time ever, large amounts, unfamiliar wallet, or you're feeling anxious.
                                        </p>
                                    </div>
                                    <div style="background: rgba(255, 152, 0, 0.1); border-left: 4px solid #ff9800; padding: 1rem; border-radius: 0.5rem;">
                                        <strong style="color: #ff9800;">⚡ YOLO Send (All at once)</strong>
                                        <p style="margin: 0.5rem 0 0; color: var(--text-dim); font-size: 0.9rem;">
                                            Send everything in one transaction. Saves time and one network fee.
                                        </p>
                                        <p style="margin: 0.5rem 0 0; color: var(--text-light); font-size: 0.85rem; font-style: italic;">
                                            <strong>When to use:</strong> You've done this before, small amount (under $100), or you've verified the address multiple ways.
                                        </p>
                                    </div>
                                </div>
                                <p style="margin: 1rem 0 0; padding: 1rem; background: rgba(33, 150, 243, 0.1); border-radius: 0.5rem; font-size: 0.9rem; color: var(--text-dim);">
                                    💡 <strong>Anxiety management:</strong> If you're nervous, do the practice send. The peace of mind is worth the extra $1 fee. Bitcoin is final — you can't reverse a mistake.
                                </p>
                            </div>
                        </details>

                        <!-- No TXID Accordion -->
                        <details style="background: var(--secondary-dark); border: 2px solid #ff9800; border-radius: 0.75rem; padding: 1rem; cursor: pointer;">
                            <summary style="font-weight: 600; color: #ff9800; cursor: pointer; user-select: none;">
                                🆘 No TXID showing? Here's what to do
                            </summary>
                            <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border-color);">
                                <p style="margin: 0 0 1rem; color: var(--text-light);">
                                    Some exchanges (like CoinSpot) don't show a transaction ID (TXID) until the withdrawal is approved. Here's how to handle it:
                                </p>

                                <div style="background: var(--primary-dark); padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;">
                                    <strong style="color: var(--accent-blue);">Step 1: Check withdrawal status</strong>
                                    <ul style="margin: 0.5rem 0 0 1.5rem; color: var(--text-dim); font-size: 0.9rem;">
                                        <li>Go to your exchange withdrawal history</li>
                                        <li>Look for status: "Pending," "Processing," or "Under Review"</li>
                                        <li>Screenshot the status page (helpful for support)</li>
                                    </ul>
                                </div>

                                <div style="background: var(--primary-dark); padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;">
                                    <strong style="color: var(--accent-blue);">Step 2: Watch your receiving address</strong>
                                    <ul style="margin: 0.5rem 0 0 1.5rem; color: var(--text-dim); font-size: 0.9rem;">
                                        <li>Copy the address you're withdrawing TO</li>
                                        <li>Paste it into <a href="https://mempool.space" target="_blank" style="color: var(--accent-blue);">mempool.space</a></li>
                                        <li>Bookmark that page and refresh periodically</li>
                                        <li>When the exchange sends, you'll see it appear</li>
                                    </ul>
                                </div>

                                <div style="background: var(--primary-dark); padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;">
                                    <strong style="color: var(--accent-blue);">Step 3: Contact support (if needed)</strong>
                                    <p style="margin: 0.5rem 0 0; color: var(--text-dim); font-size: 0.9rem;">
                                        If it's been over 48 hours with no movement, use this template:
                                    </p>
                                    <div style="background: rgba(0, 0, 0, 0.3); padding: 1rem; border-radius: 0.5rem; margin-top: 0.75rem; font-family: monospace; font-size: 0.85rem; color: var(--text-light);">
                                        Subject: Withdrawal pending review - [Your ticket #]<br><br>

                                        Hi Support,<br><br>

                                        My withdrawal has been pending for [X hours/days].<br><br>

                                        Details:<br>
                                        - Amount: [X BTC/sats]<br>
                                        - Destination address: [your address]<br>
                                        - Initiated: [date/time]<br>
                                        - Current status: [Pending/Under Review]<br><br>

                                        Can you provide an estimated timeline or TXID?<br><br>

                                        Thank you
                                    </div>
                                </div>

                                <p style="margin: 1rem 0 0; padding: 1rem; background: rgba(76, 175, 80, 0.1); border-left: 4px solid var(--accent-green); border-radius: 0.5rem; font-size: 0.9rem;">
                                    ✅ <strong>Remember:</strong> As long as the withdrawal shows in your history, your funds are safe. The exchange has processed your request; they just haven't broadcast it to the network yet.
                                </p>
                            </div>
                        </details>
                    </div>

                    <h3 style="margin-top: 2.5rem; color: var(--accent-gold); font-size: 1.4rem;">Move to Self-Custody</h3>

                    <!-- Visual Transformation -->
                    <div style="background: linear-gradient(135deg, rgba(156, 39, 176, 0.15), rgba(156, 39, 176, 0.05)); border: 3px solid #9c27b0; border-radius: 1rem; padding: 2rem; margin: 2rem 0;">
                        <div style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 1.5rem; align-items: center;">
                            <!-- Before: Exchange -->
                            <div style="background: rgba(244, 67, 54, 0.15); border: 2px solid #f44336; border-radius: 1rem; padding: 1.5rem; text-align: center;">
                                <div style="font-size: 3rem; margin-bottom: 0.75rem;">🏦</div>
                                <strong style="display: block; color: #f44336; font-size: 1.1rem; margin-bottom: 0.75rem;">Exchange Custody</strong>
                                <div style="text-align: left; font-size: 0.9rem;">
                                    <p style="margin: 0.5rem 0; color: var(--text-dim);">❌ They hold your keys</p>
                                    <p style="margin: 0.5rem 0; color: var(--text-dim);">❌ Can freeze/censor</p>
                                    <p style="margin: 0.5rem 0; color: var(--text-dim);">❌ You're trusting them</p>
                                </div>
                            </div>

                            <!-- Arrow -->
                            <div style="font-size: 2.5rem; color: var(--accent-gold);">→</div>

                            <!-- After: Self-Custody -->
                            <div style="background: rgba(76, 175, 80, 0.15); border: 2px solid var(--accent-green); border-radius: 1rem; padding: 1.5rem; text-align: center;">
                                <div style="font-size: 3rem; margin-bottom: 0.75rem;">🔐</div>
                                <strong style="display: block; color: var(--accent-green); font-size: 1.1rem; margin-bottom: 0.75rem;">Self-Custody</strong>
                                <div style="text-align: left; font-size: 0.9rem;">
                                    <p style="margin: 0.5rem 0; color: var(--text-light);">✅ You hold your keys</p>
                                    <p style="margin: 0.5rem 0; color: var(--text-light);">✅ Only you can spend</p>
                                    <p style="margin: 0.5rem 0; color: var(--text-light);">✅ True ownership</p>
                                </div>
                            </div>
                        </div>

                        <!-- Key Metaphor -->
                        <div style="background: rgba(0, 0, 0, 0.3); border-radius: 0.75rem; padding: 1.5rem; margin-top: 2rem; text-align: center;">
                            <p style="margin: 0; font-size: 1.05rem; color: var(--text-light);">
                                <strong style="color: #ce93d8;">Think of it like this:</strong> Exchange = Hotel Safe | Self-Custody = Your Own Safe at Home
                            </p>
                        </div>
                    </div>

                    <!-- Simple Action Button -->
                    <div style="text-align: center; margin: 2rem 0;">
                        <button class="button understand-btn" onclick="completeModule(1)" style="font-size: 1.1rem; padding: 1rem 2rem;">
                            ✅ Ready to Set Up My Wallet
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Module 2: Own Your Keys -->
        <section class="module-section" data-module="2">
            <div class="module-header" onclick="toggleModule(2)">
                <div>
                    <span class="module-number">🔐</span>
                    <span class="module-title">Step 2: Own Your Keys</span>
                </div>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="module-content">
                <div class="module-inner">
                    <p style="color: var(--text-dim); margin-bottom: 1.5rem; font-size: 1.05rem;">It's not an "account." It's a keyring that unlocks your Bitcoin on the blockchain. <strong>No bank, no permission—just you.</strong></p>

                    <!-- Bank App vs Bitcoin Wallet Comparison (Toggleable) -->
                    <div style="margin: 1.5rem 0;">
                        <button class="button secondary" onclick="toggleBankComparison()" id="bank-comparison-btn" style="width: 100%; margin-bottom: 1rem;">
                            📊 Compare to Bank App
                        </button>
                        <div id="bank-comparison" style="display: none; background: var(--secondary-dark); border: 2px solid var(--accent-blue); border-radius: 0.75rem; padding: 1.5rem; margin-bottom: 1.5rem;">
                            <h4 style="color: var(--accent-blue); margin-bottom: 1rem; text-align: center;">Bank App vs Bitcoin Wallet</h4>
                            <div style="overflow-x: auto;">
                                <table style="width: 100%; border-collapse: collapse;">
                                    <thead>
                                        <tr style="background: rgba(33, 150, 243, 0.2);">
                                            <th style="padding: 0.75rem; text-align: left; color: var(--text-light); border-bottom: 2px solid var(--border-color);">Feature</th>
                                            <th style="padding: 0.75rem; text-align: left; color: var(--text-light); border-bottom: 2px solid var(--border-color);">Bank App</th>
                                            <th style="padding: 0.75rem; text-align: left; color: var(--text-light); border-bottom: 2px solid var(--border-color);">Bitcoin Wallet</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr style="border-bottom: 1px solid var(--border-color);">
                                            <td style="padding: 0.75rem; font-weight: 600;">Who holds the keys</td>
                                            <td style="padding: 0.75rem; color: var(--text-dim);">Bank</td>
                                            <td style="padding: 0.75rem; color: var(--accent-green);">You</td>
                                        </tr>
                                        <tr style="border-bottom: 1px solid var(--border-color);">
                                            <td style="padding: 0.75rem; font-weight: 600;">Reset if lost</td>
                                            <td style="padding: 0.75rem; color: var(--text-dim);">Call support</td>
                                            <td style="padding: 0.75rem; color: var(--text-dim);">Use your recovery words</td>
                                        </tr>
                                        <tr style="border-bottom: 1px solid var(--border-color);">
                                            <td style="padding: 0.75rem; font-weight: 600;">Where money "lives"</td>
                                            <td style="padding: 0.75rem; color: var(--text-dim);">Bank's database</td>
                                            <td style="padding: 0.75rem; color: var(--accent-green);">Blockchain (wallet unlocks it)</td>
                                        </tr>
                                        <tr style="border-bottom: 1px solid var(--border-color);">
                                            <td style="padding: 0.75rem; font-weight: 600;">Reversals</td>
                                            <td style="padding: 0.75rem; color: var(--text-dim);">Possible</td>
                                            <td style="padding: 0.75rem; color: var(--text-dim);">Final</td>
                                        </tr>
                                        <tr>
                                            <td style="padding: 0.75rem; font-weight: 600;">Availability</td>
                                            <td style="padding: 0.75rem; color: var(--text-dim);">Business hours</td>
                                            <td style="padding: 0.75rem; color: var(--accent-green);">24/7</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <h3 style="margin-top: 2.5rem;">🎯 Step 2.1: Choose Your Wallet Type</h3>
                    <p style="color: var(--text-dim); margin-bottom: 1rem;">Different wallets for different needs. Start simple, upgrade as you learn.</p>

                    <!-- Wallet Type Cards (Concise) -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 1.5rem 0;">
                        <div style="background: var(--secondary-dark); border: 2px solid var(--accent-blue); border-radius: 0.75rem; padding: 1.5rem;">
                            <h4 style="color: var(--accent-blue); margin-bottom: 0.75rem;">📱 Mobile Wallet</h4>
                            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem;"><strong>Best for:</strong> Beginner / Daily use</p>
                            <ul style="list-style: none; padding: 0; margin: 0; color: var(--text-dim); font-size: 0.85rem;">
                                <li style="padding: 0.25rem 0;">✅ Very easy</li>
                                <li style="padding: 0.25rem 0;">✅ QR scanning</li>
                                <li style="padding: 0.25rem 0;">⚠️ Keep small amounts</li>
                            </ul>
                            <p style="margin-top: 1rem; font-size: 0.85rem; color: var(--accent-blue);"><strong>Examples:</strong> BlueWallet, Phoenix</p>
                        </div>

                        <div style="background: var(--secondary-dark); border: 2px solid var(--accent-green); border-radius: 0.75rem; padding: 1.5rem;">
                            <h4 style="color: var(--accent-green); margin-bottom: 0.75rem;">🔒 Hardware Wallet</h4>
                            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem;"><strong>Best for:</strong> Savings / Security</p>
                            <ul style="list-style: none; padding: 0; margin: 0; color: var(--text-dim); font-size: 0.85rem;">
                                <li style="padding: 0.25rem 0;">✅ Keys stay offline</li>
                                <li style="padding: 0.25rem 0;">✅ Strongest safety</li>
                                <li style="padding: 0.25rem 0;">⚠️ Costs money ($50–$200)</li>
                            </ul>
                            <p style="margin-top: 1rem; font-size: 0.85rem; color: var(--accent-green);"><strong>Examples:</strong> Trezor, Coldcard</p>
                        </div>

                        <div style="background: var(--secondary-dark); border: 2px solid var(--accent-gold); border-radius: 0.75rem; padding: 1.5rem;">
                            <h4 style="color: var(--accent-gold); margin-bottom: 0.75rem;">🛡️ Multisig</h4>
                            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem;"><strong>Best for:</strong> Advanced / Shared</p>
                            <ul style="list-style: none; padding: 0; margin: 0; color: var(--text-dim); font-size: 0.85rem;">
                                <li style="padding: 0.25rem 0;">✅ Multiple keys required</li>
                                <li style="padding: 0.25rem 0;">✅ No single point of failure</li>
                                <li style="padding: 0.25rem 0;">⚠️ More setup</li>
                            </ul>
                            <p style="margin-top: 1rem; font-size: 0.85rem; color: var(--accent-gold);"><strong>Examples:</strong> Unchained, Sparrow</p>
                        </div>
                    </div>

                    <h3 style="margin-top: 2.5rem;">🎲 Step 2.2: Create Your Wallet (Beginner-Realistic Flow)</h3>
                    <p style="color: var(--text-dim); margin-bottom: 1rem;">Modern wallets generate the recovery words for you. Think of those words as the master key. <strong>If you lose them, no one can restore your wallet—not even the app.</strong></p>

                    <!-- Seed Generation Clarity Box -->
                    <div style="background: linear-gradient(135deg, rgba(76, 175, 80, 0.2), rgba(76, 175, 80, 0.05)); border: 2px solid var(--accent-green); border-radius: 0.75rem; padding: 1.5rem; margin: 1.5rem 0;">
                        <h4 style="color: var(--accent-green); margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                            <span>🎲</span>
                            <span>Important: You DON'T Pick the Words!</span>
                        </h4>
                        <p style="margin: 0 0 1rem; color: var(--text-light);">
                            The wallet app generates 12 random words FOR you using cryptographic randomness. You never choose them yourself.
                        </p>
                        <div style="display: grid; gap: 0.75rem;">
                            <div style="display: flex; gap: 0.75rem; align-items: start;">
                                <span style="color: var(--accent-green); font-size: 1.25rem;">✅</span>
                                <div>
                                    <strong style="color: var(--text-light);">What you DO:</strong>
                                    <p style="margin: 0.25rem 0 0; color: var(--text-dim); font-size: 0.9rem;">Write down the words the app shows you. Store them safely.</p>
                                </div>
                            </div>
                            <div style="display: flex; gap: 0.75rem; align-items: start;">
                                <span style="color: #f44336; font-size: 1.25rem;">❌</span>
                                <div>
                                    <strong style="color: var(--text-light);">What you DON'T do:</strong>
                                    <p style="margin: 0.25rem 0 0; color: var(--text-dim); font-size: 0.9rem;">Pick words yourself, type them into any website, or use words from a poem/song.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Bank App vs Bitcoin Wallet: Password Reset -->
                    <div style="background: var(--secondary-dark); border: 2px solid var(--accent-blue); border-radius: 0.75rem; padding: 1.5rem; margin: 1.5rem 0;">
                        <h4 style="color: var(--accent-blue); margin-bottom: 1rem; text-align: center;">🏦 Bank App vs 🔐 Bitcoin Wallet</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                            <div style="background: rgba(244, 67, 54, 0.1); border: 2px solid #f44336; border-radius: 0.5rem; padding: 1rem; text-align: center;">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">🏦</div>
                                <strong style="color: var(--text-light);">Bank App</strong>
                                <p style="margin: 0.5rem 0 0; color: var(--text-dim); font-size: 0.85rem;">Forgot password? Click "Reset"</p>
                                <p style="margin: 0.5rem 0 0; color: var(--text-dim); font-size: 0.85rem;">Support can unlock your account</p>
                                <p style="margin: 0.5rem 0 0; color: #f44336; font-size: 0.85rem; font-style: italic;">They control access</p>
                            </div>
                            <div style="background: rgba(76, 175, 80, 0.1); border: 2px solid var(--accent-green); border-radius: 0.5rem; padding: 1rem; text-align: center;">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">🔐</div>
                                <strong style="color: var(--text-light);">Bitcoin Wallet</strong>
                                <p style="margin: 0.5rem 0 0; color: var(--text-dim); font-size: 0.85rem;">Lost seed words? Funds are gone forever</p>
                                <p style="margin: 0.5rem 0 0; color: var(--text-dim); font-size: 0.85rem;">No support can help you</p>
                                <p style="margin: 0.5rem 0 0; color: var(--accent-green); font-size: 0.85rem; font-style: italic;">YOU control access</p>
                            </div>
                        </div>
                        <p style="margin: 1rem 0 0; text-align: center; padding: 1rem; background: rgba(33, 150, 243, 0.1); border-radius: 0.5rem; font-size: 0.9rem;">
                            💡 This is the trade-off: <strong>True ownership = true responsibility.</strong> No one can freeze your Bitcoin, but no one can recover it for you either.
                        </p>
                    </div>

                    <div style="background: rgba(33, 150, 243, 0.1); border-left: 4px solid var(--accent-blue); padding: 1rem; border-radius: 0.5rem; margin: 1.5rem 0;">
                        <details style="cursor: pointer;">
                            <summary style="color: var(--accent-blue); font-weight: 600;">💡 Why words, not passwords?</summary>
                            <p style="margin-top: 0.5rem; color: var(--text-dim); font-size: 0.9rem;">
                                Passwords can be reset by companies. Recovery words put you in charge. <strong>Lose them = no recovery desk.</strong> Keep them safe = lifelong access.
                            </p>
                        </details>
                    </div>

                    <div class="demo-box">
                        <h4>🎮 Interactive: Simulated Wallet Onboarding (5 Screens)</h4>
                        <p style="color: var(--text-dim); margin-bottom: 1.5rem; font-size: 0.9rem;">This is a practice simulation. No real keys are generated.</p>

                        <!-- Screen 1: Welcome -->
                        <div id="onboarding-screen-1" class="demo-step">
                            <h5>Screen 1: Welcome</h5>
                            <div style="background: var(--primary-dark); padding: 2rem; border-radius: 0.75rem; text-align: center;">
                                <div style="font-size: 3rem; margin-bottom: 1rem;">🔐</div>
                                <h4 style="color: var(--accent-gold); margin-bottom: 0.5rem;">Create Your Bitcoin Wallet</h4>
                                <p style="color: var(--text-dim); margin-bottom: 2rem;">No email. No password. You control access.</p>
                                <button class="button" onclick="startWalletOnboarding()">🚀 Create New Wallet</button>
                            </div>
                        </div>

                        <!-- Screen 2: Show Recovery Words -->
                        <div id="onboarding-screen-2" class="demo-step" style="display: none;">
                            <h5>Screen 2: Your 12 Recovery Words</h5>
                            <div style="background: var(--primary-dark); padding: 2rem; border-radius: 0.75rem;">
                                <div style="background: rgba(244, 67, 54, 0.1); border: 2px solid #f44336; border-radius: 0.5rem; padding: 1rem; margin-bottom: 1.5rem;">
                                    <strong style="color: #f44336;">⚠️ Never screenshot. Write on paper.</strong>
                                </div>
                                <div id="recovery-words-blurred" style="background: var(--secondary-dark); padding: 1.5rem; border-radius: 0.5rem; margin-bottom: 1rem; filter: blur(8px); transition: filter 0.3s;">
                                    <div id="recovery-words-grid" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.75rem; font-family: 'Courier New', monospace;">
                                        <!-- Words will be generated dynamically -->
                                    </div>
                                </div>
                                <button class="button secondary" onclick="revealRecoveryWords()" id="reveal-words-btn" style="width: 100%; margin-bottom: 1rem;">👁️ Reveal Words</button>
                                <label style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-dim); cursor: pointer;">
                                    <input type="checkbox" id="written-down-checkbox" style="width: 20px; height: 20px;">
                                    <span>I've written them down on paper</span>
                                </label>
                                <button class="button" onclick="proceedToWordQuiz()" id="proceed-quiz-btn" style="width: 100%; margin-top: 1rem; display: none;">Continue →</button>
                            </div>
                        </div>

                        <!-- Screen 3: Verify Words -->
                        <div id="onboarding-screen-3" class="demo-step" style="display: none;">
                            <h5>Screen 3: Verify Your Words</h5>
                            <div style="background: var(--primary-dark); padding: 2rem; border-radius: 0.75rem;">
                                <p style="color: var(--text-dim); margin-bottom: 1.5rem;">Let's make sure you wrote them down correctly. Select the correct words:</p>
                                <div style="margin-bottom: 1.5rem;">
                                    <p style="margin-bottom: 0.5rem;"><strong>Pick word #3:</strong></p>
                                    <div data-word-position="3" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.5rem;">
                                        <button class="button secondary">Loading...</button>
                                        <button class="button secondary">Loading...</button>
                                        <button class="button secondary">Loading...</button>
                                    </div>
                                </div>
                                <div style="margin-bottom: 1.5rem;">
                                    <p style="margin-bottom: 0.5rem;"><strong>Pick word #7:</strong></p>
                                    <div data-word-position="7" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.5rem;">
                                        <button class="button secondary">Loading...</button>
                                        <button class="button secondary">Loading...</button>
                                        <button class="button secondary">Loading...</button>
                                    </div>
                                </div>
                                <div style="margin-bottom: 1.5rem;">
                                    <p style="margin-bottom: 0.5rem;"><strong>Pick word #12:</strong></p>
                                    <div data-word-position="12" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.5rem;">
                                        <button class="button secondary">Loading...</button>
                                        <button class="button secondary">Loading...</button>
                                        <button class="button secondary">Loading...</button>
                                    </div>
                                </div>
                                <div id="quiz-feedback" style="display: none; padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;"></div>
                                <button class="button" onclick="proceedToWalletReady()" id="proceed-wallet-btn" style="width: 100%; display: none;">Continue →</button>
                            </div>
                        </div>

                        <!-- Screen 4: Wallet Ready -->
                        <div id="onboarding-screen-4" class="demo-step" style="display: none;">
                            <h5>Screen 4: Wallet Ready! 🎉</h5>
                            <div style="background: var(--primary-dark); padding: 2rem; border-radius: 0.75rem;">
                                <div style="background: rgba(76, 175, 80, 0.1); border: 2px solid var(--accent-green); border-radius: 0.5rem; padding: 1.5rem; margin-bottom: 1.5rem; text-align: center;">
                                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">✅</div>
                                    <p style="color: var(--accent-green); margin: 0;">Your wallet is ready to receive Bitcoin!</p>
                                </div>
                                <p style="margin-bottom: 1rem;"><strong>This is an address.</strong> Share it to receive Bitcoin.</p>
                                <div style="background: var(--secondary-dark); padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem; text-align: center;">
                                    <canvas id="receive-qr-code" width="150" height="150" style="margin: 0 auto 0.5rem; display: block;"></canvas>
                                    <p id="wallet-address" style="font-family: 'Courier New', monospace; font-size: 0.85rem; word-break: break-all; color: var(--accent-green); margin: 0;">bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh</p>
                                </div>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; margin-bottom: 1rem;">
                                    <button class="button secondary" onclick="copyAddress()">📋 Copy</button>
                                    <button class="button secondary" onclick="generateNewAddress()">🔄 New Address</button>
                                </div>
                                <p style="font-size: 0.85rem; color: var(--text-dim); text-align: center;">💡 Your wallet can create many addresses; they all pay you.</p>
                                <button class="button" onclick="proceedToOwnershipCheck()" style="width: 100%; margin-top: 1.5rem;">Continue →</button>
                            </div>
                        </div>

                        <!-- Screen 5: Ownership Check -->
                        <div id="onboarding-screen-5" class="demo-step" style="display: none;">
                            <h5>Screen 5: Prove You Control This Wallet</h5>
                            <div style="background: var(--primary-dark); padding: 2rem; border-radius: 0.75rem; text-align: center;">
                                <p style="color: var(--text-dim); margin-bottom: 1.5rem;">Let's verify you—not a company—control this wallet.</p>
                                <button class="button" onclick="proveOwnership()" id="prove-ownership-btn">🔐 Prove I Control This Wallet (Dry Run)</button>
                                <div id="ownership-result" style="display: none; margin-top: 1.5rem; padding: 1.5rem; background: rgba(76, 175, 80, 0.1); border: 2px solid var(--accent-green); border-radius: 0.5rem;">
                                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">✅</div>
                                    <p style="color: var(--accent-green); font-weight: 600; margin-bottom: 0.5rem;">Ownership Verified!</p>
                                    <p style="color: var(--text-dim); font-size: 0.9rem;">Your app can sign messages with your key. That's proof <strong>you—not a company—control access.</strong></p>
                                </div>
                            </div>
                        </div>

                        <!-- Safety Micro-Prompts -->
                        <div style="background: rgba(255, 152, 0, 0.1); border-left: 4px solid #ff9800; padding: 1rem; border-radius: 0.5rem; margin-top: 1.5rem;">
                            <strong style="color: #ff9800;">🛡️ Safety Reminders:</strong>
                            <ul style="margin: 0.5rem 0 0 1.5rem; color: var(--text-dim); font-size: 0.9rem;">
                                <li>✅ Write words on paper; store offline</li>
                                <li>✅ Never type words into any website (including ours)</li>
                                <li>✅ Practice a restore later with testnet (we'll guide you)</li>
                            </ul>
                        </div>
                    </div>

                    <h3 style="margin-top: 2.5rem;">📱 Step 2.3: Show Your Receiving QR (Live Widget)</h3>
                    <p style="color: var(--text-dim); margin-bottom: 1rem;">This is what you'd share to receive Bitcoin from someone.</p>

                    <div style="background: var(--secondary-dark); border: 2px solid var(--accent-green); border-radius: 0.75rem; padding: 2rem; margin: 1.5rem 0;">
                        <h4 style="color: var(--accent-green); margin-bottom: 1rem;">Receive Bitcoin</h4>
                        <div style="text-align: center; margin-bottom: 1.5rem;">
                            <canvas id="static-receive-qr" width="200" height="200" style="border: 4px solid var(--accent-green); border-radius: 0.5rem; background: white; padding: 10px; margin: 0 auto;"></canvas>
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Your current address:</label>
                            <input type="text" id="current-receive-address" value="bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh" readonly style="width: 100%; padding: 0.75rem; background: var(--primary-dark); border: 1px solid var(--border-color); border-radius: 0.5rem; color: var(--text-light); font-family: 'Courier New', monospace; font-size: 0.85rem;">
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 0.5rem; margin-bottom: 1rem;">
                            <button class="button secondary" onclick="copyReceiveAddress()">📋 Copy</button>
                            <button class="button secondary" onclick="showReceiveQR()">📷 Show QR</button>
                            <button class="button secondary" onclick="rotateAddress()">🔄 Rotate</button>
                        </div>
                        <p style="font-size: 0.85rem; color: var(--text-dim); text-align: center; margin: 0;">💡 A new address each time improves privacy. Old addresses still work.</p>
                    </div>

                    <!-- Address Verification Tip -->
                    <div style="background: linear-gradient(135deg, rgba(33, 150, 243, 0.15), rgba(33, 150, 243, 0.05)); border: 2px solid var(--accent-blue); border-radius: 0.75rem; padding: 1.5rem; margin: 1.5rem 0;">
                        <h4 style="color: var(--accent-blue); margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                            <span>👀</span>
                            <span>Pro Tip: Verify Addresses Like a Pro</span>
                        </h4>
                        <p style="margin: 0 0 1rem; color: var(--text-light);">
                            When sending or receiving Bitcoin, always verify the address. Here's the quick way:
                        </p>
                        <div style="background: var(--primary-dark); padding: 1.5rem; border-radius: 0.75rem; border-left: 4px solid var(--accent-blue);">
                            <strong style="color: var(--accent-blue);">✅ The Last 4 Characters Method</strong>
                            <p style="margin: 0.5rem 0 1rem; color: var(--text-dim); font-size: 0.9rem;">
                                Instead of checking the entire 42-character address, check:
                            </p>
                            <ol style="margin: 0 0 0 1.5rem; color: var(--text-dim); font-size: 0.9rem; line-height: 1.8;">
                                <li><strong style="color: var(--text-light);">First 4 characters</strong> after "bc1q" (or "1" or "3")</li>
                                <li><strong style="color: var(--text-light);">Last 4 characters</strong> of the address</li>
                            </ol>
                            <div style="background: rgba(0, 0, 0, 0.3); padding: 1rem; border-radius: 0.5rem; margin-top: 1rem; font-family: monospace; font-size: 0.85rem;">
                                <p style="margin: 0; color: var(--text-dim);">Example address:</p>
                                <p style="margin: 0.5rem 0; color: var(--text-light);">
                                    bc1q<span style="background: rgba(33, 150, 243, 0.3); padding: 0.125rem 0.25rem;">xy2k</span>gdygjrsqtzq2n0yrf2493p83kk<span style="background: rgba(33, 150, 243, 0.3); padding: 0.125rem 0.25rem;">jhx0</span>wlh
                                </p>
                                <p style="margin: 0.5rem 0 0; color: var(--accent-blue); font-size: 0.8rem;">
                                    ← Check these parts match!
                                </p>
                            </div>
                        </div>
                        <p style="margin: 1rem 0 0; padding: 1rem; background: rgba(76, 175, 80, 0.1); border-radius: 0.5rem; font-size: 0.85rem;">
                            <strong style="color: var(--accent-green);">💡 Why this works:</strong> Malware that swaps addresses can't easily match both the first AND last characters. This quick check catches 99.9% of address swap attacks.
                        </p>
                    </div>

                    <!-- QR vs Copy-Paste Security -->
                    <div style="background: linear-gradient(135deg, rgba(244, 67, 54, 0.15), rgba(244, 67, 54, 0.05)); border: 2px solid var(--accent-red); border-radius: 0.75rem; padding: 1.5rem; margin: 1.5rem 0;">
                        <h4 style="color: var(--accent-red); margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                            <span>🚨</span>
                            <span>Critical: QR Codes vs Copy-Paste</span>
                        </h4>

                        <div style="background: rgba(244, 67, 54, 0.1); border-left: 4px solid var(--accent-red); padding: 1rem; border-radius: 0.5rem; margin-bottom: 1.5rem;">
                            <strong style="color: var(--accent-red);">⚠️ Clipboard malware is real.</strong>
                            <p style="margin: 0.5rem 0 0; color: var(--text-light); font-size: 0.95rem;">
                                Malware can silently replace addresses you copy from one app and paste into another. You might think you're sending to the right address, but the malware swaps it mid-paste.
                            </p>
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                            <div style="background: rgba(76, 175, 80, 0.1); border: 2px solid var(--accent-green); border-radius: 0.75rem; padding: 1rem;">
                                <strong style="color: var(--accent-green); display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.75rem;">
                                    <span style="font-size: 1.5rem;">✅</span>
                                    <span>Safer: QR Codes</span>
                                </strong>
                                <ul style="margin: 0.5rem 0 0 1.5rem; color: var(--text-dim); font-size: 0.85rem; line-height: 1.6;">
                                    <li>Address travels directly via camera</li>
                                    <li>Not stored in clipboard</li>
                                    <li>Harder for malware to intercept</li>
                                    <li><strong style="color: var(--text-light);">Still verify last 4 digits!</strong></li>
                                </ul>
                            </div>

                            <div style="background: rgba(244, 67, 54, 0.1); border: 2px solid var(--accent-red); border-radius: 0.75rem; padding: 1rem;">
                                <strong style="color: var(--accent-red); display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.75rem;">
                                    <span style="font-size: 1.5rem;">⚠️</span>
                                    <span>Riskier: Copy-Paste</span>
                                </strong>
                                <ul style="margin: 0.5rem 0 0 1.5rem; color: var(--text-dim); font-size: 0.85rem; line-height: 1.6;">
                                    <li>Address passes through clipboard</li>
                                    <li>Malware can swap silently</li>
                                    <li>You won't notice without checking</li>
                                    <li><strong style="color: var(--text-light);">Always verify BOTH first + last 4!</strong></li>
                                </ul>
                            </div>
                        </div>

                        <details style="background: var(--secondary-dark); border: 1px solid var(--border-color); border-radius: 0.75rem; padding: 1rem; cursor: pointer;">
                            <summary style="font-weight: 600; color: var(--accent-blue); cursor: pointer; user-select: none;">
                                📱 What if I'm using the same device for both apps?
                            </summary>
                            <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border-color); color: var(--text-dim);">
                                <p style="margin-bottom: 1rem;">
                                    If you're copying an address on the same phone (e.g., from exchange app to wallet app), you're more vulnerable to clipboard malware.
                                </p>
                                <div style="background: var(--primary-dark); padding: 1rem; border-radius: 0.5rem;">
                                    <strong style="color: var(--accent-green);">Best Practices:</strong>
                                    <ul style="margin: 0.5rem 0 0 1.5rem; font-size: 0.9rem; line-height: 1.8;">
                                        <li><strong>Hardware wallet users:</strong> Always verify the FULL address on your device screen (not just last 4)</li>
                                        <li><strong>Software wallet users:</strong> Use QR codes when possible, or triple-check first 4 + last 4 characters</li>
                                        <li><strong>Large amounts:</strong> Do a small test transaction first ($10-50) before sending full amount</li>
                                    </ul>
                                </div>
                            </div>
                        </details>

                        <div style="background: rgba(33, 150, 243, 0.1); border-left: 4px solid var(--accent-blue); padding: 1rem; border-radius: 0.5rem; margin-top: 1rem;">
                            <strong style="color: var(--accent-blue);">💡 The Golden Rule:</strong>
                            <p style="margin: 0.5rem 0 0; color: var(--text-dim); font-size: 0.9rem;">
                                <strong style="color: var(--text-light);">Trust what's on your hardware device screen, not your computer screen.</strong> If using a hardware wallet, the device shows the true destination. If it doesn't match what you expect, STOP and investigate.
                            </p>
                        </div>
                    </div>

                    <div style="background: rgba(255, 152, 0, 0.1); border-left: 4px solid #ff9800; padding: 1rem; border-radius: 0.5rem; margin: 1.5rem 0;">
                        <strong style="color: #ff9800;">💬 Socratic Question:</strong> If this app disappears tomorrow, can you still access your Bitcoin?
                        <details style="margin-top: 0.5rem; cursor: pointer;">
                            <summary style="color: var(--accent-gold);">💡 Hint</summary>
                            <p style="margin-top: 0.5rem; color: var(--text-dim); font-size: 0.9rem;">
                                Yes—the words restore your wallet in any compatible app. Your Bitcoin lives on the blockchain, not in the app.
                            </p>
                        </details>
                    </div>

                    <!-- Pragmatist Cross-Link -->
                    <div style="background: linear-gradient(135deg, rgba(247, 147, 26, 0.1), rgba(255, 167, 38, 0.1)); border: 2px solid var(--accent-gold); border-radius: 0.75rem; padding: 1.5rem; margin: 2rem 0; text-align: center;">
                        <p style="margin: 0 0 0.5rem; color: var(--text-dim); font-size: 0.9rem;">📚 Want to master wallet security?</p>
                        <p style="margin: 0; font-size: 1rem;">
                            <a href="/paths/pragmatist/stage-1/module-2.html" style="color: var(--accent-gold); text-decoration: none; font-weight: bold;">Deep dive into "Bitcoin Wallets" in Pragmatist →</a>
                        </p>
                        <p style="margin: 0.5rem 0 0; color: var(--text-dim); font-size: 0.85rem;">Hardware wallets, security levels, seed phrase protection</p>
                    </div>

                    <button class="button understand-btn" onclick="completeModule(2)">✅ I'm Ready to Use Bitcoin</button>
                </div>
            </div>
        </section>

        <!-- Module 3: Use Bitcoin -->
        <section class="module-section" data-module="3">
            <div class="module-header" onclick="toggleModule(3)">
                <div>
                    <span class="module-number">3.</span>
                    <span class="module-title">⚡ Use Bitcoin — Spend, Send, Save</span>
                </div>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="module-content">
                <div class="module-inner">
                    <p style="color: var(--text-dim); margin-bottom: 1.5rem; font-size: 1.05rem;">Now that you have a wallet, let's use it safely—<strong>receive, send, and track a real transaction</strong> (testnet or tiny mainnet).</p>

                    <h3 style="margin-top: 1.5rem;">📲 Step 3.1: Two-Phone Transaction Demo (Tap-Through)</h3>
                    <p style="color: var(--text-dim); margin-bottom: 1rem;">Simulate a real Bitcoin transaction between two phones. This is exactly how it works in real life!</p>

                    <div class="demo-box" style="margin-top: 2rem;">
                        <h4>📲 Side-by-Side: Sender & Receiver</h4>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 1.5rem;">
                            <!-- Phone A (Sender) -->
                            <div style="background: var(--primary-dark); border: 2px solid var(--accent-blue); border-radius: 1rem; padding: 1.5rem;">
                                <h5 style="color: var(--accent-blue); margin-bottom: 1rem; text-align: center;">📱 Phone A (Sender)</h5>
                                <div style="background: var(--secondary-dark); padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;">
                                    <p style="font-size: 0.85rem; color: var(--text-dim); margin-bottom: 0.5rem;">Balance:</p>
                                    <p style="font-size: 1.5rem; color: var(--accent-gold); margin: 0;" id="phone-a-balance">5,000 sats</p>
                                </div>
                                <p style="font-size: 0.85rem; color: var(--text-dim); margin-bottom: 0.5rem;">Send amount (sats):</p>
                                <input type="number" id="send-amount-sats" value="500" step="100" min="100" max="5000" style="width: 100%; padding: 0.75rem; background: var(--secondary-dark); border: 1px solid var(--border-color); border-radius: 0.5rem; color: var(--text-light); margin-bottom: 1rem;">
                                <button class="button secondary" onclick="scanQRCodeDemo()" style="width: 100%; margin-bottom: 0.5rem;">📷 Scan QR Code</button>
                                <p id="scan-status-demo" style="font-size: 0.85rem; color: var(--text-dim); text-align: center; margin: 0.5rem 0;"></p>
                                <div id="safety-check-before-send" style="display: none; background: rgba(255, 152, 0, 0.1); border-left: 4px solid #ff9800; padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;">
                                    <strong style="color: #ff9800;">✅ Before you send:</strong>
                                    <p style="font-size: 0.85rem; color: var(--text-dim); margin: 0.5rem 0;">Check first 4 + last 4 characters of address: <strong>bc1q...x0wlh</strong></p>
                                </div>
                                <button class="button" id="send-btn-demo" onclick="sendBitcoinDemo()" style="width: 100%; display: none;">⚡ Send Bitcoin</button>
                            </div>

                            <!-- Phone B (Receiver) -->
                            <div style="background: var(--primary-dark); border: 2px solid var(--accent-green); border-radius: 1rem; padding: 1.5rem;">
                                <h5 style="color: var(--accent-green); margin-bottom: 1rem; text-align: center;">📱 Phone B (Receiver)</h5>
                                <div style="background: var(--secondary-dark); padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;">
                                    <p style="font-size: 0.85rem; color: var(--text-dim); margin-bottom: 0.5rem;">Balance:</p>
                                    <p style="font-size: 1.5rem; color: var(--accent-gold); margin: 0;" id="phone-b-balance-demo">0 sats</p>
                                </div>
                                <div style="text-align: center; padding: 1rem; background: white; border-radius: 0.5rem;">
                                    <canvas id="receiver-qr-code-demo" width="150" height="150"></canvas>
                                    <p style="font-size: 0.75rem; color: #333; margin-top: 0.5rem; font-family: monospace; word-break: break-all;">bc1qxy2...x0wlh</p>
                                </div>
                                <p style="font-size: 0.85rem; color: var(--text-dim); text-align: center; margin-top: 0.5rem;">📱 Share this QR to receive</p>
                                <button class="button secondary" onclick="rotateReceiverAddress()" style="width: 100%; margin-top: 1rem;">🔄 Rotate Address (Privacy)</button>
                            </div>
                        </div>

                        <!-- Transaction Progress -->
                        <div id="tx-animation-demo" style="display: none; background: linear-gradient(135deg, rgba(76, 175, 80, 0.2), rgba(76, 175, 80, 0.05)); border: 2px solid var(--accent-green); border-radius: 0.75rem; padding: 1.5rem; text-align: center; margin-top: 1.5rem;">
                            <div style="font-size: 2rem; margin-bottom: 0.5rem;">⚡</div>
                            <h5 style="color: var(--accent-green); margin-bottom: 0.5rem;">Transaction Broadcasting...</h5>
                            <p id="tx-status-demo" style="color: var(--text-dim); font-size: 0.9rem;">Pending → Confirmed</p>
                            <div style="margin: 1rem 0;">
                                <div style="background: var(--secondary-dark); height: 8px; border-radius: 4px; overflow: hidden;">
                                    <div id="tx-progress-demo" style="width: 0%; height: 100%; background: linear-gradient(90deg, var(--accent-green), var(--accent-blue)); transition: width 0.5s;"></div>
                                </div>
                                <p style="font-size: 0.85rem; color: var(--text-dim); margin-top: 0.5rem;"><span id="confirmations-demo">0</span> / 1 confirmation</p>
                            </div>
                            <button class="button secondary" onclick="viewOnExplorer()" style="margin-top: 1rem;">🔍 View on Explorer</button>
                        </div>

                        <!-- After Send Safety Tooltip -->
                        <div id="safety-after-send" style="display: none; background: rgba(33, 150, 243, 0.1); border-left: 4px solid var(--accent-blue); padding: 1rem; border-radius: 0.5rem; margin-top: 1.5rem;">
                            <strong style="color: var(--accent-blue);">🔁 Bitcoin is final:</strong>
                            <p style="font-size: 0.85rem; color: var(--text-dim); margin: 0.5rem 0 0;">Always test small amounts first. Transactions cannot be reversed.</p>
                        </div>

                        <button class="button secondary" onclick="resetTwoPhoneDemo()" style="width: 100%; margin-top: 1.5rem;">🔄 Reset Demo</button>
                    </div>

                    <!-- Testnet Practice Guide -->
                    <div style="background: linear-gradient(135deg, rgba(76, 175, 80, 0.2), rgba(33, 150, 243, 0.1)); border: 2px solid var(--accent-green); border-radius: 1rem; padding: 2rem; margin: 2rem 0;">
                        <h3 style="color: var(--accent-green); margin-bottom: 1rem; text-align: center;">🧪 Practice with Real Testnet Bitcoin</h3>
                        <p style="text-align: center; color: var(--text-dim); margin-bottom: 2rem;">No real money. Real blockchain. Learn by doing.</p>

                        <!-- Step-by-step testnet guide -->
                        <div style="background: var(--secondary-dark); border-radius: 0.75rem; padding: 1.5rem; margin-bottom: 1.5rem;">
                            <h4 style="color: var(--accent-gold); margin-bottom: 1.5rem;">📋 Testnet Practice Checklist</h4>

                            <!-- Step 1: Get a Wallet -->
                            <div style="margin-bottom: 1.5rem; padding: 1rem; background: var(--primary-dark); border-radius: 0.5rem; border-left: 4px solid var(--accent-blue);">
                                <div style="display: flex; align-items: start; gap: 1rem;">
                                    <div style="min-width: 30px; height: 30px; background: var(--accent-blue); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">1</div>
                                    <div style="flex: 1;">
                                        <h5 style="color: var(--accent-blue); margin-bottom: 0.5rem;">Get a Testnet Wallet</h5>
                                        <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem;">Download a Bitcoin testnet wallet app on your phone or computer.</p>
                                        <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                                            <a href="https://bluewallet.io/" target="_blank" class="button secondary" style="font-size: 0.85rem; padding: 0.5rem 1rem;">📱 BlueWallet</a>
                                            <a href="https://phoenix.acinq.co/" target="_blank" class="button secondary" style="font-size: 0.85rem; padding: 0.5rem 1rem;">⚡ Phoenix</a>
                                            <a href="https://sparrowwallet.com/" target="_blank" class="button secondary" style="font-size: 0.85rem; padding: 0.5rem 1rem;">💻 Sparrow</a>
                                        </div>
                                        <p style="color: var(--text-dim); font-size: 0.85rem; margin-top: 0.75rem;">⚠️ Make sure to select <strong>Testnet</strong> mode in settings!</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Step 2: Get Your Address -->
                            <div style="margin-bottom: 1.5rem; padding: 1rem; background: var(--primary-dark); border-radius: 0.5rem; border-left: 4px solid #9c27b0;">
                                <div style="display: flex; align-items: start; gap: 1rem;">
                                    <div style="min-width: 30px; height: 30px; background: #9c27b0; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">2</div>
                                    <div style="flex: 1;">
                                        <h5 style="color: #ce93d8; margin-bottom: 0.5rem;">Copy Your Testnet Address</h5>
                                        <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem;">In your wallet, tap "Receive" and copy your address. It should start with <code style="background: rgba(255,255,255,0.1); padding: 2px 6px; border-radius: 3px;">tb1</code>.</p>
                                        <div style="background: rgba(156, 39, 176, 0.1); padding: 1rem; border-radius: 0.5rem;">
                                            <p style="font-size: 0.85rem; color: var(--text-dim); margin: 0;">💡 Example: <code style="background: rgba(255,255,255,0.1); padding: 2px 6px; border-radius: 3px; font-size: 0.75rem;">tb1qw508d6qejxtdg4y5r3zarvary0c5xw7kxpjzsx</code></p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Step 3: Get Free Testnet Coins -->
                            <div style="margin-bottom: 1.5rem; padding: 1rem; background: var(--primary-dark); border-radius: 0.5rem; border-left: 4px solid var(--accent-green);">
                                <div style="display: flex; align-items: start; gap: 1rem;">
                                    <div style="min-width: 30px; height: 30px; background: var(--accent-green); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">3</div>
                                    <div style="flex: 1;">
                                        <h5 style="color: var(--accent-green); margin-bottom: 0.5rem;">Get Free Testnet Coins</h5>
                                        <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem;">Visit the faucet and paste your address to receive free testnet Bitcoin.</p>
                                        <div style="background: rgba(76, 175, 80, 0.15); padding: 1.5rem; border-radius: 0.75rem; border: 2px solid var(--accent-green); margin-bottom: 1rem;">
                                            <p style="font-weight: 600; margin-bottom: 0.75rem; color: var(--accent-green);">📍 How to Use the Faucet:</p>
                                            <ol style="margin: 0; padding-left: 1.5rem; color: var(--text-dim); font-size: 0.9rem;">
                                                <li style="margin-bottom: 0.5rem;">Click the button below to open the faucet</li>
                                                <li style="margin-bottom: 0.5rem;">Paste your testnet address</li>
                                                <li style="margin-bottom: 0.5rem;">Complete the captcha</li>
                                                <li style="margin-bottom: 0.5rem;">Click "Send" to receive coins</li>
                                                <li>Wait 1-10 minutes for confirmation</li>
                                            </ol>
                                        </div>
                                        <a href="https://bitcoinfaucet.uo1.net/" target="_blank" class="button" style="width: 100%; text-align: center; font-size: 1rem; padding: 1rem;">
                                            💰 Open Bitcoin Testnet Faucet →
                                        </a>
                                        <p style="color: var(--text-dim); font-size: 0.85rem; margin-top: 1rem; text-align: center;">🔗 <strong>bitcoinfaucet.uo1.net</strong></p>
                                    </div>
                                </div>
                            </div>

                            <!-- Step 4: Check Transaction -->
                            <div style="margin-bottom: 1.5rem; padding: 1rem; background: var(--primary-dark); border-radius: 0.5rem; border-left: 4px solid var(--accent-gold);">
                                <div style="display: flex; align-items: start; gap: 1rem;">
                                    <div style="min-width: 30px; height: 30px; background: var(--accent-gold); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">4</div>
                                    <div style="flex: 1;">
                                        <h5 style="color: var(--accent-gold); margin-bottom: 0.5rem;">Watch It Confirm</h5>
                                        <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem;">Track your transaction on the blockchain explorer.</p>
                                        <a href="https://mempool.space/testnet" target="_blank" class="button secondary" style="width: 100%; text-align: center;">
                                            🔍 Open Block Explorer
                                        </a>
                                        <div style="background: rgba(255, 167, 38, 0.1); padding: 1rem; border-radius: 0.5rem; margin-top: 1rem;">
                                            <p style="font-size: 0.85rem; color: var(--text-dim); margin: 0;">💡 Watch it go from "Unconfirmed" (0) to "Confirmed" (1+). Takes ~10-30 mins.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Step 5: Send Coins -->
                            <div style="margin-bottom: 1.5rem; padding: 1rem; background: var(--primary-dark); border-radius: 0.5rem; border-left: 4px solid #ff9800;">
                                <div style="display: flex; align-items: start; gap: 1rem;">
                                    <div style="min-width: 30px; height: 30px; background: #ff9800; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">5</div>
                                    <div style="flex: 1;">
                                        <h5 style="color: #ff9800; margin-bottom: 0.5rem;">Send Your First Transaction</h5>
                                        <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem;">Once confirmed, practice sending coins.</p>
                                        <div style="background: rgba(255, 152, 0, 0.1); padding: 1rem; border-radius: 0.5rem;">
                                            <p style="font-weight: 600; margin-bottom: 0.5rem; color: #ff9800;">📤 Send to:</p>
                                            <ul style="margin: 0; padding-left: 1.5rem; color: var(--text-dim); font-size: 0.9rem;">
                                                <li style="margin-bottom: 0.5rem;">Yourself (create 2nd wallet)</li>
                                                <li style="margin-bottom: 0.5rem;">Back to faucet (help others)</li>
                                                <li>Test address: <code style="background: rgba(255,255,255,0.1); padding: 2px 6px; border-radius: 3px; font-size: 0.75rem;">tb1qw508d6qejxtdg4y5r3zarvary0c5xw7kxpjzsx</code></li>
                                            </ul>
                                        </div>
                                        <div style="background: rgba(244, 67, 54, 0.1); border: 2px solid #f44336; border-radius: 0.5rem; padding: 1rem; margin-top: 1rem;">
                                            <strong style="color: #f44336;">⚠️ Safety Practice:</strong>
                                            <p style="color: var(--text-dim); font-size: 0.85rem; margin: 0.5rem 0 0;">
                                                • Double-check address before sending<br>
                                                • Start with small amounts<br>
                                                • Bitcoin is final—no undo!
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- What You Learned -->
                            <div style="padding: 1rem; background: var(--primary-dark); border-radius: 0.5rem; border-left: 4px solid var(--accent-green);">
                                <div style="display: flex; align-items: start; gap: 1rem;">
                                    <div style="min-width: 30px; height: 30px; background: var(--accent-green); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">✓</div>
                                    <div style="flex: 1;">
                                        <h5 style="color: var(--accent-green); margin-bottom: 0.5rem;">What You Just Learned</h5>
                                        <ul style="margin: 0; padding-left: 1.5rem; color: var(--text-dim); font-size: 0.9rem;">
                                            <li style="margin-bottom: 0.5rem;">✅ How to receive Bitcoin to an address</li>
                                            <li style="margin-bottom: 0.5rem;">✅ How confirmations work</li>
                                            <li style="margin-bottom: 0.5rem;">✅ How to send Bitcoin</li>
                                            <li style="margin-bottom: 0.5rem;">✅ How to use a block explorer</li>
                                            <li>✅ Why double-checking matters</li>
                                        </ul>
                                        <p style="margin-top: 1rem; color: var(--accent-green); font-weight: 600;">🎉 You made real Bitcoin transactions!</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Alternative Faucets -->
                        <div style="background: rgba(33, 150, 243, 0.1); padding: 1rem; border-radius: 0.5rem; border: 1px solid var(--accent-blue);">
                            <p style="font-weight: 600; margin-bottom: 0.5rem; color: var(--accent-blue);">🔄 Alternative Faucets:</p>
                            <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                                <a href="https://mempool.space/testnet/faucet" target="_blank" class="button secondary" style="font-size: 0.85rem; padding: 0.5rem 1rem;">Mempool</a>
                                <a href="https://testnet-faucet.com/" target="_blank" class="button secondary" style="font-size: 0.85rem; padding: 0.5rem 1rem;">Testnet-Faucet</a>
                                <a href="https://coinfaucet.eu/en/btc-testnet/" target="_blank" class="button secondary" style="font-size: 0.85rem; padding: 0.5rem 1rem;">CoinFaucet</a>
                            </div>
                            <p style="color: var(--text-dim); font-size: 0.85rem; margin-top: 0.5rem;">If one is empty, try another. Testnet Bitcoin has no real value!</p>
                        </div>
                    </div>

                    <h3 style="margin-top: 2.5rem;">📊 Step 3.2: Fees & Finality (30-Second Slider)</h3>
                    <p style="color: var(--text-dim); margin-bottom: 1rem;">Understand what fees do and why Bitcoin is final.</p>

                    <div style="background: var(--secondary-dark); border: 2px solid var(--accent-gold); border-radius: 0.75rem; padding: 2rem; margin: 1.5rem 0;">
                        <h4 style="color: var(--accent-gold); margin-bottom: 1.5rem; text-align: center;">What Do Fees Do?</h4>

                        <div style="margin-bottom: 2rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                <label style="font-weight: 600;">Fee Priority:</label>
                                <span id="fee-priority-label" style="color: var(--accent-gold); font-weight: 600;">Medium</span>
                            </div>
                            <input type="range" id="fee-slider" min="1" max="3" value="2" step="1" oninput="updateFeeEstimate(this.value)" style="width: 100%; height: 8px; border-radius: 4px; background: linear-gradient(90deg, var(--accent-blue), var(--accent-gold), var(--primary-orange)); cursor: pointer;">
                            <div style="display: flex; justify-content: space-between; margin-top: 0.5rem; font-size: 0.85rem; color: var(--text-dim);">
                                <span>Low fee</span>
                                <span>High fee</span>
                            </div>
                        </div>

                        <div style="background: var(--primary-dark); padding: 1.5rem; border-radius: 0.75rem; margin-bottom: 1rem;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; text-align: center;">
                                <div>
                                    <p style="font-size: 0.85rem; color: var(--text-dim); margin-bottom: 0.5rem;">Estimated Fee:</p>
                                    <p style="font-size: 1.3rem; color: var(--accent-gold); margin: 0; font-weight: 600;" id="fee-amount">~10 sats</p>
                                </div>
                                <div>
                                    <p style="font-size: 0.85rem; color: var(--text-dim); margin-bottom: 0.5rem;">Confirmation Time:</p>
                                    <p style="font-size: 1.3rem; color: var(--accent-green); margin: 0; font-weight: 600;" id="conf-time">~10 mins</p>
                                </div>
                            </div>
                        </div>

                        <p style="color: var(--text-dim); font-size: 0.9rem; text-align: center; margin: 0;">Fees go to miners for including your transaction in a block. Higher fee = faster confirmation. <strong>No monthly fees. No chargebacks.</strong></p>
                    </div>

                    <!-- Mailbox Metaphor -->
                    <div style="background: rgba(33, 150, 243, 0.1); border-left: 4px solid var(--accent-blue); padding: 1.5rem; border-radius: 0.5rem; margin: 1.5rem 0; display: flex; align-items: center; gap: 1.5rem;">
                        <div style="font-size: 3rem;">📬</div>
                        <div>
                            <strong style="color: var(--accent-blue);">Mailbox Metaphor:</strong>
                            <p style="margin: 0.5rem 0 0; color: var(--text-dim); font-size: 0.9rem;">Once you drop it in, you can track it—but not pull it back. Bitcoin is final.</p>
                        </div>
                    </div>

                    <h3 style="margin-top: 2.5rem;">🔐 Step 3.3: Where Are My Coins?</h3>
                    <p style="color: var(--text-dim); margin-bottom: 1rem;">Fix the biggest misconception about Bitcoin wallets.</p>

                    <div style="background: linear-gradient(135deg, rgba(156, 39, 176, 0.15), rgba(33, 150, 243, 0.1)); border: 2px solid #9c27b0; border-radius: 0.75rem; padding: 2rem; margin: 1.5rem 0;">
                        <div style="display: flex; align-items: center; justify-content: space-around; flex-wrap: wrap; gap: 2rem;">
                            <div style="text-align: center; flex: 1; min-width: 200px;">
                                <div style="background: rgba(255, 167, 38, 0.2); border: 3px solid var(--accent-gold); border-radius: 50%; width: 100px; height: 100px; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; font-size: 3rem;">🏦</div>
                                <strong style="color: var(--accent-gold); font-size: 1.1rem;">Blockchain</strong>
                                <p style="color: var(--text-dim); font-size: 0.85rem; margin-top: 0.5rem;">"The Vault"</p>
                                <p style="color: var(--text-light); margin-top: 0.5rem; font-weight: 600;">Coins live here</p>
                            </div>
                            <div style="color: var(--accent-green); font-size: 2.5rem;">→</div>
                            <div style="text-align: center; flex: 1; min-width: 200px;">
                                <div style="background: rgba(76, 175, 80, 0.2); border: 3px solid var(--accent-green); border-radius: 50%; width: 100px; height: 100px; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; font-size: 3rem;">🔑</div>
                                <strong style="color: var(--accent-green); font-size: 1.1rem;">Your Wallet</strong>
                                <p style="color: var(--text-dim); font-size: 0.85rem; margin-top: 0.5rem;">"The Key"</p>
                                <p style="color: var(--text-light); margin-top: 0.5rem; font-weight: 600;">Unlocks your coins</p>
                            </div>
                        </div>
                        <p style="text-align: center; margin-top: 2rem; color: var(--text-light); font-size: 1.05rem; font-weight: 600;">Your Bitcoin isn't inside the app. The app holds your keys; the coins live on the blockchain.</p>
                        <p style="text-align: center; margin-top: 0.5rem; color: var(--text-dim); font-size: 0.9rem;">Delete the app? Restore with words. Your Bitcoin is safe on the blockchain.</p>
                    </div>

                    <h3 style="margin-top: 2.5rem;">🎯 Step 3.4: Quick "First Use" Choices</h3>
                    <p style="color: var(--text-dim); margin-bottom: 1rem;">Choose your first real-world Bitcoin action.</p>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 1.5rem 0;">
                        <div style="background: var(--secondary-dark); border: 2px solid var(--accent-blue); border-radius: 0.75rem; padding: 1.5rem; cursor: pointer;" onclick="showFirstUseDetails('spend')">
                            <h4 style="color: var(--accent-blue); margin-bottom: 0.75rem;">🛒 Spend</h4>
                            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem;">Buy a gift card, pay a friend, try Lightning later</p>
                            <p style="font-size: 0.85rem; color: var(--accent-blue); font-weight: 600;">Example: Bitrefill →</p>
                        </div>

                        <div style="background: var(--secondary-dark); border: 2px solid var(--accent-green); border-radius: 0.75rem; padding: 1.5rem; cursor: pointer;" onclick="showFirstUseDetails('send')">
                            <h4 style="color: var(--accent-green); margin-bottom: 0.75rem;">📤 Send</h4>
                            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem;">Withdraw from exchange to your wallet</p>
                            <p style="font-size: 0.85rem; color: var(--accent-green); font-weight: 600;">See checklist →</p>
                        </div>

                        <div style="background: var(--secondary-dark); border: 2px solid var(--accent-gold); border-radius: 0.75rem; padding: 1.5rem; cursor: pointer;" onclick="showFirstUseDetails('save')">
                            <h4 style="color: var(--accent-gold); margin-bottom: 0.75rem;">🔒 Save</h4>
                            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem;">Move to hardware wallet for long-term storage</p>
                            <p style="font-size: 0.85rem; color: var(--accent-gold); font-weight: 600;">Best practice →</p>
                        </div>
                    </div>

                    <div id="first-use-details" style="display: none; background: var(--primary-dark); border: 2px solid var(--border-color); border-radius: 0.75rem; padding: 1.5rem; margin-top: 1rem;"></div>

                    <!-- Withdraw from Exchange Checklist -->
                    <div style="background: rgba(76, 175, 80, 0.1); border-left: 4px solid var(--accent-green); padding: 1rem; border-radius: 0.5rem; margin: 1.5rem 0;">
                        <strong style="color: var(--accent-green);">✅ Withdraw from Exchange Checklist:</strong>
                        <ul style="margin: 0.5rem 0 0 1.5rem; color: var(--text-dim); font-size: 0.9rem;">
                            <li>Copy/paste your receive address (not someone else's)</li>
                            <li>Send a $5 test first</li>
                            <li>Wait for 1–3 confirmations before sending more</li>
                        </ul>
                    </div>

                    <h3 style="margin-top: 2.5rem;">🔄 Step 3.5: Recovery Drill (Required Before Big Deposits)</h3>
                    <p style="color: var(--text-dim); margin-bottom: 1rem;">Prove you can recover your wallet. This is critical.</p>

                    <div style="background: var(--secondary-dark); border: 2px solid var(--accent-gold); border-radius: 0.75rem; padding: 2rem; margin: 1.5rem 0;">
                        <h4 style="color: var(--accent-gold); margin-bottom: 1.5rem; text-align: center;">Recovery Drill Steps</h4>
                        <ol style="margin: 0; padding-left: 1.5rem; color: var(--text-dim);">
                            <li style="padding: 0.5rem 0;">Write down the 12/24 words on paper</li>
                            <li style="padding: 0.5rem 0;">Delete the wallet app from your device</li>
                            <li style="padding: 0.5rem 0;">Restore using the words in a new wallet app</li>
                            <li style="padding: 0.5rem 0;">Confirm your balance reappears</li>
                            <li style="padding: 0.5rem 0;">Send a small test transaction to verify</li>
                        </ol>
                        <div style="background: rgba(244, 67, 54, 0.1); border: 2px solid #f44336; border-radius: 0.5rem; padding: 1rem; margin-top: 1.5rem;">
                            <strong style="color: #f44336;">⚠️ Warning:</strong>
                            <p style="color: var(--text-dim); margin: 0.5rem 0 0; font-size: 0.9rem;">Never type your mainnet words into any website or demo. Paper, in person, offline only.</p>
                        </div>
                    </div>

                    <h3 style="margin-top: 2.5rem;">✅ Step 3.6: Best Practices Checklist</h3>
                    <p style="color: var(--text-dim); margin-bottom: 1rem;">Track your progress as you learn to use Bitcoin safely and effectively.</p>

                    <div style="background: var(--secondary-dark); border: 2px solid var(--border-color); border-radius: 0.75rem; padding: 1.5rem; margin: 1.5rem 0;">
                        <ul class="checklist" id="bitcoin-practices-checklist-new">
                            <li onclick="toggleCheckNew(this)">
                                <input type="checkbox">
                                <strong>Double-check addresses</strong> before sending
                            </li>
                            <li onclick="toggleCheckNew(this)">
                                <input type="checkbox">
                                <strong>Start with small test transactions</strong>
                            </li>
                            <li onclick="toggleCheckNew(this)">
                                <input type="checkbox">
                                <strong>Keep spending money in mobile</strong>, savings in hardware
                            </li>
                            <li onclick="toggleCheckNew(this)">
                                <input type="checkbox">
                                <strong>Never share recovery words</strong> (not even "support")
                            </li>
                            <li onclick="toggleCheckNew(this)">
                                <input type="checkbox">
                                <strong>Understand fees and finality</strong>
                            </li>
                            <li onclick="toggleCheckNew(this)">
                                <input type="checkbox">
                                <strong>Verify you control keys</strong> (can you export the seed?)
                            </li>
                        </ul>

                        <div style="margin-top: 1.5rem; text-align: center;">
                            <div style="font-size: 1.5rem; color: var(--accent-green); font-weight: bold;">Your Bitcoin IQ: <span id="practices-score-new">0/6</span></div>
                        </div>
                    </div>

                    <!-- Pragmatist Cross-Link -->
                    <div style="background: linear-gradient(135deg, rgba(247, 147, 26, 0.1), rgba(255, 167, 38, 0.1)); border: 2px solid var(--accent-gold); border-radius: 0.75rem; padding: 1.5rem; margin: 2rem 0; text-align: center;">
                        <p style="margin: 0 0 0.5rem; color: var(--text-dim); font-size: 0.9rem;">📚 Want to understand fees & confirmations?</p>
                        <p style="margin: 0; font-size: 1rem;">
                            <a href="/paths/pragmatist/stage-1/module-3.html" style="color: var(--accent-gold); text-decoration: none; font-weight: bold;">Learn "Bitcoin Transactions" in Pragmatist →</a>
                        </p>
                        <p style="margin: 0.5rem 0 0; color: var(--text-dim); font-size: 0.85rem;">Fee levels 🟢🟡🟠🔴, confirmation security, Lightning Network</p>
                    </div>

                    <button class="button understand-btn" onclick="completeModule(3)">✅ I'm Ready for the Big Picture</button>
                </div>
            </div>
        </section>

        <!-- Module 4: Why It Matters -->
        <section class="module-section" data-module="4">
            <div class="module-header" onclick="toggleModule(4)">
                <div>
                    <span class="module-number">4.</span>
                    <span class="module-title">🎯 Why It Matters — The Big Picture</span>
                </div>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="module-content">
                <div class="module-inner">
                    <div style="text-align: center; margin: 2rem 0;">
                        <h3 style="color: var(--accent-gold); font-size: 2rem; margin-bottom: 1rem;">You Just Learned the Future of Money</h3>
                        <p style="font-size: 1.2rem; color: var(--text-dim);">In 10 minutes, you now know more about Bitcoin than 99% of people.</p>
                    </div>

                    <!-- Quick Recap -->
                    <div style="background: linear-gradient(135deg, rgba(247, 147, 26, 0.15), rgba(76, 175, 80, 0.1)); border: 2px solid var(--accent-gold); border-radius: 1rem; padding: 2rem; margin: 2rem 0;">
                        <h4 style="color: var(--accent-gold); text-align: center; margin-bottom: 1.5rem;">What You've Mastered</h4>

                        <div style="display: grid; gap: 1rem;">
                            <div style="background: var(--primary-dark); padding: 1.5rem; border-radius: 0.75rem; border-left: 4px solid var(--accent-blue);">
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <div style="font-size: 2.5rem;">💵</div>
                                    <div>
                                        <strong style="color: var(--accent-blue); font-size: 1.1rem;">Get Bitcoin</strong>
                                        <p style="margin: 0.25rem 0 0; color: var(--text-dim); font-size: 0.9rem;">You know how to buy your first sats and understand the difference between exchange custody and true ownership</p>
                                    </div>
                                </div>
                            </div>

                            <div style="background: var(--primary-dark); padding: 1.5rem; border-radius: 0.75rem; border-left: 4px solid #9c27b0;">
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <div style="font-size: 2.5rem;">🔐</div>
                                    <div>
                                        <strong style="color: #ce93d8; font-size: 1.1rem;">Hold It Safely</strong>
                                        <p style="margin: 0.25rem 0 0; color: var(--text-dim); font-size: 0.9rem;">You control the keys = you control the Bitcoin. No bank, no intermediary, no permission needed</p>
                                    </div>
                                </div>
                            </div>

                            <div style="background: var(--primary-dark); padding: 1.5rem; border-radius: 0.75rem; border-left: 4px solid var(--accent-green);">
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <div style="font-size: 2.5rem;">⚡</div>
                                    <div>
                                        <strong style="color: var(--accent-green); font-size: 1.1rem;">Use It Freely</strong>
                                        <p style="margin: 0.25rem 0 0; color: var(--text-dim); font-size: 0.9rem;">Spend, send, or save — Bitcoin gives you financial freedom without borders or restrictions</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Why This Matters -->
                    <div style="background: var(--secondary-dark); border: 2px solid var(--accent-green); border-radius: 1rem; padding: 2rem; margin: 2rem 0;">
                        <h4 style="color: var(--accent-green); margin-bottom: 1.5rem; text-align: center;">Why This Actually Matters</h4>

                        <div style="display: grid; gap: 1.5rem;">
                            <div>
                                <h5 style="color: var(--accent-gold); margin-bottom: 0.5rem;">🗽 True Ownership</h5>
                                <p style="color: var(--text-dim); margin: 0;">For the first time in history, you can own digital money that nobody can take away, freeze, or devalue. Not your bank. Not your government. Just you.</p>
                            </div>

                            <div>
                                <h5 style="color: var(--accent-gold); margin-bottom: 0.5rem;">🌍 Permission-less Money</h5>
                                <p style="color: var(--text-dim); margin: 0;">Send any amount to anyone, anywhere, anytime. No forms to fill out. No approval needed. No borders. No censorship.</p>
                            </div>

                            <div>
                                <h5 style="color: var(--accent-gold); margin-bottom: 0.5rem;">🔒 Fixed Supply</h5>
                                <p style="color: var(--text-dim); margin: 0;">Only 21 million Bitcoin will ever exist. No government can print more. No central bank can inflate it away. Your purchasing power is protected.</p>
                            </div>

                            <div>
                                <h5 style="color: var(--accent-gold); margin-bottom: 0.5rem;">🛡️ Financial Sovereignty</h5>
                                <p style="color: var(--text-dim); margin: 0;">You are your own bank. With that comes responsibility — but also complete control over your wealth.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Next Steps -->
                    <div style="background: linear-gradient(135deg, rgba(33, 150, 243, 0.15), rgba(156, 39, 176, 0.1)); border: 2px solid var(--accent-blue); border-radius: 1rem; padding: 2rem; margin: 2rem 0;">
                        <h4 style="color: var(--accent-blue); margin-bottom: 1rem; text-align: center;">Your Next Steps</h4>

                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="padding: 0.75rem 0; color: var(--text-dim);"><strong style="color: var(--text-light);">1.</strong> Buy your first $10-$20 of Bitcoin on a trusted exchange</li>
                            <li style="padding: 0.75rem 0; color: var(--text-dim);"><strong style="color: var(--text-light);">2.</strong> Download a mobile wallet (BlueWallet, Phoenix, Muun)</li>
                            <li style="padding: 0.75rem 0; color: var(--text-dim);"><strong style="color: var(--text-light);">3.</strong> Practice: send a small amount to yourself from exchange to wallet</li>
                            <li style="padding: 0.75rem 0; color: var(--text-dim);"><strong style="color: var(--text-light);">4.</strong> Write down and secure your 12-word seed phrase</li>
                            <li style="padding: 0.75rem 0; color: var(--text-dim);"><strong style="color: var(--text-light);">5.</strong> Keep learning: explore our full curriculum and interactive demos</li>
                        </ul>
                    </div>

                    <div style="text-align: center; margin: 2rem 0;">
                        <p style="font-size: 1.1rem; color: var(--text-dim); font-style: italic;">"Not your keys, not your coins."</p>
                        <p style="margin-top: 0.5rem; color: var(--text-dim); font-size: 0.9rem;">— Bitcoin Proverb</p>
                    </div>

                    <!-- Pragmatist Cross-Link -->
                    <div style="background: linear-gradient(135deg, rgba(247, 147, 26, 0.15), rgba(255, 167, 38, 0.15)); border: 3px solid var(--accent-gold); border-radius: 0.75rem; padding: 2rem; margin: 2rem 0; text-align: center;">
                        <p style="margin: 0 0 1rem; color: var(--accent-gold); font-size: 1.2rem; font-weight: bold;">🎓 Ready to Become a Bitcoin Expert?</p>
                        <p style="margin: 0 0 1rem; color: var(--text-light); font-size: 1rem;">You've mastered the basics! Now dive deep with the <strong>Pragmatist Path</strong>:</p>
                        <div style="display: grid; gap: 0.75rem; text-align: left; max-width: 500px; margin: 1.5rem auto;">
                            <div style="background: var(--secondary-dark); padding: 1rem; border-radius: 0.5rem; border-left: 4px solid var(--accent-blue);">
                                <a href="/paths/pragmatist/stage-2/module-4.html" style="color: var(--accent-blue); text-decoration: none; font-weight: bold;">⛏️ Bitcoin Mining</a>
                                <p style="margin: 0.25rem 0 0; color: var(--text-dim); font-size: 0.85rem;">How the network stays secure</p>
                            </div>
                            <div style="background: var(--secondary-dark); padding: 1rem; border-radius: 0.5rem; border-left: 4px solid var(--accent-green);">
                                <a href="/paths/pragmatist/stage-2/module-5.html" style="color: var(--accent-green); text-decoration: none; font-weight: bold;">🔗 The Blockchain</a>
                                <p style="margin: 0.25rem 0 0; color: var(--text-dim); font-size: 0.85rem;">Immutability & distributed ledger</p>
                            </div>
                            <div style="background: var(--secondary-dark); padding: 1rem; border-radius: 0.5rem; border-left: 4px solid #ff9800;">
                                <a href="/paths/pragmatist/stage-2/module-6.html" style="color: #ff9800; text-decoration: none; font-weight: bold;">🛡️ Security Best Practices</a>
                                <p style="margin: 0.25rem 0 0; color: var(--text-dim); font-size: 0.85rem;">Advanced protection strategies</p>
                            </div>
                        </div>
                        <a href="/paths/pragmatist/" class="button secondary" style="display: inline-block; margin-top: 1rem;">📚 Start Pragmatist Path →</a>
                    </div>

                    <button class="button understand-btn" onclick="completeModule(4)">🎓 Complete The Hurried Path</button>
                </div>
            </div>
        </section>

        <!-- Completion -->
        <div id="completion-section" style="display: none; background: linear-gradient(135deg, rgba(76, 175, 80, 0.2), rgba(76, 175, 80, 0.05)); border: 3px solid var(--accent-green); border-radius: 1rem; padding: 3rem 2rem; text-align: center; margin: 2rem 0;">
            <div style="font-size: 4rem; margin-bottom: 1rem;">🎉</div>
            <h2 style="color: var(--accent-green); font-size: 2.5rem; margin-bottom: 1rem;">Congratulations!</h2>
            <p style="font-size: 1.2rem; margin-bottom: 2rem;">You've completed The Hurried path! You now have a solid foundation in Bitcoin.</p>
            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                <a href="/paths/curious/" class="button">🌱 Continue to The Curious</a>
                <a href="/paths/builder/" class="button secondary">⚡ Try The Builder</a>
                <a href="/paths/sovereign/" class="button success">🎯 Master The Sovereign</a>
            </div>
        </div>

        <div style="text-align: center; margin: 3rem 0; padding: 2rem; background: var(--secondary-dark); border-radius: 1rem;">
            <h3 style="color: var(--accent-gold); margin-bottom: 1rem;">Ready for More?</h3>
            <p style="margin-bottom: 1.5rem;">Continue your Bitcoin education journey</p>
            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                <a href="/" class="button secondary">← Back to Home</a>
                <a href="/interactive-demos/" class="button secondary">🎮 Interactive Demos</a>
                <a href="/curriculum/" class="button secondary">📚 Full Curriculum</a>
            </div>
        </div>
    </div>

    <script>
        // Simple SHA-256 implementation for demo purposes
        async function sha256(message) {
            const msgBuffer = new TextEncoder().encode(message);
            const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
        }

        // Progress tracking
        let completedModules = new Set(JSON.parse(localStorage.getItem('hurried_progress') || '[]'));

        function updateProgress() {
            const progress = (completedModules.size / 4) * 100;
            document.getElementById('progress-text').textContent = `${completedModules.size} / 4 Steps Completed`;
            document.getElementById('progress-bar').style.width = `${progress}%`;

            if (completedModules.size === 4) {
                // Show achievement
                showAchievement();

                // Show completion section
                setTimeout(() => {
                    document.getElementById('completion-section').style.display = 'block';
                    document.getElementById('completion-section').scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 3500); // Wait for achievement animation
            }
        }

        function showAchievement() {
            const achievementHTML = `
                <div class="achievement-popup">
                    <div class="achievement-icon">🚀</div>
                    <div class="achievement-title">Quick Start Master!</div>
                    <div class="achievement-desc">You've completed The Hurried Path</div>
                </div>
            `;
            document.body.insertAdjacentHTML('beforeend', achievementHTML);

            // Remove after animation
            setTimeout(() => {
                document.querySelector('.achievement-popup').remove();
            }, 3500);
        }

        function toggleModule(num) {
            const module = document.querySelector(`[data-module="${num}"]`);
            module.classList.toggle('open');
        }

        function completeModule(num) {
            completedModules.add(num);
            localStorage.setItem('hurried_progress', JSON.stringify([...completedModules]));
            updateProgress();

            // Open next module
            if (num < 4) {
                setTimeout(() => {
                    toggleModule(num + 1);
                    document.querySelector(`[data-module="${num + 1}"]`).scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 500);
            }
        }

        // Scenario Comparison (Module 1)
        const scenarios = {
            international: {
                bank: "💰 $50-100 in fees<br>⏱️ 3-7 business days<br>📋 Must provide documentation<br>🚫 May be rejected/frozen<br>💵 Currency conversion fees",
                bitcoin: "💰 $1-3 in fees<br>⏱️ 10-60 minutes<br>📋 No permission needed<br>✅ Uncensorable<br>💵 No conversion needed (global currency)"
            },
            freeze: {
                bank: "🏢 Bank owns your account<br>🚫 Can freeze anytime<br>👮 Government can seize<br>📝 Must follow their rules<br>❌ Account closure possible",
                bitcoin: "🔑 You own your keys<br>✅ Nobody can freeze it<br>🌍 Works everywhere<br>🗽 Financial sovereignty<br>✅ Unstoppable payments"
            },
            inflation: {
                bank: "📉 Dollar loses ~2-8% value/year<br>💸 $100 → $50 purchasing power in 10 years<br>🏦 Bank can print unlimited money<br>📊 Your savings erode<br>⚠️ Historical hyperinflation examples",
                bitcoin: "📈 Fixed supply (21M max)<br>💎 Scarcity guarantees value preservation<br>🔒 No one can print more<br>⚡ 19.5M already mined<br>✅ Deflationary by design"
            }
        };

        function showScenario(type) {
            const scenario = scenarios[type];

            // Remove active class from all scenario buttons
            document.querySelectorAll('#scenario-buttons button').forEach(btn => {
                btn.classList.remove('active');
            });

            // Add active class to clicked button
            document.querySelector(`[data-scenario="${type}"]`).classList.add('active');

            // Show comparison
            document.getElementById('scenario-display').style.display = 'block';
            document.getElementById('bank-content').innerHTML = scenario.bank;
            document.getElementById('bitcoin-content').innerHTML = scenario.bitcoin;
            document.getElementById('scenario-display').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Transaction Simulation (Module 3)
        let txSimulationActive = false;

        function simulateTransaction() {
            if (txSimulationActive) return;
            txSimulationActive = true;

            document.getElementById('tx-start-btn').style.display = 'none';
            document.getElementById('tx-reset-btn').style.display = 'block';

            const steps = [1, 2, 3, 4, 5];
            let currentStep = 0;

            const interval = setInterval(() => {
                if (currentStep < steps.length) {
                    const stepEl = document.getElementById(`tx-step-${steps[currentStep]}`);
                    stepEl.style.opacity = '1';
                    stepEl.style.background = 'rgba(76, 175, 80, 0.2)';
                    stepEl.style.borderLeft = '4px solid var(--accent-green)';
                    currentStep++;
                } else {
                    clearInterval(interval);
                    txSimulationActive = false;
                }
            }, 1000);
        }

        function resetTransaction() {
            txSimulationActive = false;
            document.getElementById('tx-start-btn').style.display = 'block';
            document.getElementById('tx-reset-btn').style.display = 'none';

            for (let i = 1; i <= 5; i++) {
                const stepEl = document.getElementById(`tx-step-${i}`);
                stepEl.style.opacity = '0.3';
                stepEl.style.background = 'rgba(255, 167, 38, 0.1)';
                stepEl.style.borderLeft = 'none';
            }
        }

        // Simple QR Code generator
        // Real QR Code generation using QRious library
        function generateQRCode(text, canvasId) {
            const canvas = document.getElementById(canvasId);
            if (!canvas) {
                console.warn('Canvas not found:', canvasId);
                return;
            }

            try {
                // Use QRious library for reliable QR code generation
                const qr = new QRious({
                    element: canvas,
                    value: text,
                    size: canvas.width || 200,
                    background: '#ffffff',
                    foreground: '#000000',
                    level: 'M' // Error correction level
                });
                console.log('QR code generated successfully for:', text.substring(0, 20) + '...');
            } catch (error) {
                console.error('QR Code generation error:', error);
                // Fallback: draw error message
                const ctx = canvas.getContext('2d');
                ctx.fillStyle = '#ffffff';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = '#f44336';
                ctx.font = '14px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('QR Error', canvas.width / 2, canvas.height / 2);
            }
        }

        // Wallet Generation with visual feedback
        function generateSeed() {
            const randomBytes = new Uint8Array(32);
            crypto.getRandomValues(randomBytes);
            const seed = Array.from(randomBytes).map(b => b.toString(16).padStart(2, '0')).join('');

            document.getElementById('seed-output').style.display = 'block';
            document.getElementById('seed-output').textContent = seed;

            // Highlight step 2
            setTimeout(() => {
                document.getElementById('step-2').style.opacity = '1';

                // Generate mnemonic (simplified - using truly random selection for demo)
                const words = ['abandon', 'ability', 'able', 'about', 'above', 'absent', 'absorb', 'abstract', 'absurd', 'abuse', 'access', 'accident', 'achieve', 'acid', 'acoustic', 'acquire', 'across', 'act', 'action', 'actor', 'actress', 'actual', 'address', 'adjust', 'admit', 'adult', 'advance', 'advice', 'aerobic', 'affair', 'afford', 'afraid', 'again', 'age', 'agent', 'agree', 'ahead', 'aim', 'air', 'airport', 'aisle', 'alarm', 'album', 'alcohol', 'alert', 'alien', 'all', 'alley', 'allow', 'almost', 'alone', 'alpha', 'already', 'also', 'alter', 'always', 'amateur', 'amazing', 'among', 'amount', 'amused', 'analyst', 'anchor', 'ancient', 'anger', 'angle', 'angry', 'animal', 'ankle', 'announce', 'annual', 'another', 'answer', 'antenna', 'antique', 'anxiety', 'any', 'apart', 'apology', 'appear', 'apple', 'approve', 'april', 'arch', 'arctic', 'area', 'arena', 'argue', 'arm', 'armed', 'armor', 'army', 'around', 'arrange', 'arrest', 'arrive', 'arrow', 'art', 'artefact', 'artist', 'artwork', 'ask', 'aspect', 'assault', 'asset', 'assist', 'assume', 'asthma', 'athlete', 'atom', 'attack', 'attend', 'attitude', 'attract', 'auction', 'audit', 'august', 'aunt', 'author', 'auto', 'autumn', 'average', 'avocado', 'avoid', 'awake', 'aware', 'away', 'awesome', 'awful', 'awkward', 'axis', 'baby', 'bachelor', 'bacon', 'badge', 'bag', 'balance', 'balcony', 'ball', 'bamboo', 'banana', 'banner', 'bar', 'barely', 'bargain', 'barrel', 'base', 'basic', 'basket', 'battle', 'beach', 'bean', 'beauty', 'because', 'become', 'beef', 'before', 'begin', 'behave', 'behind', 'believe', 'below', 'belt', 'bench', 'benefit', 'best', 'betray', 'better', 'between', 'beyond', 'bicycle', 'bid', 'bike', 'bind', 'biology', 'bird', 'birth', 'bitter', 'black', 'blade', 'blame', 'blanket', 'blast', 'bleak', 'bless', 'blind', 'blood', 'blossom', 'blouse', 'blue', 'blur', 'blush', 'board', 'boat', 'body', 'boil', 'bomb', 'bone', 'bonus', 'book', 'boost', 'border', 'boring', 'borrow', 'boss', 'bottom', 'bounce', 'box', 'boy', 'bracket', 'brain', 'brand', 'brass', 'brave', 'bread', 'breeze', 'brick', 'bridge', 'brief', 'bright', 'bring', 'brisk', 'broccoli', 'broken', 'bronze', 'broom', 'brother', 'brown', 'brush', 'bubble', 'buddy', 'budget', 'buffalo', 'build', 'bulb', 'bulk', 'bullet', 'bundle', 'bunker', 'burden', 'burger', 'burst', 'bus', 'business', 'busy', 'butter', 'buyer', 'buzz'];

                // Use crypto.getRandomValues for truly random word selection
                const mnemonicWords = [];
                const randomIndices = new Uint32Array(12);
                crypto.getRandomValues(randomIndices);

                for (let i = 0; i < 12; i++) {
                    const index = randomIndices[i] % words.length;
                    mnemonicWords.push(words[index]);
                }

                const mnemonic = mnemonicWords.join(' ');

                document.getElementById('mnemonic-output').style.display = 'block';
                document.getElementById('mnemonic-output').textContent = mnemonic;

                // Highlight step 3
                setTimeout(() => {
                    document.getElementById('step-3').style.opacity = '1';

                    // Generate address (demo format using truly random characters)
                    const base58Chars = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz';
                    const randomBytes = new Uint8Array(25);
                    crypto.getRandomValues(randomBytes);
                    const address = '1' + Array.from(randomBytes, byte => base58Chars[byte % 58]).join('');

                    document.getElementById('address-output').style.display = 'block';
                    document.getElementById('address-output').textContent = address;

                    // Generate and display QR code
                    const canvas = document.getElementById('qr-code-canvas');
                    if (canvas) {
                        canvas.width = 200;
                        canvas.height = 200;
                        generateQRCode(address, 'qr-code-canvas');
                        document.getElementById('qr-code-container').style.display = 'block';
                    }

                    document.getElementById('show-more-btn').style.display = 'inline-block';
                }, 800);
            }, 800);
        }

        function showMoreAddresses() {
            const container = document.getElementById('more-addresses');
            container.style.display = 'block';
            container.innerHTML = '';
            const base58Chars = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz';

            for (let i = 0; i < 5; i++) {
                // Generate truly random address
                const randomBytes = new Uint8Array(25);
                crypto.getRandomValues(randomBytes);
                const address = '1' + Array.from(randomBytes, byte => base58Chars[byte % 58]).join('');
                const div = document.createElement('div');
                div.className = 'demo-output';
                div.style.marginTop = '0.5rem';
                div.textContent = `Address ${i + 2}: ${address}`;
                container.appendChild(div);
            }
        }

        // Two-Phone Demo Functions
        function scanQRCode() {
            document.getElementById('scan-status').textContent = '✅ QR Code Scanned: bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh';
            document.getElementById('scan-status').style.color = 'var(--accent-green)';
            document.getElementById('send-btn').style.display = 'block';
        }

        function sendBitcoin() {
            const amount = parseFloat(document.getElementById('send-amount').value);
            const phoneABalance = parseFloat(document.getElementById('phone-a-balance').textContent);

            if (amount > phoneABalance) {
                alert('Insufficient balance!');
                return;
            }

            // Hide send button
            document.getElementById('send-btn').style.display = 'none';

            // Show transaction animation
            const txAnimation = document.getElementById('tx-animation');
            txAnimation.style.display = 'block';

            // Animate progress bar
            const progressBar = document.getElementById('tx-progress');
            let progress = 0;
            const interval = setInterval(() => {
                progress += 10;
                progressBar.style.width = progress + '%';

                if (progress >= 100) {
                    clearInterval(interval);

                    // Update balances
                    setTimeout(() => {
                        const newPhoneABalance = (phoneABalance - amount).toFixed(2);
                        const currentPhoneBBalance = parseFloat(document.getElementById('phone-b-balance').textContent);
                        const newPhoneBBalance = (currentPhoneBBalance + amount).toFixed(2);

                        document.getElementById('phone-a-balance').textContent = newPhoneABalance + ' BTC';
                        document.getElementById('phone-b-balance').textContent = newPhoneBBalance + ' BTC';

                        document.getElementById('tx-status').textContent = '✅ Transaction Confirmed!';

                        setTimeout(() => {
                            txAnimation.style.display = 'none';
                        }, 2000);
                    }, 500);
                }
            }, 200);
        }

        function resetTwoPhoneDemo() {
            document.getElementById('phone-a-balance').textContent = '0.05 BTC';
            document.getElementById('phone-b-balance').textContent = '0.00 BTC';
            document.getElementById('send-amount').value = '0.01';
            document.getElementById('scan-status').textContent = '';
            document.getElementById('send-btn').style.display = 'none';
            document.getElementById('tx-animation').style.display = 'none';
            document.getElementById('tx-progress').style.width = '0%';
            document.getElementById('tx-status').textContent = 'Miners are including your transaction in the next block';
        }

        // Use Case Display (Module 3)
        const useCases = {
            spend: {
                title: '🛒 Spend Bitcoin',
                content: `
                    <div style="background: var(--primary-dark); padding: 1.5rem; border-radius: 0.75rem;">
                        <h5 style="color: var(--accent-green); margin-bottom: 1rem;">Where Can You Spend Bitcoin?</h5>

                        <div style="background: rgba(33, 150, 243, 0.1); padding: 1.5rem; border-radius: 0.75rem; margin: 1rem 0; border: 2px solid var(--accent-blue);">
                            <h6 style="color: var(--accent-blue); margin-bottom: 0.75rem;">🎁 Bitrefill - Gift Cards & Phone Top-ups</h6>
                            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 0.75rem;">Buy gift cards for Amazon, Uber, Starbucks, and more with Bitcoin.</p>
                            <ul style="list-style: none; padding: 0; margin: 0;">
                                <li style="padding: 0.25rem 0; color: var(--text-dim); font-size: 0.85rem;">✅ Instant delivery</li>
                                <li style="padding: 0.25rem 0; color: var(--text-dim); font-size: 0.85rem;">✅ Lightning Network supported (instant & cheap)</li>
                                <li style="padding: 0.25rem 0; color: var(--text-dim); font-size: 0.85rem;">✅ 170+ countries</li>
                            </ul>
                        </div>

                        <div style="margin-top: 1.5rem;">
                            <p style="font-size: 0.9rem; color: var(--text-dim); margin-bottom: 0.5rem;"><strong>Other Places:</strong></p>
                            <ul style="list-style: none; padding: 0; margin: 0; color: var(--text-dim); font-size: 0.85rem;">
                                <li style="padding: 0.25rem 0;">• <strong>Merchants:</strong> Newegg, Overstock, Namecheap</li>
                                <li style="padding: 0.25rem 0;">• <strong>Services:</strong> VPNs (Mullvad, IVPN), domain names</li>
                                <li style="padding: 0.25rem 0;">• <strong>Lightning:</strong> Strike, Cash App (instant, low fees)</li>
                            </ul>
                        </div>

                        <div style="background: rgba(255, 167, 38, 0.1); padding: 1rem; border-radius: 0.5rem; margin-top: 1rem; border-left: 4px solid var(--accent-gold);">
                            <p style="margin: 0; font-size: 0.85rem;"><strong style="color: var(--accent-gold);">💡 Pro Tip:</strong> Use Lightning Network for small purchases = lower fees & instant confirmation!</p>
                        </div>

                        <div style="background: linear-gradient(135deg, rgba(255, 193, 7, 0.15), rgba(255, 193, 7, 0.05)); border: 2px solid #FFC107; border-radius: 0.75rem; padding: 1rem; margin-top: 1rem; text-align: center;">
                            <a href="/interactive-demos/lightning-instant-demo.html" style="display: inline-block; padding: 0.75rem 1.25rem; background: linear-gradient(135deg, #FFC107, #FFA000); color: #000; text-decoration: none; border-radius: 0.5rem; font-weight: 600; transition: all 0.3s;">
                                ⚡ See Lightning in Action: Watch Instant Payment Demo →
                            </a>
                        </div>
                    </div>
                `
            },
            send: {
                title: '📤 Send Bitcoin',
                content: `
                    <div style="background: var(--primary-dark); padding: 1.5rem; border-radius: 0.75rem;">
                        <h5 style="color: var(--accent-blue); margin-bottom: 1rem;">How to Send Bitcoin Anywhere</h5>

                        <div style="display: flex; flex-direction: column; gap: 1rem;">
                            <div style="background: rgba(76, 175, 80, 0.1); padding: 1rem; border-radius: 0.75rem; border: 2px solid var(--accent-green);">
                                <strong style="color: var(--accent-green);">Step 1: Get the Recipient's Address</strong>
                                <p style="color: var(--text-dim); font-size: 0.85rem; margin: 0.5rem 0 0;">Ask them to send you their Bitcoin address or scan their QR code</p>
                            </div>

                            <div style="text-align: center; color: var(--accent-gold); font-size: 1.5rem;">↓</div>

                            <div style="background: rgba(76, 175, 80, 0.1); padding: 1rem; border-radius: 0.75rem; border: 2px solid var(--accent-green);">
                                <strong style="color: var(--accent-green);">Step 2: Open Your Wallet</strong>
                                <p style="color: var(--text-dim); font-size: 0.85rem; margin: 0.5rem 0 0;">Tap "Send" and paste their address or scan QR code</p>
                            </div>

                            <div style="text-align: center; color: var(--accent-gold); font-size: 1.5rem;">↓</div>

                            <div style="background: rgba(76, 175, 80, 0.1); padding: 1rem; border-radius: 0.75rem; border: 2px solid var(--accent-green);">
                                <strong style="color: var(--accent-green);">Step 3: Enter Amount & Fee</strong>
                                <p style="color: var(--text-dim); font-size: 0.85rem; margin: 0.5rem 0 0;">Choose fee priority: Low (slow) → Medium (~30 min) → High (fast)</p>
                            </div>

                            <div style="text-align: center; color: var(--accent-gold); font-size: 1.5rem;">↓</div>

                            <div style="background: rgba(76, 175, 80, 0.1); padding: 1rem; border-radius: 0.75rem; border: 2px solid var(--accent-green);">
                                <strong style="color: var(--accent-green);">Step 4: Confirm & Send</strong>
                                <p style="color: var(--text-dim); font-size: 0.85rem; margin: 0.5rem 0 0;">Double-check address! Bitcoin transactions can't be reversed.</p>
                            </div>
                        </div>

                        <div style="background: rgba(244, 67, 54, 0.1); padding: 1rem; border-radius: 0.5rem; margin-top: 1rem; border-left: 4px solid #f44336;">
                            <p style="margin: 0; font-size: 0.85rem;"><strong style="color: #f44336;">⚠️ Always verify:</strong> Wrong address = lost Bitcoin forever. No customer service to call!</p>
                        </div>
                    </div>
                `
            },
            save: {
                title: '🔒 Save Bitcoin (Cold Storage)',
                content: `
                    <div style="background: var(--primary-dark); padding: 1.5rem; border-radius: 0.75rem;">
                        <h5 style="color: var(--accent-gold); margin-bottom: 1rem;">Long-Term Bitcoin Storage Strategy</h5>

                        <div style="margin-bottom: 1.5rem;">
                            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem;">Think of Bitcoin storage like cash: keep spending money accessible, keep savings locked up safe.</p>
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem;">
                            <div style="background: rgba(33, 150, 243, 0.1); padding: 1rem; border-radius: 0.75rem; border: 2px solid var(--accent-blue);">
                                <h6 style="color: var(--accent-blue); margin-bottom: 0.5rem;">🔥 Hot Wallet</h6>
                                <p style="font-size: 0.85rem; color: var(--text-dim); margin-bottom: 0.5rem;">For daily spending</p>
                                <ul style="list-style: none; padding: 0; margin: 0; font-size: 0.8rem; color: var(--text-dim);">
                                    <li style="padding: 0.25rem 0;">• Mobile wallets</li>
                                    <li style="padding: 0.25rem 0;">• 5-10% of holdings</li>
                                    <li style="padding: 0.25rem 0;">• Always online</li>
                                </ul>
                            </div>

                            <div style="background: rgba(76, 175, 80, 0.1); padding: 1rem; border-radius: 0.75rem; border: 2px solid var(--accent-green);">
                                <h6 style="color: var(--accent-green); margin-bottom: 0.5rem;">❄️ Cold Storage</h6>
                                <p style="font-size: 0.85rem; color: var(--text-dim); margin-bottom: 0.5rem;">For long-term savings</p>
                                <ul style="list-style: none; padding: 0; margin: 0; font-size: 0.8rem; color: var(--text-dim);">
                                    <li style="padding: 0.25rem 0;">• Hardware wallets</li>
                                    <li style="padding: 0.25rem 0;">• 90-95% of holdings</li>
                                    <li style="padding: 0.25rem 0;">• Offline & secure</li>
                                </ul>
                            </div>
                        </div>

                        <div style="background: rgba(156, 39, 176, 0.1); padding: 1rem; border-radius: 0.75rem; border: 2px solid #9c27b0;">
                            <h6 style="color: #ce93d8; margin-bottom: 0.75rem;">🛡️ Cold Storage Options:</h6>
                            <ul style="list-style: none; padding: 0; margin: 0; color: var(--text-dim); font-size: 0.85rem;">
                                <li style="padding: 0.5rem 0; border-bottom: 1px solid rgba(156, 39, 176, 0.2);"><strong>Hardware Wallet:</strong> Physical device (Coldcard, Trezor, Ledger)</li>
                                <li style="padding: 0.5rem 0; border-bottom: 1px solid rgba(156, 39, 176, 0.2);"><strong>Paper Wallet:</strong> Seed phrase on paper in safe/vault</li>
                                <li style="padding: 0.5rem 0;"><strong>Multisig:</strong> 2-of-3 keys spread across locations (advanced)</li>
                            </ul>
                        </div>

                        <div style="background: rgba(255, 167, 38, 0.1); padding: 1rem; border-radius: 0.5rem; margin-top: 1rem; border-left: 4px solid var(--accent-gold);">
                            <p style="margin: 0; font-size: 0.85rem;"><strong style="color: var(--accent-gold);">💡 Best Practice:</strong> Store seed phrase in multiple secure physical locations. Metal backup plates resist fire/water damage.</p>
                        </div>
                    </div>
                `
            }
        };

        function showUseCase(type) {
            const useCase = useCases[type];
            const display = document.getElementById('use-case-display');

            // Remove active class from all buttons
            document.querySelectorAll('[data-use-case]').forEach(btn => {
                btn.classList.remove('active');
            });

            // Add active class to clicked button
            document.querySelector(`[data-use-case="${type}"]`).classList.add('active');

            // Show use case content
            display.style.display = 'block';
            display.innerHTML = `
                <div style="background: var(--secondary-dark); padding: 1.5rem; border-radius: 0.75rem; margin-top: 1rem; border: 2px solid var(--border-color);">
                    <h4 style="color: var(--accent-green); margin-bottom: 1rem;">${useCase.title}</h4>
                    ${useCase.content}
                </div>
            `;

            display.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Update practices checklist score
        function updatePracticesScore() {
            const checked = document.querySelectorAll('#bitcoin-practices-checklist li.checked').length;
            document.getElementById('practices-score').textContent = `${checked}/6`;
        }

        // Mining Simulator
        let miningInterval = null;
        let miningNonce = 0;
        let miningStartTime = 0;
        let miningDifficulty = 4;

        async function startMining() {
            document.getElementById('start-mining-btn').style.display = 'none';
            document.getElementById('stop-mining-btn').style.display = 'inline-block';

            miningNonce = 0;
            miningStartTime = Date.now();

            miningInterval = setInterval(async () => {
                const data = `Block ${miningNonce}`;
                const hash = await sha256(data);

                document.getElementById('nonce-value').textContent = miningNonce;
                document.getElementById('current-hash').textContent = hash;
                document.getElementById('current-hash').classList.remove('success');

                const elapsed = Math.floor((Date.now() - miningStartTime) / 1000);
                document.getElementById('time-elapsed').textContent = elapsed + 's';

                const hashrate = Math.floor(miningNonce / Math.max(elapsed, 1));
                document.getElementById('hashrate-value').textContent = hashrate;

                // Check if hash meets difficulty
                const target = '0'.repeat(miningDifficulty);
                if (hash.startsWith(target)) {
                    document.getElementById('current-hash').classList.add('success');
                    stopMining();
                    alert(`🎉 Block mined! Found valid hash in ${miningNonce} attempts!`);
                    return;
                }

                miningNonce++;
            }, 10);
        }

        function stopMining() {
            if (miningInterval) {
                clearInterval(miningInterval);
                miningInterval = null;
            }
            document.getElementById('start-mining-btn').style.display = 'inline-block';
            document.getElementById('stop-mining-btn').style.display = 'none';
        }

        function resetMining() {
            stopMining();
            miningNonce = 0;
            document.getElementById('nonce-value').textContent = '0';
            document.getElementById('hashrate-value').textContent = '0';
            document.getElementById('time-elapsed').textContent = '0s';
            document.getElementById('current-hash').textContent = 'Click "Start Mining" to begin the search for a winning hash!';
            document.getElementById('current-hash').classList.remove('success');
        }

        function changeDifficulty() {
            miningDifficulty = parseInt(document.getElementById('difficulty-select').value);
            document.getElementById('difficulty-target').textContent = '0'.repeat(miningDifficulty);
            resetMining();
        }

        // Blockchain Builder
        let blockchain = [
            {
                index: 0,
                prevHash: '0'.repeat(64),
                data: 'Genesis Block - First Bitcoin Block',
                hash: '000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f'
            }
        ];

        async function renderBlockchain(highlightLast = false) {
            const container = document.getElementById('blockchain-container');
            container.innerHTML = '';

            for (let i = 0; i < blockchain.length; i++) {
                const block = blockchain[i];
                const blockEl = document.createElement('div');
                blockEl.className = 'block valid';

                // Highlight the newly added block
                if (highlightLast && i === blockchain.length - 1) {
                    blockEl.classList.add('new-block');
                }

                blockEl.innerHTML = `
                    <div class="block-field">
                        <label>Block #:</label>
                        <div class="value">${block.index}</div>
                    </div>
                    <div class="block-field">
                        <label>Previous Hash:</label>
                        <div class="value">${block.prevHash.substring(0, 32)}...</div>
                    </div>
                    <div class="block-field">
                        <label>Data:</label>
                        <div class="value">${block.data}</div>
                    </div>
                    <div class="block-field">
                        <label>Block Hash:</label>
                        <div class="value" style="color: var(--accent-green)">${block.hash.substring(0, 32)}...</div>
                    </div>
                `;
                container.appendChild(blockEl);
            }

            document.getElementById('chain-length').textContent = blockchain.length;
            document.getElementById('total-transactions').textContent = blockchain.length;

            // Scroll to the new block
            if (highlightLast) {
                container.lastChild.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        }

        async function addBlock() {
            const data = document.getElementById('block-data').value || 'New transaction data';
            const prevBlock = blockchain[blockchain.length - 1];

            const newBlock = {
                index: blockchain.length,
                prevHash: prevBlock.hash,
                data: data,
                hash: await sha256(`${blockchain.length}${prevBlock.hash}${data}`)
            };

            blockchain.push(newBlock);
            document.getElementById('block-data').value = '';
            renderBlockchain(true); // Highlight the new block
        }

        // Security Checklist
        function toggleCheck(li) {
            const checkbox = li.querySelector('input[type="checkbox"]');
            checkbox.checked = !checkbox.checked;
            li.classList.toggle('checked');

            // Update security score if it exists
            const securityChecklist = document.getElementById('security-checklist');
            if (securityChecklist && securityChecklist.contains(li)) {
                const checked = document.querySelectorAll('#security-checklist li.checked').length;
                const scoreEl = document.getElementById('security-score');
                if (scoreEl) {
                    scoreEl.textContent = `${checked}/5`;
                }
            }

            // Update practices score if it exists
            const practicesChecklist = document.getElementById('bitcoin-practices-checklist');
            if (practicesChecklist && practicesChecklist.contains(li)) {
                updatePracticesScore();
            }
        }

        // FAQ Toggle
        function toggleFAQ(element) {
            const item = element.parentElement;
            const isOpen = item.classList.contains('open');

            // Close all
            document.querySelectorAll('.faq-item').forEach(i => i.classList.remove('open'));

            // Open clicked if it wasn't open
            if (!isOpen) {
                item.classList.add('open');
            }

            // Toggle icon
            element.querySelector('span:last-child').textContent = isOpen ? '+' : '−';
        }

        // Initialize
        updateProgress();
        renderBlockchain();

        // Initialize receiver QR code for two-phone demo
        const receiverQR = document.getElementById('receiver-qr-code');
        if (receiverQR) {
            generateQRCode('bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh', 'receiver-qr-code');
        }

        // ===== NEW STEP 2 & 3 INTERACTIVE FUNCTIONS =====

        // Helper function for truly random array selection
        function getRandomIndex(arrayLength) {
            const randomValue = new Uint32Array(1);
            crypto.getRandomValues(randomValue);
            return randomValue[0] % arrayLength;
        }

        // Bank Comparison Toggle
        function toggleBankComparison() {
            const comparison = document.getElementById('bank-comparison');
            const isHidden = comparison.style.display === 'none';
            comparison.style.display = isHidden ? 'block' : 'none';
        }

        // Wallet Onboarding Flow
        let onboardingScreen = 1;
        let wordsVerified = {3: false, 7: false, 12: false};
        let generatedWords = []; // Store generated words for quiz

        // BIP39 word list (first 256 words for variety)
        const BIP39_WORDS = ['abandon', 'ability', 'able', 'about', 'above', 'absent', 'absorb', 'abstract', 'absurd', 'abuse', 'access', 'accident', 'account', 'accuse', 'achieve', 'acid', 'acoustic', 'acquire', 'across', 'act', 'action', 'actor', 'actress', 'actual', 'adapt', 'add', 'addict', 'address', 'adjust', 'admit', 'adult', 'advance', 'advice', 'aerobic', 'affair', 'afford', 'afraid', 'again', 'age', 'agent', 'agree', 'ahead', 'aim', 'air', 'airport', 'aisle', 'alarm', 'album', 'alcohol', 'alert', 'alien', 'all', 'alley', 'allow', 'almost', 'alone', 'alpha', 'already', 'also', 'alter', 'always', 'amateur', 'amazing', 'among', 'amount', 'amused', 'analyst', 'anchor', 'ancient', 'anger', 'angle', 'angry', 'animal', 'ankle', 'announce', 'annual', 'another', 'answer', 'antenna', 'antique', 'anxiety', 'any', 'apart', 'apology', 'appear', 'apple', 'approve', 'april', 'arch', 'arctic', 'area', 'arena', 'argue', 'arm', 'armed', 'armor', 'army', 'around', 'arrange', 'arrest', 'arrive', 'arrow', 'art', 'artefact', 'artist', 'artwork', 'ask', 'aspect', 'assault', 'asset', 'assist', 'assume', 'asthma', 'athlete', 'atom', 'attack', 'attend', 'attitude', 'attract', 'auction', 'audit', 'august', 'aunt', 'author', 'auto', 'autumn', 'average', 'avocado', 'avoid', 'awake', 'aware', 'away', 'awesome', 'awful', 'awkward', 'axis', 'baby', 'bachelor', 'bacon', 'badge', 'bag', 'balance', 'balcony', 'ball', 'bamboo', 'banana', 'banner', 'bar', 'barely', 'bargain', 'barrel', 'base', 'basic', 'basket', 'battle', 'beach', 'bean', 'beauty', 'because', 'become', 'beef', 'before', 'begin', 'behave', 'behind', 'believe', 'below', 'belt', 'bench', 'benefit', 'best', 'betray', 'better', 'between', 'beyond', 'bicycle', 'bid', 'bike', 'bind', 'biology', 'bird', 'birth', 'bitter', 'black', 'blade', 'blame', 'blanket', 'blast', 'bleak', 'bless', 'blind', 'blood', 'blossom', 'blouse', 'blue', 'blur', 'blush', 'board', 'boat', 'body', 'boil', 'bomb', 'bone', 'bonus', 'book', 'boost', 'border', 'boring', 'borrow', 'boss', 'bottom', 'bounce', 'box', 'boy', 'bracket', 'brain', 'brand', 'brass', 'brave', 'bread', 'breeze', 'brick', 'bridge', 'brief', 'bright', 'bring', 'brisk', 'broccoli', 'broken', 'bronze', 'broom', 'brother', 'brown', 'brush', 'bubble', 'buddy', 'budget', 'buffalo', 'build', 'bulb', 'bulk', 'bullet', 'bundle', 'bunker', 'burden', 'burger', 'burst', 'bus', 'business', 'busy', 'butter', 'buyer', 'buzz', 'cabbage', 'cabin', 'cable', 'cactus', 'cage', 'cake', 'call', 'calm', 'camera', 'camp', 'can', 'canal', 'cancel', 'candy', 'cannon', 'canoe', 'canvas', 'canyon', 'capable', 'capital'];

        function startWalletOnboarding() {
            // Generate truly random 12-word seed phrase
            generatedWords = [];
            const randomIndices = new Uint32Array(12);
            crypto.getRandomValues(randomIndices);

            for (let i = 0; i < 12; i++) {
                const index = randomIndices[i] % BIP39_WORDS.length;
                generatedWords.push(BIP39_WORDS[index]);
            }

            // Display the words in the grid
            const grid = document.getElementById('recovery-words-grid');
            grid.innerHTML = '';
            generatedWords.forEach((word, idx) => {
                const div = document.createElement('div');
                div.textContent = `${idx + 1}. ${word}`;
                grid.appendChild(div);
            });

            // Reset verification state
            wordsVerified = {3: false, 7: false, 12: false};

            document.getElementById('onboarding-screen-1').style.display = 'none';
            document.getElementById('onboarding-screen-2').style.display = 'block';
        }

        function revealRecoveryWords() {
            document.getElementById('recovery-words-blurred').style.filter = 'blur(0px)';
            document.getElementById('reveal-words-btn').style.display = 'none';
            document.getElementById('written-down-checkbox').addEventListener('change', function() {
                document.getElementById('proceed-quiz-btn').style.display = this.checked ? 'block' : 'none';
            });
        }

        function proceedToWordQuiz() {
            // Generate quiz with random words from the generated phrase
            generateWordQuiz();

            document.getElementById('onboarding-screen-2').style.display = 'none';
            document.getElementById('onboarding-screen-3').style.display = 'block';
        }

        function generateWordQuiz() {
            // Create quiz for words #3, #7, and #12
            const quizPositions = [3, 7, 12];

            quizPositions.forEach(pos => {
                const correctWord = generatedWords[pos - 1];

                // Generate 2 random incorrect words from BIP39 list
                const incorrectWords = [];
                while (incorrectWords.length < 2) {
                    const randomIndex = getRandomIndex(BIP39_WORDS.length);
                    const word = BIP39_WORDS[randomIndex];
                    if (word !== correctWord && !incorrectWords.includes(word)) {
                        incorrectWords.push(word);
                    }
                }

                // Shuffle correct and incorrect words
                const allChoices = [correctWord, ...incorrectWords];
                const shuffled = allChoices.sort(() => {
                    const randomBytes = new Uint8Array(1);
                    crypto.getRandomValues(randomBytes);
                    return randomBytes[0] % 2 ? 1 : -1;
                });

                // Update the quiz buttons for this position
                const container = document.querySelector(`[data-word-position="${pos}"]`);
                if (container) {
                    const buttons = container.querySelectorAll('button');
                    shuffled.forEach((word, idx) => {
                        if (buttons[idx]) {
                            buttons[idx].textContent = word;
                            buttons[idx].setAttribute('onclick', `checkWord(${pos}, '${correctWord}', this)`);
                        }
                    });
                }
            });
        }

        function checkWord(wordNum, correctWord, button) {
            const allButtons = button.parentElement.querySelectorAll('button');
            allButtons.forEach(btn => {
                btn.style.background = '';
                btn.classList.remove('success');
            });

            if (button.textContent === correctWord) {
                button.style.background = 'linear-gradient(135deg, var(--accent-green), #66BB6A)';
                button.classList.add('success');
                wordsVerified[wordNum] = true;

                // Check if all words verified
                if (wordsVerified[3] && wordsVerified[7] && wordsVerified[12]) {
                    document.getElementById('quiz-feedback').style.display = 'block';
                    document.getElementById('quiz-feedback').style.background = 'rgba(76, 175, 80, 0.1)';
                    document.getElementById('quiz-feedback').style.border = '2px solid var(--accent-green)';
                    document.getElementById('quiz-feedback').innerHTML = '<strong style="color: var(--accent-green);">✅ Perfect! All words verified.</strong>';
                    document.getElementById('proceed-wallet-btn').style.display = 'block';
                }
            } else {
                button.style.background = 'linear-gradient(135deg, #f44336, #e57373)';
                document.getElementById('quiz-feedback').style.display = 'block';
                document.getElementById('quiz-feedback').style.background = 'rgba(244, 67, 54, 0.1)';
                document.getElementById('quiz-feedback').style.border = '2px solid #f44336';
                document.getElementById('quiz-feedback').innerHTML = '<strong style="color: #f44336;">Try again—this is your only backup.</strong>';
            }
        }

        function proceedToWalletReady() {
            document.getElementById('onboarding-screen-3').style.display = 'none';
            document.getElementById('onboarding-screen-4').style.display = 'block';
            // Generate QR code for receive address
            generateQRCode('bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh', 'receive-qr-code');
        }

        function copyAddress() {
            const address = document.getElementById('wallet-address').textContent;
            navigator.clipboard.writeText(address).then(() => {
                alert('Address copied to clipboard!');
            });
        }

        function generateNewAddress() {
            const addresses = [
                'bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh',
                'bc1q3j5wv8lzr6fgp2k9xth7mnbvcxz8shjf5qy4rt',
                'bc1qnk7lqw3mxr8yh4t6zp5vf2g9jd3xa7c1s4e6b9'
            ];
            const randomAddr = addresses[getRandomIndex(addresses.length)];
            document.getElementById('wallet-address').textContent = randomAddr;
            generateQRCode(randomAddr, 'receive-qr-code');
            alert('New address generated for privacy!');
        }

        function proceedToOwnershipCheck() {
            document.getElementById('onboarding-screen-4').style.display = 'none';
            document.getElementById('onboarding-screen-5').style.display = 'block';
        }

        function proveOwnership() {
            document.getElementById('prove-ownership-btn').style.display = 'none';
            document.getElementById('ownership-result').style.display = 'block';
        }

        // Receiving QR Widget
        function copyReceiveAddress() {
            const address = document.getElementById('current-receive-address').value;
            navigator.clipboard.writeText(address).then(() => {
                alert('Address copied to clipboard!');
            });
        }

        function showReceiveQR() {
            generateQRCode(document.getElementById('current-receive-address').value, 'static-receive-qr');
            alert('QR code displayed! Share this to receive Bitcoin.');
        }

        function rotateAddress() {
            const addresses = [
                'bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh',
                'bc1q3j5wv8lzr6fgp2k9xth7mnbvcxz8shjf5qy4rt',
                'bc1qnk7lqw3mxr8yh4t6zp5vf2g9jd3xa7c1s4e6b9'
            ];
            const randomAddr = addresses[getRandomIndex(addresses.length)];
            document.getElementById('current-receive-address').value = randomAddr;
            generateQRCode(randomAddr, 'static-receive-qr');
            alert('New address generated for improved privacy!');
        }

        // Two-Phone Demo
        function scanQRCodeDemo() {
            document.getElementById('scan-status-demo').textContent = '✅ QR scanned successfully';
            document.getElementById('scan-status-demo').style.color = 'var(--accent-green)';
            document.getElementById('safety-check-before-send').style.display = 'block';
            document.getElementById('send-btn-demo').style.display = 'block';
        }

        function sendBitcoinDemo() {
            const amount = parseInt(document.getElementById('send-amount-sats').value);
            const phoneABalance = parseInt(document.getElementById('phone-a-balance').textContent.replace(' sats', ''));
            const phoneBBalance = parseInt(document.getElementById('phone-b-balance-demo').textContent.replace(' sats', ''));

            if (amount > phoneABalance) {
                alert('Insufficient balance!');
                return;
            }

            // Update balances
            document.getElementById('phone-a-balance').textContent = (phoneABalance - amount) + ' sats';
            document.getElementById('phone-b-balance-demo').textContent = phoneBBalance + ' sats (pending)';

            // Show transaction animation
            document.getElementById('tx-animation-demo').style.display = 'block';
            document.getElementById('safety-after-send').style.display = 'block';
            document.getElementById('send-btn-demo').disabled = true;

            // Animate progress
            let progress = 0;
            const interval = setInterval(() => {
                progress += 10;
                document.getElementById('tx-progress-demo').style.width = progress + '%';

                if (progress >= 100) {
                    clearInterval(interval);
                    document.getElementById('confirmations-demo').textContent = '1';
                    document.getElementById('tx-status-demo').textContent = '✅ Confirmed!';
                    document.getElementById('phone-b-balance-demo').textContent = (phoneBBalance + amount) + ' sats';
                }
            }, 300);
        }

        function rotateReceiverAddress() {
            const addresses = ['bc1qxy2...x0wlh', 'bc1q3j5...qy4rt', 'bc1qnk7...e6b9'];
            const randomAddr = addresses[getRandomIndex(addresses.length)];
            document.querySelector('#receiver-qr-code-demo + p').textContent = randomAddr;
            generateQRCode(randomAddr, 'receiver-qr-code-demo');
            alert('Address rotated for privacy!');
        }

        function viewOnExplorer() {
            window.open('https://mempool.space/testnet', '_blank');
        }

        // Fee Slider
        function updateFeeEstimate(value) {
            const priorities = {1: 'Low', 2: 'Medium', 3: 'High'};
            const fees = {1: '~5 sats', 2: '~10 sats', 3: '~20 sats'};
            const times = {1: '~30 mins', 2: '~10 mins', 3: '~5 mins'};

            document.getElementById('fee-priority-label').textContent = priorities[value];
            document.getElementById('fee-amount').textContent = fees[value];
            document.getElementById('conf-time').textContent = times[value];
        }

        // First Use Details
        function showFirstUseDetails(type) {
            const details = {
                spend: '<h4 style="color: var(--accent-blue);">🛒 Spend Bitcoin</h4><p>Use services like Bitrefill to buy gift cards with Bitcoin. No KYC required for many purchases.</p><ul><li>Amazon gift cards</li><li>Steam/Xbox/PlayStation</li><li>Visa/Mastercard prepaid</li></ul>',
                send: '<h4 style="color: var(--accent-green);">📤 Send Bitcoin</h4><p>Withdrawing from an exchange to your wallet:</p><ol><li>Copy your wallet receive address</li><li>Go to exchange withdrawal page</li><li>Paste address (double-check!)</li><li>Send $5 test first</li><li>Wait for 1-3 confirmations</li></ol>',
                save: '<h4 style="color: var(--accent-gold);">🔒 Save Bitcoin</h4><p>For long-term savings, use a hardware wallet:</p><ul><li>Trezor, Ledger, or Coldcard</li><li>Keys never touch the internet</li><li>Maximum security for large amounts</li><li>Recovery phrase stored offline</li></ul>'
            };

            document.getElementById('first-use-details').style.display = 'block';
            document.getElementById('first-use-details').innerHTML = details[type] || '';
        }

        // New Checklist Toggle
        function toggleCheckNew(item) {
            const checkbox = item.querySelector('input[type="checkbox"]');
            checkbox.checked = !checkbox.checked;

            if (checkbox.checked) {
                item.classList.add('checked');
            } else {
                item.classList.remove('checked');
            }

            // Update score
            const total = document.querySelectorAll('#bitcoin-practices-checklist-new li').length;
            const checked = document.querySelectorAll('#bitcoin-practices-checklist-new li.checked').length;
            document.getElementById('practices-score-new').textContent = `${checked}/${total}`;
        }

        // Initialize QR codes on page load
        window.addEventListener('load', function() {
            generateQRCode('bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh', 'static-receive-qr');
            generateQRCode('bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh', 'receiver-qr-code-demo');
        });

        // Auto-open first incomplete module
        const firstIncomplete = [...Array(4).keys()].find(i => !completedModules.has(i + 1));
        if (firstIncomplete !== undefined) {
            toggleModule(firstIncomplete + 1);
        }
    </script>

    <!-- Incident Response Floating Help Button -->
    <div id="incident-help-btn" style="position: fixed; bottom: 2rem; right: 2rem; z-index: 1000;">
        <button onclick="openIncidentHelp()" style="width: 60px; height: 60px; border-radius: 50%; background: linear-gradient(135deg, #f44336, #e53935); border: 3px solid rgba(244, 67, 54, 0.5); color: white; font-size: 1.75rem; cursor: pointer; box-shadow: 0 4px 12px rgba(244, 67, 54, 0.4); transition: all 0.3s ease; display: flex; align-items: center; justify-content: center;">
            🆘
        </button>
        <div style="position: absolute; bottom: 70px; right: 0; background: rgba(244, 67, 54, 0.95); color: white; padding: 0.5rem 1rem; border-radius: 0.5rem; white-space: nowrap; font-size: 0.85rem; opacity: 0; pointer-events: none; transition: opacity 0.3s;" id="help-tooltip">
            Need help? Click here!
        </div>
    </div>

    <!-- Incident Response Modal -->
    <div id="incident-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.85); z-index: 2000; overflow-y: auto; padding: 2rem;">
        <div style="max-width: 800px; margin: 0 auto; background: var(--secondary-dark); border: 3px solid #f44336; border-radius: 1rem; padding: 2rem; position: relative;">
            <button onclick="closeIncidentHelp()" style="position: absolute; top: 1rem; right: 1rem; background: transparent; border: none; color: var(--text-dim); font-size: 2rem; cursor: pointer; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: background 0.3s;">
                ×
            </button>

            <h2 style="color: #f44336; margin-bottom: 1rem; font-size: 1.75rem;">🆘 Something Wrong? We've Got You</h2>
            <p style="color: var(--text-dim); margin-bottom: 2rem;">
                Don't panic. Most "problems" have simple explanations. Click your situation below:
            </p>

            <!-- Decision Tree Buttons -->
            <div style="display: grid; gap: 1rem; margin-bottom: 2rem;">
                <button onclick="showIncidentSolution('missing')" style="background: var(--primary-dark); border: 2px solid #ff9800; border-radius: 0.75rem; padding: 1.5rem; text-align: left; cursor: pointer; color: var(--text-light); transition: all 0.3s;">
                    <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">😰 My funds are "missing"</div>
                    <div style="font-size: 0.85rem; color: var(--text-dim);">I sent Bitcoin but it's not showing up yet</div>
                </button>

                <button onclick="showIncidentSolution('pending')" style="background: var(--primary-dark); border: 2px solid #ff9800; border-radius: 0.75rem; padding: 1.5rem; text-align: left; cursor: pointer; color: var(--text-light); transition: all 0.3s;">
                    <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">⏳ Exchange withdrawal is pending</div>
                    <div style="font-size: 0.85rem; color: var(--text-dim);">Been hours/days, still says "under review"</div>
                </button>

                <button onclick="showIncidentSolution('wrong-fee')" style="background: var(--primary-dark); border: 2px solid #ff9800; border-radius: 0.75rem; padding: 1.5rem; text-align: left; cursor: pointer; color: var(--text-light); transition: all 0.3s;">
                    <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">🐌 Transaction stuck (low fee)</div>
                    <div style="font-size: 0.85rem; color: var(--text-dim);">Set fee too low, unconfirmed for days</div>
                </button>

                <button onclick="showIncidentSolution('wrong-address')" style="background: var(--primary-dark); border: 2px solid #f44336; border-radius: 0.75rem; padding: 1.5rem; text-align: left; cursor: pointer; color: var(--text-light); transition: all 0.3s;">
                    <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">😱 Sent to wrong address!</div>
                    <div style="font-size: 0.85rem; color: var(--text-dim);">Made a mistake, need to reverse</div>
                </button>

                <button onclick="showIncidentSolution('service-down')" style="background: var(--primary-dark); border: 2px solid #ff9800; border-radius: 0.75rem; padding: 1.5rem; text-align: left; cursor: pointer; color: var(--text-light); transition: all 0.3s;">
                    <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">🔧 Service/wallet not responding</div>
                    <div style="font-size: 0.85rem; color: var(--text-dim);">Can't access my wallet or exchange</div>
                </button>
            </div>

            <!-- Solution Display Area -->
            <div id="incident-solution" style="display: none; background: var(--primary-dark); border: 2px solid var(--accent-blue); border-radius: 0.75rem; padding: 2rem; margin-top: 1rem;">
                <!-- Content will be dynamically inserted -->
            </div>
        </div>
    </div>

    <script>
        // Show tooltip on hover
        document.getElementById('incident-help-btn').addEventListener('mouseenter', function() {
            document.getElementById('help-tooltip').style.opacity = '1';
        });
        document.getElementById('incident-help-btn').addEventListener('mouseleave', function() {
            document.getElementById('help-tooltip').style.opacity = '0';
        });

        function openIncidentHelp() {
            document.getElementById('incident-modal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeIncidentHelp() {
            document.getElementById('incident-modal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function showIncidentSolution(type) {
            const solutions = {
                'missing': `
                    <h3 style="color: var(--accent-green); margin-bottom: 1rem;">✅ Your Funds Are Probably Fine</h3>
                    <p style="margin-bottom: 1rem; color: var(--text-light);">
                        <strong>Most likely explanation:</strong> The transaction is pending confirmation. Bitcoin transactions aren't instant.
                    </p>
                    <div style="background: rgba(33, 150, 243, 0.1); padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;">
                        <strong style="color: var(--accent-blue);">What to do right now:</strong>
                        <ol style="margin: 0.5rem 0 0 1.5rem; color: var(--text-dim);">
                            <li>Get the transaction ID (TXID) from the sender</li>
                            <li>Paste it into <a href="https://mempool.space" target="_blank" style="color: var(--accent-blue);">mempool.space</a></li>
                            <li>Check if it shows 0, 1, 2, or 3+ confirmations</li>
                            <li>Wait for 3 confirmations (usually 30-60 minutes)</li>
                        </ol>
                    </div>
                    <p style="padding: 1rem; background: rgba(76, 175, 80, 0.1); border-radius: 0.5rem; font-size: 0.9rem; margin: 0;">
                        <strong style="color: var(--accent-green);">💡 Proof it's safe:</strong> If the TXID shows on mempool.space with your address, the Bitcoin is on its way. Just needs mining confirmations.
                    </p>
                    <div style="margin-top: 1.5rem; text-align: center;">
                        <a href="/interactive-demos/mempool-peace-of-mind.html" style="display: inline-block; background: linear-gradient(135deg, var(--accent-blue), #1976d2); color: white; padding: 1rem 2rem; border-radius: 0.75rem; text-decoration: none; font-weight: 600; transition: all 0.3s; box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);">
                            🧘 Check Your Transaction Status (Peace-of-Mind Viewer) →
                        </a>
                    </div>
                `,
                'pending': `
                    <h3 style="color: #ff9800; margin-bottom: 1rem;">⏳ Exchange Withdrawal Delays Are Normal</h3>
                    <p style="margin-bottom: 1rem; color: var(--text-light);">
                        <strong>This is expected behavior</strong> for first-time withdrawals or after periods of inactivity.
                    </p>
                    <div style="background: rgba(255, 152, 0, 0.1); padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;">
                        <strong style="color: #ff9800;">Typical timeline:</strong>
                        <ul style="margin: 0.5rem 0 0 1.5rem; color: var(--text-dim);">
                            <li><strong>0-24 hours:</strong> Automated review (email confirm may be required)</li>
                            <li><strong>24-48 hours:</strong> Manual review (normal for new accounts)</li>
                            <li><strong>48-72 hours:</strong> Contact support if no update</li>
                        </ul>
                    </div>
                    <div style="background: rgba(33, 150, 243, 0.1); padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;">
                        <strong style="color: var(--accent-blue);">What to do:</strong>
                        <ol style="margin: 0.5rem 0 0 1.5rem; color: var(--text-dim);">
                            <li>Check your email for confirmation requests</li>
                            <li>Watch your receiving address on <a href="https://mempool.space" target="_blank" style="color: var(--accent-blue);">mempool.space</a></li>
                            <li>After 48h, send support message (template in Module 1)</li>
                        </ol>
                    </div>
                    <p style="padding: 1rem; background: rgba(76, 175, 80, 0.1); border-radius: 0.5rem; font-size: 0.9rem; margin: 0;">
                        <strong style="color: var(--accent-green);">✅ Your funds are safe:</strong> As long as the withdrawal shows in your history, the exchange has it queued. They will send it.
                    </p>
                `,
                'wrong-fee': `
                    <h3 style="color: #ff9800; margin-bottom: 1rem;">🐌 Low Fee = Slow Confirmation</h3>
                    <p style="margin-bottom: 1rem; color: var(--text-light);">
                        You set the fee too low. Miners prioritize higher-fee transactions.
                    </p>
                    <div style="background: rgba(33, 150, 243, 0.1); padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;">
                        <strong style="color: var(--accent-blue);">Your options:</strong>
                        <ol style="margin: 0.5rem 0 0 1.5rem; color: var(--text-dim);">
                            <li><strong>Wait it out:</strong> It will eventually confirm (could be days/weeks during high demand)</li>
                            <li><strong>RBF (Replace-By-Fee):</strong> If your wallet supports it, bump the fee to speed it up</li>
                            <li><strong>CPFP (Child-Pays-For-Parent):</strong> Ask the recipient to spend the unconfirmed output with a higher fee</li>
                        </ol>
                    </div>
                    <p style="padding: 1rem; background: rgba(76, 175, 80, 0.1); border-radius: 0.5rem; font-size: 0.9rem; margin: 0;">
                        <strong style="color: var(--accent-green);">💡 Good news:</strong> Your Bitcoin isn't lost. It's just waiting in the mempool. Worst case: it gets dropped after 2 weeks and returns to your wallet.
                    </p>
                    <div style="margin-top: 1.5rem; display: grid; gap: 1rem;">
                        <a href="/interactive-demos/mempool-peace-of-mind.html" style="display: block; background: linear-gradient(135deg, var(--accent-blue), #1976d2); color: white; padding: 1rem; border-radius: 0.75rem; text-decoration: none; font-weight: 600; text-align: center; transition: all 0.3s; box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);">
                            🧘 Check Transaction Status & Get Peace of Mind →
                        </a>
                        <a href="/interactive-demos/fee-timing-helper.html" style="display: block; background: var(--primary-dark); border: 2px solid var(--accent-blue); color: var(--accent-blue); padding: 1rem; border-radius: 0.75rem; text-decoration: none; font-weight: 600; text-align: center; transition: all 0.3s;">
                            ⏱️ Learn: Should I Wait or Pay More? →
                        </a>
                    </div>
                `,
                'wrong-address': `
                    <h3 style="color: #f44336; margin-bottom: 1rem;">😱 Sent to Wrong Address</h3>
                    <p style="margin-bottom: 1rem; color: var(--text-light); font-weight: 600;">
                        <strong style="color: #f44336;">Hard truth:</strong> Bitcoin transactions are irreversible. There is no "undo" button.
                    </p>
                    <div style="background: rgba(244, 67, 54, 0.1); padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem; border-left: 4px solid #f44336;">
                        <strong style="color: #f44336;">What you CANNOT do:</strong>
                        <ul style="margin: 0.5rem 0 0 1.5rem; color: var(--text-dim);">
                            <li>Cancel the transaction (it's final once confirmed)</li>
                            <li>Get help from Bitcoin "support" (Bitcoin has no customer service)</li>
                            <li>Reverse it through your wallet (wallets can't undo blockchain transactions)</li>
                        </ul>
                    </div>
                    <div style="background: rgba(255, 152, 0, 0.1); padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;">
                        <strong style="color: #ff9800;">What you CAN try:</strong>
                        <ol style="margin: 0.5rem 0 0 1.5rem; color: var(--text-dim);">
                            <li><strong>If unconfirmed:</strong> Try RBF to redirect to correct address (advanced, wallet-dependent)</li>
                            <li><strong>If you know who owns the address:</strong> Contact them politely and ask them to return it</li>
                            <li><strong>If it's your own address:</strong> Check if you control the keys for that wallet</li>
                        </ol>
                    </div>
                    <p style="padding: 1rem; background: rgba(33, 150, 243, 0.1); border-radius: 0.5rem; font-size: 0.9rem; margin: 0;">
                        <strong style="color: var(--accent-blue);">💡 Prevention for next time:</strong> Always verify the last 4 characters of the address before sending. Send a small test first for large amounts.
                    </p>
                `,
                'service-down': `
                    <h3 style="color: var(--accent-blue); margin-bottom: 1rem;">🔧 Service Outage or Wallet Issue</h3>
                    <p style="margin-bottom: 1rem; color: var(--text-light);">
                        <strong>First rule:</strong> Your Bitcoin is on the blockchain, not in the app. If the service is down, your funds are still safe.
                    </p>
                    <div style="background: rgba(76, 175, 80, 0.1); padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem; border-left: 4px solid var(--accent-green);">
                        <strong style="color: var(--accent-green);">✅ Proof your funds are safe:</strong>
                        <ol style="margin: 0.5rem 0 0 1.5rem; color: var(--text-dim);">
                            <li>Find your wallet's receiving address (check transaction history, screenshots, or backup)</li>
                            <li>Paste it into <a href="https://mempool.space" target="_blank" style="color: var(--accent-green);">mempool.space</a></li>
                            <li>You'll see your balance and transaction history</li>
                            <li>This proves your Bitcoin exists independently of any app</li>
                        </ol>
                    </div>
                    <div style="background: rgba(33, 150, 243, 0.1); padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;">
                        <strong style="color: var(--accent-blue);">Next steps:</strong>
                        <ul style="margin: 0.5rem 0 0 1.5rem; color: var(--text-dim);">
                            <li><strong>For wallet apps:</strong> Restore your seed phrase in a different compatible wallet (BlueWallet, Sparrow, Electrum)</li>
                            <li><strong>For exchanges:</strong> Check their status page, Twitter, or Reddit for outage updates. Your account balance will return when service restores.</li>
                            <li><strong>For custodial services:</strong> Contact support. Your funds are in their custody (this is why self-custody matters!).</li>
                        </ul>
                    </div>
                    <p style="padding: 1rem; background: rgba(255, 152, 0, 0.1); border-radius: 0.5rem; font-size: 0.9rem; margin: 0;">
                        <strong style="color: #ff9800;">💡 This is why we say:</strong> "Not your keys, not your coins." If you have your 12/24 words, you can always recover. If you don't, you're dependent on the service.
                    </p>
                `
            };

            const solutionDiv = document.getElementById('incident-solution');
            solutionDiv.innerHTML = solutions[type] || '<p>Solution not found.</p>';
            solutionDiv.style.display = 'block';
            solutionDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Close modal when clicking outside
        document.getElementById('incident-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeIncidentHelp();
            }
        });
    </script>

    <!-- Cross-Path Navigation Component -->
    <div style="background: linear-gradient(135deg, #1a1a1a, #2d2d2d); border-top: 3px solid var(--accent-gold); padding: 3rem 2rem; margin-top: 4rem;">
        <div style="max-width: 1100px; margin: 0 auto;">
            <div style="text-align: center; margin-bottom: 2rem;">
                <h2 style="color: var(--accent-gold); font-size: 1.8rem; margin-bottom: 0.75rem;">Want to Go Deeper?</h2>
                <p style="color: var(--text-dim); font-size: 1.1rem;">You've mastered the basics. Explore these paths to expand your Bitcoin journey.</p>
            </div>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-top: 2rem;">
                <!-- Pragmatist Path -->
                <a href="/paths/pragmatist/" style="background: var(--secondary-dark); border: 2px solid rgba(0, 188, 212, 0.3); border-radius: 1rem; padding: 2rem; text-decoration: none; color: var(--text-light); transition: all 0.3s ease; display: block;">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #00BCD4, #00ACC1); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">
                            ⚙️
                        </div>
                        <div>
                            <h3 style="color: #00BCD4; font-size: 1.3rem; margin: 0;">The Pragmatist Path</h3>
                            <p style="color: var(--text-dim); font-size: 0.85rem; margin: 0.25rem 0 0;">Practical • Action-Oriented</p>
                        </div>
                    </div>
                    <p style="color: var(--text-dim); font-size: 0.95rem; line-height: 1.5; margin-bottom: 1rem;">
                        Learn by doing. Master real-world Bitcoin skills with hands-on demos, transaction practice, and wallet setup guides.
                    </p>
                    <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                        <span style="background: rgba(0, 188, 212, 0.2); color: #00BCD4; padding: 0.25rem 0.75rem; border-radius: 1rem; font-size: 0.8rem;">Interactive Demos</span>
                        <span style="background: rgba(0, 188, 212, 0.2); color: #00BCD4; padding: 0.25rem 0.75rem; border-radius: 1rem; font-size: 0.8rem;">Real Transactions</span>
                    </div>
                </a>

                <!-- Sovereign Path -->
                <a href="/paths/sovereign/" style="background: var(--secondary-dark); border: 2px solid rgba(212, 175, 55, 0.3); border-radius: 1rem; padding: 2rem; text-decoration: none; color: var(--text-light); transition: all 0.3s ease; display: block;">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #D4AF37, #FFD700); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">
                            👑
                        </div>
                        <div>
                            <h3 style="color: #D4AF37; font-size: 1.3rem; margin: 0;">The Sovereign Path</h3>
                            <p style="color: var(--text-dim); font-size: 0.85rem; margin: 0.25rem 0 0;">Advanced • Security-Focused</p>
                        </div>
                    </div>
                    <p style="color: var(--text-dim); font-size: 0.95rem; line-height: 1.5; margin-bottom: 1rem;">
                        Achieve true financial sovereignty. Master cold storage, multi-sig, privacy techniques, and inheritance planning.
                    </p>
                    <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                        <span style="background: rgba(212, 175, 55, 0.2); color: #D4AF37; padding: 0.25rem 0.75rem; border-radius: 1rem; font-size: 0.8rem;">Cold Storage</span>
                        <span style="background: rgba(212, 175, 55, 0.2); color: #D4AF37; padding: 0.25rem 0.75rem; border-radius: 1rem; font-size: 0.8rem;">Multi-Sig</span>
                    </div>
                </a>
            </div>

            <div style="text-align: center; margin-top: 2rem; padding-top: 2rem; border-top: 1px solid var(--border-color);">
                <p style="color: var(--text-dim); font-size: 0.9rem;">
                    Or return to <a href="/" style="color: var(--accent-gold); text-decoration: none; font-weight: 600;">Homepage</a> to explore all learning paths
                </p>
            </div>
        </div>
    </div>

</body>
</html>
