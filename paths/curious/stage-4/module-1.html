<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security Fundamentals | Protecting Your Bitcoin | The Curious Path</title>
    <meta name="description" content="Master Bitcoin security basics: private keys, seed phrases, common attack vectors, and how to protect yourself.">

    <style>
        :root {
            --primary-orange: #f7931a;
            --primary-dark: #1a1a1a;
            --secondary-dark: #2d2d2d;
            --accent-green: #4caf50;
            --accent-blue: #2196f3;
            --accent-red: #f44336;
            --text-light: #e0e0e0;
            --text-dim: #999;
            --border-color: rgba(247, 147, 26, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--primary-dark);
            color: var(--text-light);
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Module Header */
        .module-header {
            background: var(--secondary-dark);
            border-bottom: 2px solid var(--accent-green);
            padding: 1.5rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .breadcrumb {
            font-size: 0.85rem;
            color: var(--text-dim);
            margin-bottom: 0.5rem;
        }

        .breadcrumb a {
            color: var(--primary-orange);
            text-decoration: none;
        }

        .module-title-section h1 {
            font-size: 1.75rem;
            color: var(--accent-green);
        }

        /* Content Sections */
        .content-section {
            padding: 2.5rem 0;
            border-bottom: 1px solid var(--border-color);
        }

        .content-section h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--primary-orange);
        }

        .content-section h3 {
            font-size: 1.2rem;
            margin: 1.5rem 0 0.75rem;
            color: var(--accent-green);
        }

        .content-section p {
            margin-bottom: 1rem;
            color: var(--text-light);
        }

        .content-section ul, .content-section ol {
            margin-left: 2rem;
            color: var(--text-dim);
            margin-bottom: 1rem;
        }

        .content-section li {
            margin-bottom: 0.5rem;
        }

        code {
            background: rgba(76, 175, 80, 0.1);
            padding: 0.2rem 0.4rem;
            border-radius: 0.25rem;
            font-family: 'Courier New', monospace;
            color: var(--accent-green);
        }

        /* Danger Box */
        .danger-box {
            background: rgba(244, 67, 54, 0.1);
            border: 2px solid var(--accent-red);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .danger-box h3 {
            color: var(--accent-red);
            margin-bottom: 1rem;
        }

        /* Attack Example */
        .attack-example {
            background: var(--secondary-dark);
            border-left: 4px solid var(--accent-red);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .attack-example h4 {
            color: var(--accent-red);
            margin-bottom: 0.75rem;
        }

        .attack-stats {
            background: rgba(244, 67, 54, 0.1);
            padding: 0.75rem;
            border-radius: 0.5rem;
            margin-top: 1rem;
            font-weight: 600;
            color: var(--accent-red);
        }

        /* Security Dojo */
        .security-dojo {
            background: var(--secondary-dark);
            border: 2px solid var(--accent-green);
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
        }

        .security-dojo h3 {
            color: var(--accent-green);
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .scenario-card {
            background: rgba(247, 147, 26, 0.05);
            border: 1px solid var(--border-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .scenario-card h4 {
            color: var(--accent-blue);
            margin-bottom: 1rem;
        }

        .scenario-options {
            display: grid;
            gap: 0.75rem;
            margin: 1rem 0;
        }

        .scenario-btn {
            padding: 0.75rem 1rem;
            background: var(--secondary-dark);
            border: 2px solid var(--border-color);
            border-radius: 0.5rem;
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .scenario-btn:hover {
            border-color: var(--accent-green);
            background: rgba(76, 175, 80, 0.1);
        }

        .scenario-btn.correct {
            border-color: var(--accent-green);
            background: rgba(76, 175, 80, 0.2);
        }

        .scenario-btn.incorrect {
            border-color: var(--accent-red);
            background: rgba(244, 67, 54, 0.2);
        }

        .scenario-feedback {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 0.5rem;
            display: none;
        }

        .scenario-feedback.show {
            display: block;
        }

        .scenario-feedback.correct {
            background: rgba(76, 175, 80, 0.2);
            border-left: 4px solid var(--accent-green);
            color: var(--accent-green);
        }

        .scenario-feedback.incorrect {
            background: rgba(244, 67, 54, 0.2);
            border-left: 4px solid var(--accent-red);
            color: var(--accent-red);
        }

        /* Quiz */
        .quiz-container {
            background: var(--secondary-dark);
            border: 2px solid var(--accent-blue);
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
        }

        .quiz-container h3 {
            color: var(--accent-blue);
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .quiz-question {
            margin-bottom: 2rem;
        }

        .quiz-question h4 {
            color: var(--text-light);
            margin-bottom: 1rem;
        }

        .quiz-options label {
            display: block;
            padding: 0.75rem;
            margin: 0.5rem 0;
            background: rgba(247, 147, 26, 0.05);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-options label:hover {
            background: rgba(247, 147, 26, 0.1);
        }

        .quiz-submit {
            width: 100%;
            padding: 1rem;
            background: var(--accent-green);
            color: white;
            border: none;
            border-radius: 0.5rem;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-submit:hover {
            background: #45a049;
        }

        .quiz-result {
            margin-top: 1.5rem;
            padding: 1.5rem;
            border-radius: 0.75rem;
            text-align: center;
            display: none;
        }

        .quiz-result.show {
            display: block;
        }

        .quiz-result.pass {
            background: rgba(76, 175, 80, 0.2);
            border: 2px solid var(--accent-green);
            color: var(--accent-green);
        }

        .quiz-result.fail {
            background: rgba(244, 67, 54, 0.2);
            border: 2px solid var(--accent-red);
            color: var(--accent-red);
        }

        /* Takeaway Box */
        .takeaway-box {
            background: rgba(76, 175, 80, 0.1);
            border-left: 4px solid var(--accent-green);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .takeaway-box h3 {
            color: var(--accent-green);
            margin-bottom: 1rem;
        }

        .takeaway-box ul {
            list-style: none;
            padding-left: 0;
        }

        .takeaway-box li {
            padding-left: 1.5rem;
            margin-bottom: 0.5rem;
            position: relative;
        }

        .takeaway-box li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: var(--accent-green);
            font-weight: 700;
        }

        /* Navigation */
        .module-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 2rem 0;
            gap: 1rem;
        }

        .nav-btn {
            padding: 0.75rem 1.5rem;
            background: var(--accent-green);
            color: white;
            text-decoration: none;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .nav-btn:hover {
            background: #45a049;
        }

        .nav-btn-secondary {
            background: transparent;
            border: 2px solid var(--border-color);
            color: var(--text-light);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <!-- Module Header -->
    <header class="module-header">
        <div class="container">
            <div class="breadcrumb">
                <a href="/">Home</a> →
                <a href="/paths/curious/">The Curious Path</a> →
                <a href="/paths/curious/stage-4/">Stage 4</a> →
                <span>Module 1</span>
            </div>
            <div class="module-title-section">
                <h1>🔐 Module 1: Security Fundamentals</h1>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <div class="container">
            <!-- Introduction -->
            <section class="content-section">
                <h2>Why Bitcoin Security Matters</h2>
                <p>
                    Bitcoin gives you complete control over your money—no bank, no intermediary, no one who can reverse
                    transactions or freeze your account. This is incredibly powerful, but it also means <strong>you are
                    fully responsible for security</strong>.
                </p>

                <p>
                    Unlike a bank account where you can call customer service if something goes wrong, Bitcoin transactions
                    are irreversible. If someone gets your private keys or tricks you into sending Bitcoin,
                    <strong>it's gone forever</strong>.
                </p>

                <div class="danger-box">
                    <h3>⚠️ The Reality of Bitcoin Losses</h3>
                    <p>
                        Over <strong>$3.8 billion</strong> worth of Bitcoin was stolen in 2022 through hacks, scams, and
                        social engineering. An estimated <strong>20% of all Bitcoin</strong> is lost forever due to lost
                        private keys.
                    </p>
                    <p style="margin-top: 1rem; font-weight: 600;">
                        This module will teach you how to avoid becoming a statistic.
                    </p>
                </div>
            </section>

            <!-- Private Keys 101 -->
            <section class="content-section">
                <h2>Understanding Private Keys</h2>

                <p>
                    A <strong>private key</strong> is a 256-bit number that proves ownership of Bitcoin. Think of it as
                    the master password to your Bitcoin.
                </p>

                <h3>How Private Keys Work</h3>
                <ul>
                    <li><strong>Private key</strong> → generates → <strong>Public key</strong> → generates → <strong>Bitcoin address</strong></li>
                    <li>Anyone can see your public address (like an email address)</li>
                    <li>Only you should know your private key (like a password)</li>
                    <li>You sign transactions with your private key to prove ownership</li>
                </ul>

                <div style="background: var(--secondary-dark); border: 2px dashed var(--border-color); border-radius: 0.75rem; padding: 1.5rem; margin: 1.5rem 0;">
                    <p style="font-family: monospace; color: var(--text-dim); font-size: 0.85rem; word-break: break-all; line-height: 1.8;">
                        Private Key Example (256-bit hex):<br>
                        <span style="color: var(--accent-red);">E9873D79C6D87DC0FB6A5778633389F4453213303DA61F20BD67FC233AA33262</span>
                    </p>
                    <p style="color: var(--text-dim); font-size: 0.85rem; margin-top: 1rem;">
                        ⚠️ This is just an example - NEVER share your real private key with anyone!
                    </p>
                </div>

                <h3>Seed Phrases: Human-Readable Private Keys</h3>
                <p>
                    Because raw private keys are impossible to remember, wallets use <strong>seed phrases</strong>
                    (also called recovery phrases or mnemonic phrases). These are typically 12 or 24 words.
                </p>

                <div style="background: var(--secondary-dark); border: 2px solid var(--accent-green); border-radius: 0.75rem; padding: 1.5rem; margin: 1.5rem 0; text-align: center;">
                    <p style="font-family: monospace; color: var(--accent-green); font-size: 1rem; line-height: 2;">
                        witch collapse practice feed shame open despair creek road again ice least
                    </p>
                    <p style="color: var(--text-dim); font-size: 0.85rem; margin-top: 1rem;">
                        Example 12-word seed phrase (DO NOT USE - for illustration only)
                    </p>
                </div>

                <div class="danger-box">
                    <h3>🔐 Critical: Seed Phrase = Full Control</h3>
                    <ul style="margin-left: 2rem; margin-top: 1rem;">
                        <li><strong>Anyone with your seed phrase can steal all your Bitcoin</strong></li>
                        <li>There is NO customer service to call if it's compromised</li>
                        <li>If you lose it, your Bitcoin is gone forever</li>
                        <li>No one legitimate will EVER ask for your seed phrase</li>
                    </ul>
                </div>
            </section>

            <!-- Common Attack Vectors -->
            <section class="content-section">
                <h2>Common Attack Vectors (How You Can Lose Bitcoin)</h2>

                <div class="attack-example">
                    <h4>1. Phishing Attacks</h4>
                    <p>
                        Attackers create fake websites or apps that look identical to legitimate services. When you enter
                        your seed phrase or private key, they steal it.
                    </p>
                    <div class="attack-stats">
                        💰 Average loss: $50,000 per victim | 📊 Success rate: 30% of targeted users
                    </div>
                    <p style="margin-top: 1rem; color: var(--text-light);">
                        <strong>How to protect yourself:</strong> Never enter your seed phrase on any website. Bookmark legitimate sites. Double-check URLs.
                    </p>
                </div>

                <div class="attack-example">
                    <h4>2. Social Engineering / Customer Support Scams</h4>
                    <p>
                        Scammers impersonate customer support and claim there's a problem with your account. They ask for
                        your seed phrase to "verify" or "restore" your wallet.
                    </p>
                    <div class="attack-stats">
                        💰 Total stolen in 2022: $575 million | 📊 Most common victim: New users
                    </div>
                    <p style="margin-top: 1rem; color: var(--text-light);">
                        <strong>How to protect yourself:</strong> Hang up and contact official support channels directly.
                    </p>
                </div>

                <div class="attack-example">
                    <h4>3. Malware & Keyloggers</h4>
                    <p>
                        Malicious software on your computer records your keystrokes or screenshots when you access your wallet,
                        stealing your seed phrase or private keys.
                    </p>
                    <div class="attack-stats">
                        💰 Average loss: $25,000 per infected device | 📊 Infection vector: Fake software downloads
                    </div>
                    <p style="margin-top: 1rem; color: var(--text-light);">
                        <strong>How to protect yourself:</strong> Only download wallets from official sources. Keep antivirus
                        updated. Use hardware wallets for large amounts.
                    </p>
                </div>

                <div class="attack-example">
                    <h4>4. SIM Swap Attacks</h4>
                    <p>
                        Attackers convince your phone carrier to transfer your number to their SIM card. They then bypass
                        2FA to access exchange accounts.
                    </p>
                    <div class="attack-stats">
                        💰 Record single loss: $24 million | 📊 Average time to execute: 15 minutes
                    </div>
                    <p style="margin-top: 1rem; color: var(--text-light);">
                        <strong>How to protect yourself:</strong> Use authenticator apps (not SMS) for 2FA. Enable PIN/password
                        protection with your carrier. Use non-custodial wallets.
                    </p>
                </div>

                <div class="attack-example">
                    <h4>5. Fake Wallet Apps</h4>
                    <p>
                        Scammers publish fake wallet apps on app stores that look legitimate but are designed to steal
                        your seed phrase when you "create" or "restore" a wallet.
                    </p>
                    <div class="attack-stats">
                        💰 Total stolen: $500,000+ before removal | 📊 Often appear in top search results
                    </div>
                    <p style="margin-top: 1rem; color: var(--text-light);">
                        <strong>How to protect yourself:</strong> Verify app developer. Check reviews carefully. Download
                        from official website links, not search results.
                    </p>
                </div>
            </section>

            <!-- Security Dojo -->
            <section class="content-section">
                <div class="security-dojo">
                    <h3>🥋 Security Dojo: Spot the Scam</h3>
                    <p style="color: var(--text-dim); text-align: center; margin-bottom: 2rem;">
                        Test your security skills! For each scenario, identify whether it's legitimate or a scam.
                    </p>

                    <!-- Scenario 1 -->
                    <div class="scenario-card">
                        <h4>Scenario 1: Email from "MetaMask Support"</h4>
                        <p style="color: var(--text-dim); margin-bottom: 1rem;">
                            You receive an email: <em>"Your wallet has been flagged for suspicious activity. Click here
                            and enter your seed phrase within 24 hours to verify your identity and prevent account suspension."</em>
                        </p>
                        <div class="scenario-options">
                            <button class="scenario-btn" onclick="checkScenario(1, 'scam', this)">
                                🚨 This is a SCAM
                            </button>
                            <button class="scenario-btn" onclick="checkScenario(1, 'legit', this)">
                                ✅ This is LEGITIMATE
                            </button>
                        </div>
                        <div id="feedback-1" class="scenario-feedback"></div>
                    </div>

                    <!-- Scenario 2 -->
                    <div class="scenario-card">
                        <h4>Scenario 2: App Store Download</h4>
                        <p style="color: var(--text-dim); margin-bottom: 1rem;">
                            You search "Bitcoin wallet" in the App Store. The top result is called "Bitcoin Wallet Pro"
                            with 4.8 stars and 10,000 downloads. It was published 2 months ago by "Crypto Solutions LLC."
                        </p>
                        <div class="scenario-options">
                            <button class="scenario-btn" onclick="checkScenario(2, 'safe', this)">
                                ✅ Safe to download based on ratings
                            </button>
                            <button class="scenario-btn" onclick="checkScenario(2, 'risky', this)">
                                🚨 Too risky - verify official source first
                            </button>
                        </div>
                        <div id="feedback-2" class="scenario-feedback"></div>
                    </div>

                    <!-- Scenario 3 -->
                    <div class="scenario-card">
                        <h4>Scenario 3: Telegram Message</h4>
                        <p style="color: var(--text-dim); margin-bottom: 1rem;">
                            Someone messages you on Telegram: <em>"Hey! I'm a moderator for Ledger. I noticed you posted
                            about having trouble with your device. DM me your seed phrase and I'll help you troubleshoot!"</em>
                        </p>
                        <div class="scenario-options">
                            <button class="scenario-btn" onclick="checkScenario(3, 'scam', this)">
                                🚨 This is a SCAM
                            </button>
                            <button class="scenario-btn" onclick="checkScenario(3, 'legit', this)">
                                ✅ Helpful moderator trying to assist
                            </button>
                        </div>
                        <div id="feedback-3" class="scenario-feedback"></div>
                    </div>
                </div>
            </section>

            <!-- Quiz -->
            <section class="content-section">
                <div class="quiz-container">
                    <h3>📝 Security Knowledge Check</h3>
                    <p style="color: var(--text-dim); text-align: center; margin-bottom: 2rem;">
                        Answer 4 out of 5 correctly to complete this module.
                    </p>

                    <form id="security-quiz">
                        <div class="quiz-question">
                            <h4>1. You receive an email from "support@coinbase-security.com" asking you to verify your account by entering your password. What should you do?</h4>
                            <div class="quiz-options">
                                <label><input type="radio" name="q1" value="a"> Enter my password to verify my account</label>
                                <label><input type="radio" name="q1" value="b"> Ignore it - it's likely a phishing scam with a fake domain</label>
                                <label><input type="radio" name="q1" value="c"> Reply and ask if it's legitimate</label>
                                <label><input type="radio" name="q1" value="d"> Click the link to see if the website looks real</label>
                            </div>
                        </div>

                        <div class="quiz-question">
                            <h4>2. What is the MOST important rule about seed phrases?</h4>
                            <div class="quiz-options">
                                <label><input type="radio" name="q2" value="a"> Store them in the cloud for backup</label>
                                <label><input type="radio" name="q2" value="b"> Share them with family members in case you die</label>
                                <label><input type="radio" name="q2" value="c"> Never enter them on any website or share with anyone</label>
                                <label><input type="radio" name="q2" value="d"> Email them to yourself for safekeeping</label>
                            </div>
                        </div>

                        <div class="quiz-question">
                            <h4>3. Someone claiming to be from your wallet's customer support asks for your seed phrase to "restore your wallet." What do you do?</h4>
                            <div class="quiz-options">
                                <label><input type="radio" name="q3" value="a"> Provide it - they need it to help me</label>
                                <label><input type="radio" name="q3" value="b"> Refuse and report them - no legitimate service ever asks for seed phrases</label>
                                <label><input type="radio" name="q3" value="c"> Give them just the first 6 words to verify</label>
                                <label><input type="radio" name="q3" value="d"> Ask them to prove they're real first</label>
                            </div>
                        </div>

                        <div class="quiz-question">
                            <h4>4. Which of these is the BEST way to store your seed phrase?</h4>
                            <div class="quiz-options">
                                <label><input type="radio" name="q4" value="a"> Take a photo and store it in Google Photos</label>
                                <label><input type="radio" name="q4" value="b"> Save it in a password manager</label>
                                <label><input type="radio" name="q4" value="c"> Write it on paper and store in a secure physical location</label>
                                <label><input type="radio" name="q4" value="d"> Email it to yourself</label>
                            </div>
                        </div>

                        <div class="quiz-question">
                            <h4>5. What is a SIM swap attack?</h4>
                            <div class="quiz-options">
                                <label><input type="radio" name="q5" value="a"> When hackers physically steal your phone</label>
                                <label><input type="radio" name="q5" value="b"> When attackers convince your carrier to transfer your number to their SIM to bypass 2FA</label>
                                <label><input type="radio" name="q5" value="c"> When malware swaps your Bitcoin address</label>
                                <label><input type="radio" name="q5" value="d"> When someone clones your SIM card</label>
                            </div>
                        </div>

                        <button type="button" class="quiz-submit" onclick="gradeQuiz()">Submit Quiz</button>
                    </form>

                    <div id="quiz-result" class="quiz-result"></div>
                </div>
            </section>

            <!-- Key Takeaways -->
            <section class="content-section">
                <div class="takeaway-box">
                    <h3>🎯 Key Takeaways</h3>
                    <ul>
                        <li>Your seed phrase = complete control of your Bitcoin. Protect it like your life depends on it.</li>
                        <li>No legitimate service will EVER ask for your seed phrase or private keys</li>
                        <li>Bitcoin transactions are irreversible - there's no "customer support" to reverse theft</li>
                        <li>Common attacks: phishing, social engineering, malware, SIM swaps, fake apps</li>
                        <li>Write seed phrases on paper, never digitally. Store in a secure physical location.</li>
                        <li>Always verify website URLs before entering sensitive information</li>
                        <li>Use authenticator apps for 2FA, not SMS (which can be SIM-swapped)</li>
                        <li>When in doubt, assume it's a scam. Legitimate services won't pressure you.</li>
                    </ul>
                </div>
            </section>

            <!-- Navigation -->
            <nav class="module-navigation">
                <a href="/paths/curious/stage-4/" class="nav-btn nav-btn-secondary">← Back to Stage 4</a>
                <button id="complete-module" class="nav-btn" disabled>Complete Quiz to Continue →</button>
            </nav>
        </div>
    </main>

    <script>
        // Security Dojo Scenarios
        const scenarioAnswers = {
            1: {
                correct: 'scam',
                feedback: {
                    scam: '✅ Correct! No legitimate wallet service will EVER ask for your seed phrase via email. This is a classic phishing scam. MetaMask and other wallets explicitly warn users that they will never ask for seed phrases.',
                    legit: '❌ Incorrect. This is a scam! No legitimate service asks for seed phrases. Wallets cannot be "suspended" - this is a pressure tactic used by scammers.'
                }
            },
            2: {
                correct: 'risky',
                feedback: {
                    risky: '✅ Correct! High ratings and downloads can be faked. Always download wallet apps from the official website, not search results. Scam apps often appear in top results and use fake reviews.',
                    safe: '❌ Incorrect. Ratings and downloads can be faked! New apps (2 months old) with generic company names are red flags. Always verify the official developer and download from the wallet\'s official website.'
                }
            },
            3: {
                correct: 'scam',
                feedback: {
                    scam: '✅ Correct! This is 100% a scam. Real moderators/support will NEVER: (1) DM you first (2) Ask for seed phrases (3) Claim they can "help" by accessing your wallet. Block and report immediately.',
                    legit: '❌ Incorrect. This is a scam! Real moderators never DM first and NEVER ask for seed phrases. Ledger explicitly warns users about this scam on their website.'
                }
            }
        };

        function checkScenario(num, answer, button) {
            const scenario = scenarioAnswers[num];
            const feedback = document.getElementById(`feedback-${num}`);
            const buttons = button.parentElement.querySelectorAll('.scenario-btn');

            // Disable all buttons
            buttons.forEach(btn => btn.disabled = true);

            // Show feedback
            feedback.textContent = scenario.feedback[answer];
            feedback.classList.add('show');

            if (answer === scenario.correct) {
                feedback.classList.add('correct');
                button.classList.add('correct');
            } else {
                feedback.classList.add('incorrect');
                button.classList.add('incorrect');
            }
        }

        // Quiz Grading
        function gradeQuiz() {
            const answers = {
                q1: 'b',
                q2: 'c',
                q3: 'b',
                q4: 'c',
                q5: 'b'
            };

            let score = 0;
            let total = Object.keys(answers).length;

            for (let question in answers) {
                const selected = document.querySelector(`input[name="${question}"]:checked`);
                if (selected && selected.value === answers[question]) {
                    score++;
                }
            }

            const resultDiv = document.getElementById('quiz-result');
            const percentage = Math.round((score / total) * 100);
            const passed = score >= 4;

            resultDiv.classList.remove('pass', 'fail');
            resultDiv.classList.add(passed ? 'pass' : 'fail', 'show');

            if (passed) {
                resultDiv.innerHTML = `
                    <h3>🎉 Quiz Passed!</h3>
                    <p style="font-size: 1.2rem; margin-top: 1rem;">You scored ${score}/${total} (${percentage}%)</p>
                    <p style="margin-top: 1rem;">You've demonstrated strong security fundamentals. You can now continue to the next module!</p>
                `;
                document.getElementById('complete-module').disabled = false;
            } else {
                resultDiv.innerHTML = `
                    <h3>📚 Keep Learning</h3>
                    <p style="font-size: 1.2rem; margin-top: 1rem;">You scored ${score}/${total} (${percentage}%)</p>
                    <p style="margin-top: 1rem;">You need at least 4/5 to pass. Review the material above and try again!</p>
                `;
            }

            // Scroll to result
            resultDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        // Module Completion
        document.getElementById('complete-module').addEventListener('click', function() {
            const progress = JSON.parse(localStorage.getItem('learningProgress') || '{}');

            if (!progress.completedModules) {
                progress.completedModules = [];
            }

            if (!progress.completedModules.includes('curious-4-1')) {
                progress.completedModules.push('curious-4-1');
            }

            progress.lastActivity = new Date().toISOString();
            progress.path = 'curious';
            progress.currentStage = 4;
            progress.currentModule = 2;

            localStorage.setItem('learningProgress', JSON.stringify(progress));

            alert('✓ Module 1 completed! Redirecting to Stage 4 overview...');
            window.location.href = '/paths/curious/stage-4/';
        });
    </script>
    <script src="/js/module-gate.js" defer></script>
</body>
</html>
