<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stage 2: Bitcoin Fundamentals | The Curious Path</title>
    <meta name="description" content="Learn how Bitcoin works, understand its core rules, and discover who controls the network.">

    <!-- Progress Manager -->
    <script src="/js/progress-manager.js"></script>

    <style>
        :root {
            --primary-orange: #f7931a;
            --primary-dark: #1a1a1a;
            --secondary-dark: #2d2d2d;
            --accent-green: #4caf50;
            --text-light: #e0e0e0;
            --text-dim: #999;
            --border-color: rgba(247, 147, 26, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--primary-dark);
            color: var(--text-light);
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Path Progress Header */
        .path-header {
            background: var(--secondary-dark);
            border-bottom: 2px solid var(--primary-orange);
            padding: 1.5rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .path-breadcrumb {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            color: var(--text-dim);
            margin-bottom: 0.75rem;
        }

        .path-breadcrumb a {
            color: var(--primary-orange);
            text-decoration: none;
        }

        .path-breadcrumb a:hover {
            text-decoration: underline;
        }

        .path-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .path-title h1 {
            font-size: 1.75rem;
            color: var(--accent-green);
        }

        .stage-badge {
            background: rgba(76, 175, 80, 0.2);
            color: var(--accent-green);
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(247, 147, 26, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 1rem;
        }

        .progress-fill {
            height: 100%;
            background: var(--accent-green);
            transition: width 0.3s ease;
        }

        /* Main Content */
        .main-content {
            padding: 3rem 0;
        }

        .stage-intro {
            text-align: center;
            max-width: 700px;
            margin: 0 auto 3rem;
        }

        .stage-intro h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .stage-intro p {
            color: var(--text-dim);
            font-size: 1.1rem;
            line-height: 1.8;
        }

        /* Access Notice */
        .access-notice {
            background: rgba(247, 147, 26, 0.2);
            border: 2px solid var(--primary-orange);
            border-radius: 1rem;
            padding: 2rem;
            text-align: center;
            margin-bottom: 3rem;
        }

        .access-notice h3 {
            color: var(--primary-orange);
            margin-bottom: 1rem;
        }

        .access-notice p {
            margin-bottom: 1.5rem;
        }

        /* Modules Grid */
        .modules-grid {
            display: grid;
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .module-card {
            background: var(--secondary-dark);
            border: 2px solid var(--border-color);
            border-radius: 1rem;
            padding: 2rem;
            display: grid;
            grid-template-columns: auto 1fr auto;
            gap: 1.5rem;
            align-items: center;
            transition: all 0.3s ease;
            position: relative;
        }

        .module-card.completed {
            border-color: var(--accent-green);
            background: rgba(76, 175, 80, 0.05);
        }

        .module-card.current {
            border-color: var(--primary-orange);
            box-shadow: 0 0 20px rgba(247, 147, 26, 0.3);
        }

        .module-card.locked {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .module-number {
            width: 60px;
            height: 60px;
            background: var(--primary-orange);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .module-card.completed .module-number {
            background: var(--accent-green);
        }

        .module-card.locked .module-number {
            background: var(--text-dim);
        }

        .module-info h3 {
            font-size: 1.35rem;
            margin-bottom: 0.5rem;
        }

        .module-meta {
            display: flex;
            gap: 1.5rem;
            font-size: 0.9rem;
            color: var(--text-dim);
            margin: 0.5rem 0;
        }

        .module-description {
            color: var(--text-dim);
            margin-top: 0.5rem;
        }

        .module-action {
            display: flex;
            align-items: center;
        }

        .module-action .btn {
            padding: 0.75rem 1.5rem;
            background: var(--primary-orange);
            color: white;
            text-decoration: none;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-block;
        }

        .module-action .btn:hover {
            background: #ff8c00;
            transform: translateX(5px);
        }

        .module-card.completed .btn {
            background: transparent;
            border: 2px solid var(--accent-green);
            color: var(--accent-green);
        }

        .status-badge {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .status-badge.completed {
            color: var(--accent-green);
        }

        .status-badge.locked {
            color: var(--text-dim);
        }

        /* Stage Navigation */
        .stage-navigation {
            background: var(--secondary-dark);
            border: 1px solid var(--border-color);
            border-radius: 0.75rem;
            padding: 2rem;
            text-align: center;
        }

        .stage-navigation h3 {
            margin-bottom: 1rem;
            color: var(--primary-orange);
        }

        .stage-navigation p {
            color: var(--text-dim);
            margin-bottom: 1.5rem;
        }

        .stage-nav-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-secondary {
            padding: 0.75rem 1.5rem;
            background: transparent;
            color: var(--text-light);
            border: 2px solid var(--border-color);
            text-decoration: none;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-block;
        }

        .btn-secondary:hover {
            border-color: var(--primary-orange);
            background: rgba(247, 147, 26, 0.1);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .module-card {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .module-number {
                margin: 0 auto;
            }

            .module-action {
                justify-content: center;
            }

            .path-title {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
    <link rel="stylesheet" href="/css/icons.css">
</head>
<body>
    <!-- Path Progress Header -->
    <header class="path-header">
        <div class="container">
            <div class="path-breadcrumb">
                <a href="/">Home</a> ‚Üí
                <a href="/paths/curious/">The Curious Path</a> ‚Üí
                <span>Stage 2</span>
            </div>
            <div class="path-title">
                <h1><span data-icon="lightning"></span> Stage 2: Bitcoin Fundamentals</h1>
                <span class="stage-badge">Stage 2 of 4</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 0%" id="stage-progress"></div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Stage Introduction -->
            <div class="stage-intro">
                <h2>How Bitcoin Actually Works</h2>
                <p>
                    You understand why Bitcoin matters. Now let's understand how it works. In this stage, you'll learn
                    about the blockchain, transactions, mining, and the rules that make Bitcoin unique. No technical
                    background required‚Äîjust curiosity. This stage takes about 1-2 weeks at your own pace.
                </p>
            </div>

            <!-- Access Notice (shown if Stage 1 not complete) -->
            <div class="access-notice" id="access-notice" style="display: none;">
                <h3><span data-icon="lock"></span> Complete Stage 1 First</h3>
                <p>
                    To access Stage 2, you need to complete all modules in Stage 1: Understanding Money.
                </p>
                <a href="/paths/curious/stage-1/" class="btn-secondary">‚Üê Return to Stage 1</a>
            </div>

            <!-- Modules Grid -->
            <div class="modules-grid">
                <!-- Module 1 -->
                <div class="module-card locked" id="module-1">
                    <div class="module-number">1</div>
                    <div class="module-info">
                        <h3>How Bitcoin Works</h3>
                        <div class="module-meta">
                            <span><span data-icon="timer"></span> 30 minutes</span>
                            <span>üìù Quiz included</span>
                            <span><span data-icon="game"></span> Interactive Demo</span>
                        </div>
                        <p class="module-description">
                            Learn about the blockchain, how transactions work, and what mining actually does.
                            See a transaction get built and broadcast in real-time.
                        </p>
                    </div>
                    <div class="module-action">
                        <span class="status-badge locked"><span data-icon="lock"></span> Complete Stage 1 first
                        </span>
                    </div>
                </div>

                <!-- Module 2 -->
                <div class="module-card locked" id="module-2">
                    <div class="module-number">2</div>
                    <div class="module-info">
                        <h3>Bitcoin's Rules</h3>
                        <div class="module-meta">
                            <span><span data-icon="timer"></span> 20 minutes</span>
                            <span><span data-icon="chart"></span> Interactive Charts</span>
                            <span>üìù Quiz included</span>
                        </div>
                        <p class="module-description">
                            Understand the 21 million supply cap, halving events, and difficulty adjustment.
                            See Bitcoin's supply schedule visualized over the next 100+ years.
                        </p>
                    </div>
                    <div class="module-action">
                        <span class="status-badge locked"><span data-icon="lock"></span> Complete Module 1 first
                        </span>
                    </div>
                </div>

                <!-- Module 3 -->
                <div class="module-card locked" id="module-3">
                    <div class="module-number">3</div>
                    <div class="module-info">
                        <h3>Who Controls Bitcoin?</h3>
                        <div class="module-meta">
                            <span><span data-icon="timer"></span> 25 minutes</span>
                            <span><span data-icon="target"></span> Interactive Demo</span>
                            <span>üìù Quiz included</span>
                        </div>
                        <p class="module-description">
                            Explore decentralization, understand the roles of nodes, miners, and users.
                            Learn why no single entity can control Bitcoin.
                        </p>
                    </div>
                    <div class="module-action">
                        <span class="status-badge locked"><span data-icon="lock"></span> Complete Module 2 first
                        </span>
                    </div>
                </div>
            </div>

            <!-- Stage Navigation -->
            <div class="stage-navigation">
                <h3>After Completing This Stage</h3>
                <p>
                    You'll earn the <strong>"Bitcoin Fundamentals"</strong> badge and unlock Stage 3: Your First Bitcoin
                </p>
                <div class="stage-nav-buttons">
                    <a href="/paths/curious/stage-1/" class="btn-secondary">‚Üê Back to Stage 1</a>
                    <a href="/paths/curious/stage-3/" class="btn-secondary" style="opacity: 0.5; pointer-events: none;">
                        Stage 3: Your First Bitcoin ‚Üí
                    </a>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Initialize ProgressManager
        const progressManager = new ProgressManager();
        progressManager.init();

        // Progress tracking
        function updateProgress() {
            // Check if Stage 1 is complete (all 4 modules)
            const s1m1 = progressManager.isModuleComplete('curious', 1, 1);
            const s1m2 = progressManager.isModuleComplete('curious', 1, 2);
            const s1m25 = progressManager.isModuleComplete('curious', 1, 2.5);
            const s1m3 = progressManager.isModuleComplete('curious', 1, 3);
            const stage1Complete = s1m1 && s1m2 && s1m25 && s1m3;

            if (!stage1Complete) {
                // Show access notice and hide modules
                document.getElementById('access-notice').style.display = 'block';
                document.querySelector('.modules-grid').style.opacity = '0.5';
                return;
            }

            // Stage 1 is complete, enable Module 1
            document.getElementById('module-1').classList.remove('locked');
            document.getElementById('module-1').classList.add('current');
            document.querySelector('#module-1 .module-action').innerHTML =
                '<a href="module-1.html" class="btn">Start Module ‚Üí</a>';

            // Check which modules are completed
            const module1Complete = progressManager.isModuleComplete('curious', 2, 1);
            const module2Complete = progressManager.isModuleComplete('curious', 2, 2);
            const module3Complete = progressManager.isModuleComplete('curious', 2, 3);

            // Update module states
            if (module1Complete) {
                document.getElementById('module-1').classList.remove('current');
                document.getElementById('module-1').classList.add('completed');
                document.querySelector('#module-1 .btn').textContent = '‚úì Review Module';

                // Unlock module 2
                document.getElementById('module-2').classList.remove('locked');
                document.getElementById('module-2').classList.add('current');
                document.querySelector('#module-2 .module-action').innerHTML =
                    '<a href="module-2.html" class="btn">Continue ‚Üí</a>';
            }

            if (module2Complete) {
                document.getElementById('module-2').classList.remove('current');
                document.getElementById('module-2').classList.add('completed');
                document.querySelector('#module-2 .btn').textContent = '‚úì Review Module';

                // Unlock module 3
                document.getElementById('module-3').classList.remove('locked');
                document.getElementById('module-3').classList.add('current');
                document.querySelector('#module-3 .module-action').innerHTML =
                    '<a href="module-3.html" class="btn">Continue ‚Üí</a>';
            }

            if (module3Complete) {
                document.getElementById('module-3').classList.remove('current');
                document.getElementById('module-3').classList.add('completed');
                document.querySelector('#module-3 .btn').textContent = '‚úì Review Module';

                // Enable stage 3
                document.querySelector('[href="/paths/curious/stage-3/"]').style.opacity = '1';
                document.querySelector('[href="/paths/curious/stage-3/"]').style.pointerEvents = 'auto';
            }

            // Update progress bar
            let completedCount = 0;
            if (module1Complete) completedCount++;
            if (module2Complete) completedCount++;
            if (module3Complete) completedCount++;

            const progressPercent = (completedCount / 3) * 100;
            document.getElementById('stage-progress').style.width = progressPercent + '%';
        }

        // Run on page load
        updateProgress();
    </script>

    <!-- Animated Icon Library -->
    <script src="/js/icon-library.js"></script>
    <script>
        // Inject icons after DOM loads
        document.addEventListener('DOMContentLoaded', function() {
            if (window.IconLibrary) {
                document.querySelectorAll('[data-icon]').forEach(function(element) {
                    var iconName = element.getAttribute('data-icon');
                    if (iconName) {
                        var iconHTML = IconLibrary.get(iconName, 20, true);
                        var span = document.createElement('span');
                        span.innerHTML = iconHTML;
                        span.className = 'icon-inline';
                        span.style.marginRight = '0.5rem';
                        span.style.display = 'inline-block';
                        span.style.verticalAlign = 'middle';
                        element.insertBefore(span, element.firstChild);
                    }
                });
            }
        });
    </script>
</body>
</html>
