<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitcoin's Rules | The Curious Path</title>
    <meta name="description" content="Understand the 21 million supply cap, halving events, and difficulty adjustment that make Bitcoin unique.">

    <style>
        :root {
            --primary-orange: #f7931a;
            --primary-dark: #1a1a1a;
            --secondary-dark: #2d2d2d;
            --accent-green: #4caf50;
            --text-light: #e0e0e0;
            --text-dim: #999;
            --border-color: rgba(247, 147, 26, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--primary-dark);
            color: var(--text-light);
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Module Header */
        .module-header {
            background: var(--secondary-dark);
            border-bottom: 2px solid var(--primary-orange);
            padding: 1.5rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .breadcrumb {
            font-size: 0.85rem;
            color: var(--text-dim);
            margin-bottom: 0.5rem;
        }

        .breadcrumb a {
            color: var(--primary-orange);
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .module-title-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .module-title-section h1 {
            font-size: 1.75rem;
            color: var(--accent-green);
        }

        .module-meta {
            display: flex;
            gap: 1rem;
            font-size: 0.85rem;
            color: var(--text-dim);
        }

        /* Content Sections */
        .content-section {
            padding: 2.5rem 0;
            border-bottom: 1px solid var(--border-color);
        }

        .content-section:last-of-type {
            border-bottom: none;
        }

        .content-section h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--primary-orange);
        }

        .content-section h3 {
            font-size: 1.2rem;
            margin: 1.5rem 0 0.75rem;
            color: var(--primary-orange);
        }

        .content-section p {
            margin-bottom: 1rem;
            color: var(--text-light);
        }

        /* Supply Schedule */
        .supply-schedule {
            background: var(--secondary-dark);
            border: 2px solid var(--primary-orange);
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
        }

        .supply-schedule h3 {
            color: var(--primary-orange);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .supply-chart {
            height: 300px;
            position: relative;
            background: rgba(247, 147, 26, 0.05);
            border-radius: 0.5rem;
            padding: 1rem;
            margin: 1.5rem 0;
        }

        .chart-line {
            width: 100%;
            height: 100%;
        }

        .era-timeline {
            display: grid;
            gap: 1rem;
            margin-top: 2rem;
        }

        .era-item {
            background: rgba(247, 147, 26, 0.1);
            border-left: 4px solid var(--primary-orange);
            border-radius: 0.5rem;
            padding: 1rem;
            display: grid;
            grid-template-columns: auto 1fr auto;
            gap: 1rem;
            align-items: center;
        }

        .era-number {
            width: 50px;
            height: 50px;
            background: var(--primary-orange);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
        }

        .era-info h4 {
            color: var(--primary-orange);
            margin-bottom: 0.5rem;
        }

        .era-info p {
            color: var(--text-dim);
            font-size: 0.9rem;
            margin-bottom: 0;
        }

        .era-reward {
            text-align: right;
            font-weight: 700;
            color: var(--accent-green);
            font-size: 1.1rem;
        }

        /* Halving Countdown */
        .halving-countdown {
            background: linear-gradient(135deg, rgba(247, 147, 26, 0.3), rgba(247, 147, 26, 0.1));
            border: 3px solid var(--primary-orange);
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
        }

        .halving-countdown h3 {
            color: var(--primary-orange);
            margin-bottom: 1rem;
        }

        .countdown-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .stat-box {
            background: var(--secondary-dark);
            border: 2px solid var(--border-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
        }

        .stat-value {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--primary-orange);
            margin-bottom: 0.5rem;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-dim);
        }

        /* Difficulty Adjustment */
        .difficulty-viz {
            background: var(--secondary-dark);
            border: 2px solid var(--border-color);
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
        }

        .difficulty-viz h3 {
            color: var(--primary-orange);
            margin-bottom: 1.5rem;
        }

        .scenario-grid {
            display: grid;
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .scenario {
            background: rgba(247, 147, 26, 0.1);
            border-radius: 0.75rem;
            padding: 1.5rem;
        }

        .scenario-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--border-color);
        }

        .scenario-title {
            font-weight: 700;
            color: var(--primary-orange);
            font-size: 1.1rem;
        }

        .scenario-icon {
            font-size: 2rem;
        }

        .scenario-steps {
            display: grid;
            gap: 0.75rem;
        }

        .step {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
        }

        .step-number {
            background: var(--primary-orange);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 700;
            flex-shrink: 0;
        }

        .step-text {
            flex: 1;
            font-size: 0.95rem;
            color: var(--text-dim);
        }

        /* Rule Cards */
        .rule-cards {
            display: grid;
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .rule-card {
            background: var(--secondary-dark);
            border: 2px solid var(--border-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }

        .rule-card:hover {
            border-color: var(--primary-orange);
        }

        .rule-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .rule-icon {
            font-size: 2rem;
        }

        .rule-header h3 {
            color: var(--primary-orange);
            margin: 0;
        }

        /* Key Takeaways */
        .takeaways {
            background: rgba(76, 175, 80, 0.1);
            border-left: 4px solid var(--accent-green);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .takeaways h3 {
            color: var(--accent-green);
            margin-bottom: 1rem;
        }

        .takeaways ul {
            list-style: none;
            padding-left: 0;
        }

        .takeaways li {
            padding-left: 1.5rem;
            margin-bottom: 0.5rem;
            position: relative;
        }

        .takeaways li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: var(--accent-green);
            font-weight: 700;
        }

        /* Quiz */
        .quiz-container {
            background: var(--secondary-dark);
            border: 2px solid var(--primary-orange);
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
        }

        .quiz-container h3 {
            color: var(--primary-orange);
            margin-bottom: 1.5rem;
            font-size: 1.25rem;
        }

        .quiz-question {
            margin-bottom: 2rem;
        }

        .quiz-question p {
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-light);
        }

        .quiz-options {
            display: grid;
            gap: 0.75rem;
        }

        .quiz-option {
            background: rgba(247, 147, 26, 0.1);
            border: 2px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            border-color: var(--primary-orange);
            background: rgba(247, 147, 26, 0.2);
        }

        .quiz-option.selected {
            border-color: var(--primary-orange);
            background: rgba(247, 147, 26, 0.2);
        }

        .quiz-option.correct {
            border-color: var(--accent-green);
            background: rgba(76, 175, 80, 0.2);
        }

        .quiz-option.incorrect {
            border-color: #f44336;
            background: rgba(244, 67, 54, 0.2);
        }

        .quiz-feedback {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 0.5rem;
            display: none;
        }

        .quiz-feedback.show {
            display: block;
        }

        .quiz-feedback.correct {
            background: rgba(76, 175, 80, 0.2);
            color: var(--accent-green);
        }

        .quiz-feedback.incorrect {
            background: rgba(244, 67, 54, 0.2);
            color: #ff6b6b;
        }

        .quiz-submit {
            background: var(--primary-orange);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1.5rem;
        }

        .quiz-submit:hover {
            background: #ff8c00;
        }

        .quiz-submit:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Navigation */
        .module-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 2rem 0;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 0.75rem 1.5rem;
            background: var(--primary-orange);
            color: white;
            text-decoration: none;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-block;
        }

        .nav-btn:hover {
            background: #ff8c00;
            transform: translateX(5px);
        }

        .nav-btn.disabled {
            opacity: 0.5;
            pointer-events: none;
        }

        .nav-btn-secondary {
            background: transparent;
            border: 2px solid var(--border-color);
            color: var(--text-light);
        }

        .nav-btn-secondary:hover {
            border-color: var(--primary-orange);
            background: rgba(247, 147, 26, 0.1);
            transform: translateX(-5px);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .module-title-section {
                flex-direction: column;
                align-items: flex-start;
            }

            .era-item {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .era-reward {
                text-align: center;
            }

            .countdown-stats {
                grid-template-columns: 1fr;
            }

            .module-navigation {
                flex-direction: column;
            }

            .nav-btn {
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Module Header -->
    <header class="module-header">
        <div class="container">
            <div class="breadcrumb">
                <a href="/">Home</a> →
                <a href="/paths/curious/">The Curious Path</a> →
                <a href="/paths/curious/stage-2/">Stage 2</a> →
                <span>Module 2</span>
            </div>
            <div class="module-title-section">
                <h1>Bitcoin's Rules</h1>
                <div class="module-meta">
                    <span>⏱️ 20 minutes</span>
                    <span>📊 Charts</span>
                    <span>📝 Quiz included</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <div class="container">
            <!-- Introduction -->
            <section class="content-section">
                <h2>The Code is Law</h2>
                <p>
                    Bitcoin's most remarkable feature isn't technology—it's <strong>predictability</strong>. Unlike central banks
                    that can change monetary policy on a whim, Bitcoin's rules are set in code and enforced by mathematics. These rules
                    can only change if the entire network agrees—which makes them effectively unchangeable.
                </p>
                <p>
                    Three core rules define Bitcoin's monetary policy: <strong>(1)</strong> the 21 million supply cap,
                    <strong>(2)</strong> the halving schedule, and <strong>(3)</strong> difficulty adjustment. Let's understand each one.
                </p>
            </section>

            <!-- Rule 1: 21 Million Cap -->
            <section class="content-section">
                <h2>Rule #1: The 21 Million Supply Cap</h2>
                <p>
                    Bitcoin will only ever have <strong>21 million coins</strong>. Not 21 million "for now"—21 million forever.
                    This is hardcoded into Bitcoin's protocol and cannot be changed without breaking Bitcoin itself.
                </p>

                <div class="supply-schedule">
                    <h3>📈 Bitcoin Supply Schedule (2009-2140)</h3>

                    <div class="supply-chart">
                        <svg viewBox="0 0 800 250" class="chart-line">
                            <!-- Grid lines -->
                            <line x1="50" y1="200" x2="750" y2="200" stroke="rgba(247, 147, 26, 0.2)" stroke-width="1"/>
                            <line x1="50" y1="150" x2="750" y2="150" stroke="rgba(247, 147, 26, 0.2)" stroke-width="1"/>
                            <line x1="50" y1="100" x2="750" y2="100" stroke="rgba(247, 147, 26, 0.2)" stroke-width="1"/>
                            <line x1="50" y1="50" x2="750" y2="50" stroke="rgba(247, 147, 26, 0.2)" stroke-width="1"/>

                            <!-- Axes -->
                            <line x1="50" y1="10" x2="50" y2="210" stroke="#f7931a" stroke-width="2"/>
                            <line x1="50" y1="210" x2="750" y2="210" stroke="#f7931a" stroke-width="2"/>

                            <!-- Supply curve (logarithmic approach to 21M) -->
                            <path d="M 50 210 Q 200 150, 300 80 T 600 30 L 750 25"
                                  fill="none"
                                  stroke="#4caf50"
                                  stroke-width="3"/>

                            <!-- Labels -->
                            <text x="25" y="215" fill="#999" font-size="12">0M</text>
                            <text x="20" y="155" fill="#999" font-size="12">10M</text>
                            <text x="15" y="55" fill="#999" font-size="12">21M</text>

                            <text x="40" y="235" fill="#999" font-size="12">2009</text>
                            <text x="250" y="235" fill="#999" font-size="12">2024</text>
                            <text x="450" y="235" fill="#999" font-size="12">2050</text>
                            <text x="700" y="235" fill="#999" font-size="12">2140</text>

                            <!-- Asymptote line -->
                            <line x1="50" y1="25" x2="750" y2="25" stroke="rgba(244, 67, 54, 0.5)" stroke-width="2" stroke-dasharray="5,5"/>
                            <text x="650" y="20" fill="#f44336" font-size="12" font-weight="700">21M Cap</text>
                        </svg>
                    </div>

                    <p style="text-align: center; color: var(--text-dim); margin-top: 1rem;">
                        The supply curve approaches 21 million asymptotically—getting infinitely close but never exceeding it.
                    </p>
                </div>

                <h3>Why 21 Million?</h3>
                <p>
                    Satoshi Nakamoto chose 21 million somewhat arbitrarily, but the key insight was choosing <em>any</em> fixed number.
                    The specific amount matters less than the fact that it's <strong>knowable, verifiable, and unchangeable</strong>.
                </p>
                <p>
                    As of 2024, about <strong>19.7 million Bitcoin</strong> have been mined (94% of total supply). The remaining
                    ~1.3 million will be distributed over the next 116 years through mining rewards.
                </p>
            </section>

            <!-- Rule 2: The Halving -->
            <section class="content-section">
                <h2>Rule #2: The Halving (Programmed Scarcity)</h2>
                <p>
                    New Bitcoin enters circulation through mining rewards. But here's the ingenious part: <strong>the reward
                    gets cut in half every 210,000 blocks</strong> (approximately every 4 years). This is called "the halving."
                </p>

                <div class="era-timeline">
                    <div class="era-item">
                        <div class="era-number">1</div>
                        <div class="era-info">
                            <h4>Era 1: 2009-2012</h4>
                            <p>Genesis era. Most BTC created. Early adopters, miners with laptops.</p>
                        </div>
                        <div class="era-reward">50 BTC<br><span style="font-size: 0.8rem; color: var(--text-dim);">per block</span></div>
                    </div>

                    <div class="era-item">
                        <div class="era-number">2</div>
                        <div class="era-info">
                            <h4>Era 2: 2012-2016</h4>
                            <p>First halving. Bitcoin gains recognition. GPU mining emerges.</p>
                        </div>
                        <div class="era-reward">25 BTC<br><span style="font-size: 0.8rem; color: var(--text-dim);">per block</span></div>
                    </div>

                    <div class="era-item">
                        <div class="era-number">3</div>
                        <div class="era-info">
                            <h4>Era 3: 2016-2020</h4>
                            <p>Second halving. Institutional interest grows. ASIC mining dominates.</p>
                        </div>
                        <div class="era-reward">12.5 BTC<br><span style="font-size: 0.8rem; color: var(--text-dim);">per block</span></div>
                    </div>

                    <div class="era-item">
                        <div class="era-number">4</div>
                        <div class="era-info">
                            <h4>Era 4: 2020-2024</h4>
                            <p>Third halving. Corporate treasuries adopt Bitcoin. Lightning Network scales.</p>
                        </div>
                        <div class="era-reward">6.25 BTC<br><span style="font-size: 0.8rem; color: var(--text-dim);">per block</span></div>
                    </div>

                    <div class="era-item" style="border-left-color: var(--accent-green);">
                        <div class="era-number" style="background: var(--accent-green);">5</div>
                        <div class="era-info">
                            <h4>Era 5: 2024-2028 (Current)</h4>
                            <p>Fourth halving. Nation-states enter. Only 3.125 BTC per block.</p>
                        </div>
                        <div class="era-reward" style="color: var(--accent-green);">3.125 BTC<br><span style="font-size: 0.8rem; color: var(--text-dim);">per block</span></div>
                    </div>

                    <div class="era-item" style="opacity: 0.6;">
                        <div class="era-number" style="background: var(--text-dim);">6+</div>
                        <div class="era-info">
                            <h4>Future Eras: 2028-2140</h4>
                            <p>Rewards continue halving every 4 years until reaching ~0.00000001 BTC around 2140.</p>
                        </div>
                        <div class="era-reward" style="color: var(--text-dim);">→ 0<br><span style="font-size: 0.8rem; color: var(--text-dim);">asymptotically</span></div>
                    </div>
                </div>

                <!-- Halving Countdown -->
                <div class="halving-countdown">
                    <h3>⏰ Next Halving</h3>
                    <p style="color: var(--text-dim);">The 5th halving is estimated to occur around April 2028</p>

                    <div class="countdown-stats">
                        <div class="stat-box">
                            <div class="stat-value">~4 years</div>
                            <div class="stat-label">Time Remaining</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value">~210,000</div>
                            <div class="stat-label">Blocks Between Halvings</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value">1.5625 BTC</div>
                            <div class="stat-label">Reward After Next Halving</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value">~32</div>
                            <div class="stat-label">Total Halvings Until 2140</div>
                        </div>
                    </div>
                </div>

                <h3>Why Halving Matters</h3>
                <p>
                    The halving creates <strong>programmed scarcity</strong>. As the supply of new Bitcoin decreases, demand must
                    increase for price to remain stable. Historically, Bitcoin's price has increased significantly in the 12-18 months
                    following each halving event.
                </p>
                <p>
                    More importantly, the halving demonstrates Bitcoin's <strong>predictable monetary policy</strong>. You can calculate
                    exactly how many Bitcoin will exist in 2050, 2100, or 2140. Try doing that with the US dollar.
                </p>
            </section>

            <!-- Rule 3: Difficulty Adjustment -->
            <section class="content-section">
                <h2>Rule #3: Difficulty Adjustment (The 10-Minute Heartbeat)</h2>
                <p>
                    Bitcoin targets a <strong>10-minute average</strong> for block production. But as more miners join (or leave)
                    the network, blocks would be found faster (or slower). The difficulty adjustment solves this.
                </p>

                <div class="difficulty-viz">
                    <h3>⚙️ How Difficulty Adjustment Works</h3>
                    <p style="color: var(--text-dim); margin-bottom: 1.5rem;">
                        Every 2,016 blocks (~2 weeks), Bitcoin measures how fast blocks were found and adjusts difficulty to maintain
                        the 10-minute target.
                    </p>

                    <div class="scenario-grid">
                        <!-- Scenario 1: More miners join -->
                        <div class="scenario">
                            <div class="scenario-header">
                                <span class="scenario-title">Scenario 1: More Miners Join ⬆️</span>
                                <span class="scenario-icon">📈</span>
                            </div>
                            <div class="scenario-steps">
                                <div class="step">
                                    <div class="step-number">1</div>
                                    <div class="step-text">Hashrate increases (more miners = more computing power)</div>
                                </div>
                                <div class="step">
                                    <div class="step-number">2</div>
                                    <div class="step-text">Blocks start being found faster than 10 minutes (maybe 8 minutes average)</div>
                                </div>
                                <div class="step">
                                    <div class="step-number">3</div>
                                    <div class="step-text">After 2,016 blocks, Bitcoin notices blocks came too fast</div>
                                </div>
                                <div class="step">
                                    <div class="step-number">4</div>
                                    <div class="step-text">Difficulty increases (requires more leading zeros in hash)</div>
                                </div>
                                <div class="step">
                                    <div class="step-number">5</div>
                                    <div class="step-text">Block time returns to ~10 minutes average</div>
                                </div>
                            </div>
                        </div>

                        <!-- Scenario 2: Miners leave -->
                        <div class="scenario">
                            <div class="scenario-header">
                                <span class="scenario-title">Scenario 2: Miners Leave ⬇️</span>
                                <span class="scenario-icon">📉</span>
                            </div>
                            <div class="scenario-steps">
                                <div class="step">
                                    <div class="step-number">1</div>
                                    <div class="step-text">Hashrate decreases (fewer miners = less computing power)</div>
                                </div>
                                <div class="step">
                                    <div class="step-number">2</div>
                                    <div class="step-text">Blocks start being found slower than 10 minutes (maybe 13 minutes average)</div>
                                </div>
                                <div class="step">
                                    <div class="step-number">3</div>
                                    <div class="step-text">After 2,016 blocks, Bitcoin notices blocks came too slowly</div>
                                </div>
                                <div class="step">
                                    <div class="step-number">4</div>
                                    <div class="step-text">Difficulty decreases (requires fewer leading zeros in hash)</div>
                                </div>
                                <div class="step">
                                    <div class="step-number">5</div>
                                    <div class="step-text">Block time returns to ~10 minutes average</div>
                                </div>
                            </div>
                        </div>

                        <!-- Real Example -->
                        <div class="scenario" style="background: rgba(76, 175, 80, 0.1); border-left: 4px solid var(--accent-green);">
                            <div class="scenario-header">
                                <span class="scenario-title">Real Example: China Mining Ban (2021)</span>
                                <span class="scenario-icon">🌍</span>
                            </div>
                            <div class="scenario-steps">
                                <div class="step">
                                    <div class="step-number">📅</div>
                                    <div class="step-text"><strong>May 2021:</strong> China bans Bitcoin mining, representing ~50% of global hashrate</div>
                                </div>
                                <div class="step">
                                    <div class="step-number">⚠️</div>
                                    <div class="step-text">Hashrate drops from 180 EH/s to 90 EH/s almost overnight</div>
                                </div>
                                <div class="step">
                                    <div class="step-number">⏱️</div>
                                    <div class="step-text">Block times increase to 14-20 minutes (network slows down)</div>
                                </div>
                                <div class="step">
                                    <div class="step-number">⚙️</div>
                                    <div class="step-text">Difficulty automatically adjusts downward by 28% (largest drop ever)</div>
                                </div>
                                <div class="step">
                                    <div class="step-number">✅</div>
                                    <div class="step-text">Block times return to 10 minutes. Bitcoin continues operating normally</div>
                                </div>
                                <div class="step">
                                    <div class="step-number">🎯</div>
                                    <div class="step-text"><strong>Lesson:</strong> Even losing half the network didn't stop Bitcoin. Difficulty adjusted automatically.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <h3>Why This Is Crucial</h3>
                <p>
                    Difficulty adjustment ensures Bitcoin's predictability. Without it, a surge in mining would produce all
                    21 million Bitcoin in just a few years. Or if miners left, blocks would take hours to find and the network
                    would freeze.
                </p>
                <p>
                    The adjustment makes Bitcoin <strong>resilient</strong>. Miners can join, leave, get banned by countries,
                    or face natural disasters—and Bitcoin keeps ticking along, one block every 10 minutes, like clockwork.
                </p>
            </section>

            <!-- Summary of Rules -->
            <section class="content-section">
                <h2>Why These Rules Matter</h2>

                <div class="rule-cards">
                    <div class="rule-card">
                        <div class="rule-header">
                            <span class="rule-icon">💎</span>
                            <h3>Absolute Scarcity</h3>
                        </div>
                        <p>
                            The 21 million cap + halving schedule create the first truly scarce digital asset. Unlike gold (more can
                            be mined), fiat (more can be printed), or even other cryptocurrencies (most have unlimited supply),
                            Bitcoin's scarcity is mathematically guaranteed.
                        </p>
                    </div>

                    <div class="rule-card">
                        <div class="rule-header">
                            <span class="rule-icon">📊</span>
                            <h3>Predictability</h3>
                        </div>
                        <p>
                            You can calculate exactly how many Bitcoin will exist at any future date. This predictability allows for
                            long-term planning and economic calculation—something impossible with central bank currencies that change
                            policy based on politics.
                        </p>
                    </div>

                    <div class="rule-card">
                        <div class="rule-header">
                            <span class="rule-icon">🛡️</span>
                            <h3>Self-Regulation</h3>
                        </div>
                        <p>
                            Difficulty adjustment makes Bitcoin antifragile. The network automatically adapts to changes in mining
                            power, maintaining security and consistency without human intervention or governance.
                        </p>
                    </div>

                    <div class="rule-card">
                        <div class="rule-header">
                            <span class="rule-icon">⚖️</span>
                            <h3>No Central Control</h3>
                        </div>
                        <p>
                            These rules are enforced by math and code, not by people or institutions. No central bank can print more
                            Bitcoin. No government can speed up the halving. The rules apply equally to everyone, everywhere, forever.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Key Takeaways -->
            <section class="content-section">
                <div class="takeaways">
                    <h3>🎯 Key Takeaways</h3>
                    <ul>
                        <li>Bitcoin's supply is capped at exactly 21 million coins—hardcoded and unchangeable</li>
                        <li>The halving cuts mining rewards in half every ~4 years, creating programmed scarcity</li>
                        <li>We're currently in Era 5 (2024-2028) with 3.125 BTC per block reward</li>
                        <li>Difficulty adjusts every 2,016 blocks to maintain 10-minute average block time</li>
                        <li>Difficulty adjustment makes Bitcoin resilient to hashrate changes (miners joining/leaving)</li>
                        <li>Real example: Bitcoin survived losing 50% of hashrate (China ban) with automatic adjustment</li>
                        <li>These rules create absolute scarcity, predictability, and censorship resistance</li>
                        <li>Unlike fiat currencies, Bitcoin's monetary policy cannot be changed by humans</li>
                    </ul>
                </div>
            </section>

            <!-- Quiz -->
            <section class="content-section">
                <div class="quiz-container">
                    <h3>📝 Test Your Knowledge</h3>

                    <div class="quiz-question" data-question="1">
                        <p>1. What is Bitcoin's maximum supply?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-answer="wrong">
                                A) Unlimited
                            </div>
                            <div class="quiz-option" data-answer="correct">
                                B) 21 million
                            </div>
                            <div class="quiz-option" data-answer="wrong">
                                C) 100 million
                            </div>
                            <div class="quiz-option" data-answer="wrong">
                                D) It depends on miners
                            </div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <div class="quiz-question" data-question="2">
                        <p>2. What is "the halving"?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-answer="wrong">
                                A) When Bitcoin's price drops by 50%
                            </div>
                            <div class="quiz-option" data-answer="correct">
                                B) When mining rewards get cut in half every ~4 years
                            </div>
                            <div class="quiz-option" data-answer="wrong">
                                C) When transaction fees double
                            </div>
                            <div class="quiz-option" data-answer="wrong">
                                D) When miners vote to reduce supply
                            </div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <div class="quiz-question" data-question="3">
                        <p>3. How often does Bitcoin's difficulty adjust?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-answer="wrong">
                                A) Every block
                            </div>
                            <div class="quiz-option" data-answer="wrong">
                                B) Every hour
                            </div>
                            <div class="quiz-option" data-answer="correct">
                                C) Every 2,016 blocks (~2 weeks)
                            </div>
                            <div class="quiz-option" data-answer="wrong">
                                D) Every year
                            </div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <div class="quiz-question" data-question="4">
                        <p>4. What is the current mining reward per block (Era 5, post-2024)?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-answer="wrong">
                                A) 50 BTC
                            </div>
                            <div class="quiz-option" data-answer="wrong">
                                B) 12.5 BTC
                            </div>
                            <div class="quiz-option" data-answer="wrong">
                                C) 6.25 BTC
                            </div>
                            <div class="quiz-option" data-answer="correct">
                                D) 3.125 BTC
                            </div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <div class="quiz-question" data-question="5">
                        <p>5. What happened when China banned Bitcoin mining in 2021?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-answer="wrong">
                                A) Bitcoin stopped working
                            </div>
                            <div class="quiz-option" data-answer="correct">
                                B) Difficulty automatically adjusted down 28% and Bitcoin continued normally
                            </div>
                            <div class="quiz-option" data-answer="wrong">
                                C) Miners had to vote on new rules
                            </div>
                            <div class="quiz-option" data-answer="wrong">
                                D) The block time permanently increased
                            </div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <button class="quiz-submit" id="submit-quiz">Submit Quiz</button>
                </div>
            </section>

            <!-- Navigation -->
            <nav class="module-navigation">
                <a href="module-1.html" class="nav-btn nav-btn-secondary">← Previous: How Bitcoin Works</a>
                <a href="module-3.html" class="nav-btn disabled" id="next-module">Next: Who Controls Bitcoin? →</a>
            </nav>
        </div>
    </main>

    <script>
        // Quiz functionality
        let selectedAnswers = {};
        let quizCompleted = false;

        document.querySelectorAll('.quiz-option').forEach(option => {
            option.addEventListener('click', function() {
                if (quizCompleted) return;

                const question = this.closest('.quiz-question');
                const questionNum = question.dataset.question;

                question.querySelectorAll('.quiz-option').forEach(opt => {
                    opt.classList.remove('selected');
                });

                this.classList.add('selected');
                selectedAnswers[questionNum] = this.dataset.answer;

                if (Object.keys(selectedAnswers).length === 5) {
                    document.getElementById('submit-quiz').disabled = false;
                }
            });
        });

        document.getElementById('submit-quiz').addEventListener('click', function() {
            if (quizCompleted) return;

            let correctCount = 0;

            document.querySelectorAll('.quiz-question').forEach(question => {
                const questionNum = question.dataset.question;
                const selectedOption = question.querySelector('.quiz-option.selected');
                const feedback = question.querySelector('.quiz-feedback');

                if (selectedOption) {
                    const isCorrect = selectedOption.dataset.answer === 'correct';

                    if (isCorrect) {
                        correctCount++;
                        selectedOption.classList.add('correct');
                        feedback.classList.add('correct', 'show');
                        feedback.textContent = '✓ Correct! Well done.';
                    } else {
                        selectedOption.classList.add('incorrect');
                        const correctOption = question.querySelector('[data-answer="correct"]');
                        correctOption.classList.add('correct');
                        feedback.classList.add('incorrect', 'show');
                        feedback.textContent = '✗ Not quite. The correct answer is highlighted above.';
                    }
                }
            });

            quizCompleted = true;
            this.textContent = `Quiz Complete! Score: ${correctCount}/5`;
            this.disabled = true;

            if (correctCount >= 4) {
                saveProgress();
                document.getElementById('next-module').classList.remove('disabled');

                const successMsg = document.createElement('p');
                successMsg.style.color = 'var(--accent-green)';
                successMsg.style.textAlign = 'center';
                successMsg.style.marginTop = '1rem';
                successMsg.style.fontWeight = '600';
                successMsg.textContent = '🎉 Great job! You can now proceed to Module 3.';
                document.querySelector('.quiz-container').appendChild(successMsg);
            } else {
                const retryMsg = document.createElement('p');
                retryMsg.style.color = '#ff6b6b';
                retryMsg.style.textAlign = 'center';
                retryMsg.style.marginTop = '1rem';
                retryMsg.textContent = 'Review the material above and try again. You need 4/5 to proceed.';
                document.querySelector('.quiz-container').appendChild(retryMsg);

                setTimeout(() => {
                    location.reload();
                }, 3000);
            }
        });

        function saveProgress() {
            const progress = JSON.parse(localStorage.getItem('learningProgress') || '{}');

            if (!progress.completedModules) {
                progress.completedModules = [];
            }

            if (!progress.completedModules.includes('curious-2-2')) {
                progress.completedModules.push('curious-2-2');
            }

            progress.lastActivity = new Date().toISOString();
            progress.path = 'curious';
            progress.currentStage = 2;
            progress.currentModule = 3;

            localStorage.setItem('learningProgress', JSON.stringify(progress));
        }

        function checkProgress() {
            const progress = JSON.parse(localStorage.getItem('learningProgress') || '{}');
            const completedModules = progress.completedModules || [];

            if (completedModules.includes('curious-2-2')) {
                document.getElementById('next-module').classList.remove('disabled');

                const notice = document.createElement('div');
                notice.style.background = 'rgba(76, 175, 80, 0.2)';
                notice.style.padding = '1rem';
                notice.style.borderRadius = '0.5rem';
                notice.style.color = 'var(--accent-green)';
                notice.style.textAlign = 'center';
                notice.style.marginBottom = '2rem';
                notice.textContent = '✓ You\'ve already completed this module. Feel free to review or move on!';

                document.querySelector('.container').insertBefore(notice, document.querySelector('.content-section'));
            }
        }

        checkProgress();
    </script>
    <script src="/js/module-gate.js" defer></script>
</body>
</html>
