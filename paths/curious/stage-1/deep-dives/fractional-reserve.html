<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fractional Reserve Banking | Deep Dive</title>
    <meta name="description" content="Interactive deep dive into fractional reserve banking. Watch one $100 deposit multiply through the banking system and discover the hidden risks.">

    <style>
        :root {
            --primary-orange: #f7931a;
            --primary-dark: #1a1a1a;
            --secondary-dark: #2d2d2d;
            --accent-green: #4caf50;
            --accent-red: #f44336;
            --accent-blue: #2196F3;
            --text-light: #e0e0e0;
            --text-dim: #999;
            --border-color: rgba(247, 147, 26, 0.2);
            --purple-primary: #9C27B0;
            --purple-dark: #7B1FA2;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--primary-dark);
            color: var(--text-light);
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 2rem 4rem 2rem;
        }

        /* Deep Dive Header */
        .deep-dive-header {
            background: linear-gradient(135deg, var(--purple-primary), var(--purple-dark));
            padding: 2rem 0;
            margin-bottom: 3rem;
            border-bottom: 3px solid var(--purple-primary);
        }

        .deep-dive-badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: white;
        }

        .breadcrumb {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 1rem;
        }

        .breadcrumb a {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s;
        }

        .breadcrumb a:hover {
            opacity: 0.8;
        }

        .deep-dive-title {
            font-size: 2.5rem;
            color: white;
            margin-bottom: 0.5rem;
        }

        .deep-dive-subtitle {
            font-size: 1.15rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 1.5rem;
        }

        .return-button {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: all 0.3s;
        }

        .return-button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateX(-5px);
        }

        /* Content Sections */
        .content-section {
            margin-bottom: 3rem;
        }

        .content-section h2 {
            color: var(--primary-orange);
            font-size: 1.75rem;
            margin-bottom: 1.5rem;
        }

        .content-section p {
            line-height: 1.8;
            margin-bottom: 1rem;
        }

        /* Money Demo Scene */
        .money-demo-scene {
            background: rgba(45, 45, 45, 0.8);
            border-radius: 0.75rem;
            padding: 2rem;
            margin-bottom: 1.5rem;
        }

        .money-demo-scene h3 {
            color: var(--accent-blue);
            margin-bottom: 1rem;
        }

        @media (max-width: 768px) {
            .deep-dive-title {
                font-size: 1.75rem;
            }

            .container {
                padding: 0 1rem 2rem 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Deep Dive Header -->
    <header class="deep-dive-header">
        <div class="container">
            <div class="deep-dive-badge">üî¨ Deep Dive</div>
            <div class="breadcrumb">
                <a href="/">Home</a> ‚Üí
                <a href="/paths/curious/">The Curious Path</a> ‚Üí
                <a href="/paths/curious/stage-1/">Stage 1</a> ‚Üí
                <a href="/paths/curious/stage-1/module-2.html">Module 2</a> ‚Üí
                <span>Fractional Reserve Banking</span>
            </div>
            <h1 class="deep-dive-title">How Banks Multiply Money</h1>
            <p class="deep-dive-subtitle">Interactive exploration of fractional reserve banking and the creation of credit money</p>
            <a href="../module-2.html" class="return-button">‚Üê Return to Module 2</a>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <div class="container">
            <!-- Introduction -->
            <section class="content-section">
                <h2>üíµ The Money Multiplication Process</h2>
                
                <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1.5rem;">
                    When you deposit money in a bank, something remarkable happens: your money doesn't just sit there. The bank uses it to create <strong style="color: var(--primary-orange);">new money through lending</strong>.
                </p>

                <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1.5rem;">
                    This process is called <strong style="color: var(--accent-blue);">fractional reserve banking</strong>, and it's how most money in the economy is actually created ‚Äî not by printing presses, but by commercial banks making loans.
                </p>
            </section>

            <!-- Interactive Demo: How Banks Create Money -->
            <div style="background: linear-gradient(135deg, rgba(33, 150, 243, 0.15), rgba(156, 39, 176, 0.15)); border: 2px solid #2196F3; border-radius: 1rem; padding: 2rem; margin: 2rem 0;">
                <div style="text-align: center; margin-bottom: 2rem;">
                    <h2 style="color: #2196F3; font-size: 2rem; margin-bottom: 0.5rem;">üéÆ Interactive Demo: How Banks Multiply Money</h2>
                    <p style="color: var(--text-dim); font-size: 1.05rem;">
                        Follow one $100 deposit through the fractional reserve system and watch money multiply
                    </p>
                </div>

                <!-- Scene 1: Setup -->
                <div class="money-demo-scene">
                    <h3>üíµ Scene 1: Where Does Money Come From?</h3>
                    <p style="margin-bottom: 1.5rem;">
                        Let's follow one simple deposit through the banking system.<br/>
                        You walk into a bank and deposit <strong style="color: var(--accent-green);">$100</strong>.
                    </p>
                    <p style="margin-bottom: 2rem; color: var(--text-dim);">
                        üí≠ The bank keeps some of it in reserve and lends out the rest.
                    </p>

                    <!-- Reserve Ratio Slider -->
                    <div style="background: rgba(33, 150, 243, 0.1); border: 2px solid #2196F3; border-radius: 0.75rem; padding: 1.5rem; margin-bottom: 2rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <strong style="color: #2196F3;">Reserve Ratio: <span id="reserve-ratio">10</span>%</strong>
                        </div>
                        <input type="range" id="reserve-slider" min="5" max="25" value="10" step="5"
                            style="width: 100%; height: 8px; border-radius: 5px; background: linear-gradient(to right, #F44336, #FFC107, #4CAF50); outline: none; cursor: pointer;">

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1.5rem;">
                            <div style="background: rgba(76, 175, 80, 0.2); border: 2px solid var(--accent-green); border-radius: 0.5rem; padding: 1rem; text-align: center;">
                                <div style="font-size: 0.85rem; color: var(--text-dim); margin-bottom: 0.5rem;">Loaned Out</div>
                                <div style="font-size: 2rem; font-weight: 700; color: var(--accent-green);">$<span id="loaned-amount">90</span></div>
                            </div>
                            <div style="background: rgba(247, 147, 26, 0.2); border: 2px solid var(--primary-orange); border-radius: 0.5rem; padding: 1rem; text-align: center;">
                                <div style="font-size: 0.85rem; color: var(--text-dim); margin-bottom: 0.5rem;">Reserve Kept</div>
                                <div style="font-size: 2rem; font-weight: 700; color: var(--primary-orange);">$<span id="reserve-amount">10</span></div>
                            </div>
                        </div>
                    </div>

                    <!-- Question -->
                    <div style="background: rgba(156, 39, 176, 0.1); border-left: 4px solid #9C27B0; padding: 1.5rem; border-radius: 0.5rem; margin-bottom: 1rem;">
                        <p style="margin: 0; color: var(--text-light); font-size: 1.05rem;">
                            <strong style="color: #9C27B0;">üí¨ Question:</strong><br/>
                            "If the bank just lent out $<span id="question-amount">90</span> of your deposit, how much money exists now ‚Äî $100 or $<span id="total-question">190</span>?"
                        </p>
                    </div>

                    <!-- Reveal Button -->
                    <button id="reveal-btn-1" onclick="revealScene1()"
                        style="width: 100%; padding: 1rem; background: var(--primary-orange); color: white; border: none; border-radius: 0.5rem; font-size: 1.05rem; font-weight: 600; cursor: pointer; transition: all 0.3s;">
                        ü™Ñ Reveal Answer
                    </button>

                    <!-- Hidden Reveal -->
                    <div id="reveal-1" style="display: none; margin-top: 1.5rem; background: rgba(76, 175, 80, 0.1); border: 2px solid var(--accent-green); border-radius: 0.75rem; padding: 1.5rem;">
                        <strong style="color: var(--accent-green); font-size: 1.1rem;">‚úÖ Both.</strong>
                        <p style="margin: 1rem 0 0 0; line-height: 1.8;">
                            Your $100 still appears in your account, and someone else now has $<span id="reveal-amount">90</span> to spend.<br/>
                            <strong style="color: var(--accent-green);">New money was created through credit.</strong>
                        </p>
                    </div>
                </div>

                <!-- Scene 2: Chain Reaction -->
                <div class="money-demo-scene">
                    <h3>üí∞ Scene 2: The Chain Reaction</h3>
                    <p style="margin-bottom: 1.5rem;">
                        The $<span id="chain-loan">90</span> loan is spent and redeposited into another bank.<br/>
                        That bank keeps <span id="chain-reserve-pct">10</span>% (<strong>$<span id="chain-reserve">9</span></strong>) and lends out <strong style="color: var(--accent-green);">$<span id="chain-next">81</span></strong>.
                    </p>

                    <!-- Chain Animation -->
                    <div id="money-chain" style="background: rgba(0, 0, 0, 0.3); border-radius: 0.75rem; padding: 1.5rem; margin-bottom: 2rem; min-height: 200px;">
                        <div style="text-align: center; color: var(--text-dim); padding: 2rem;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">üîÑ</div>
                            <p>Click "Start Chain Reaction" to see money multiply</p>
                        </div>
                    </div>

                    <button id="chain-btn" onclick="startChainReaction()"
                        style="width: 100%; padding: 1rem; background: #2196F3; color: white; border: none; border-radius: 0.5rem; font-size: 1.05rem; font-weight: 600; cursor: pointer; transition: all 0.3s; margin-bottom: 2rem;">
                        ‚ñ∂Ô∏è Start Chain Reaction
                    </button>

                    <!-- Result Panel -->
                    <div style="background: rgba(244, 67, 54, 0.1); border: 2px solid var(--accent-red); border-radius: 0.75rem; padding: 1.5rem;">
                        <h4 style="color: var(--accent-red); margin-bottom: 1rem; text-align: center;">üìä Money Multiplication Result</h4>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; text-align: center;">
                            <div>
                                <div style="font-size: 0.85rem; color: var(--text-dim); margin-bottom: 0.5rem;">Original Cash</div>
                                <div style="font-size: 1.5rem; font-weight: 700; color: var(--text-light);">$100</div>
                            </div>
                            <div>
                                <div style="font-size: 0.85rem; color: var(--text-dim); margin-bottom: 0.5rem;">Total "Money" Created</div>
                                <div style="font-size: 1.5rem; font-weight: 700; color: var(--accent-red);">~$<span id="total-money">1,000</span></div>
                            </div>
                            <div>
                                <div style="font-size: 0.85rem; color: var(--text-dim); margin-bottom: 0.5rem;">Money Multiplier</div>
                                <div style="font-size: 1.5rem; font-weight: 700; color: var(--primary-orange);">√ó<span id="multiplier">10</span></div>
                            </div>
                        </div>

                        <!-- Comparison Table -->
                        <table style="width: 100%; margin-top: 1.5rem; border-collapse: collapse;">
                            <thead>
                                <tr style="border-bottom: 2px solid var(--border-color);">
                                    <th style="padding: 0.75rem; text-align: left; color: var(--primary-orange);">Reserve Ratio</th>
                                    <th style="padding: 0.75rem; text-align: left; color: var(--primary-orange);">Total Money Created</th>
                                    <th style="padding: 0.75rem; text-align: left; color: var(--primary-orange);">Money Multiplier</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="border-bottom: 1px solid var(--border-color);">
                                    <td style="padding: 0.75rem;">10%</td>
                                    <td style="padding: 0.75rem;">$1,000</td>
                                    <td style="padding: 0.75rem;">√ó10</td>
                                </tr>
                                <tr style="border-bottom: 1px solid var(--border-color);">
                                    <td style="padding: 0.75rem;">5%</td>
                                    <td style="padding: 0.75rem;">$2,000</td>
                                    <td style="padding: 0.75rem;">√ó20</td>
                                </tr>
                                <tr>
                                    <td style="padding: 0.75rem; color: var(--accent-red);">0%</td>
                                    <td style="padding: 0.75rem; color: var(--accent-red);">Infinite</td>
                                    <td style="padding: 0.75rem; color: var(--accent-red);">üí• System collapse</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Socratic Reflection -->
                <div style="background: rgba(156, 39, 176, 0.1); border-left: 4px solid #9C27B0; padding: 1.5rem; border-radius: 0.5rem; margin-bottom: 2rem;">
                    <p style="margin: 0 0 1rem 0; color: var(--text-light); font-size: 1.05rem;">
                        <strong style="color: #9C27B0;">üí¨ Socratic Reflection:</strong><br/>
                        "If your $100 deposit can multiply into $<span id="socratic-total">1,000</span> of loans, who really creates money ‚Äî the government or private banks?"
                    </p>
                    <p style="margin: 0; color: var(--text-dim); font-style: italic;">
                        üß† Hint: Over 90% of the money supply comes from commercial bank lending, not from printing presses.
                    </p>
                </div>

                <!-- Scene 3: Bank Run -->
                <div class="money-demo-scene">
                    <h3 style="color: var(--accent-red);">üí• Scene 3: The Risk</h3>
                    <p style="margin-bottom: 1.5rem;">
                        This system works <strong>only if everyone doesn't ask for their money at once.</strong>
                    </p>

                    <!-- Bank Run Visualization -->
                    <div id="bank-status" style="background: rgba(76, 175, 80, 0.1); border: 2px solid var(--accent-green); border-radius: 0.75rem; padding: 2rem; margin-bottom: 1.5rem; text-align: center; transition: all 0.5s;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üè¶</div>
                        <div style="font-size: 1.25rem; font-weight: 600; color: var(--accent-green);">Bank Status: <span id="bank-status-text">Stable</span></div>
                        <div style="margin-top: 1rem; color: var(--text-dim);">Reserves: <strong style="color: var(--accent-green);">$<span id="bank-reserves">10</span></strong></div>
                        <div style="margin-top: 0.5rem; color: var(--text-dim);">Withdrawals: <strong>$<span id="withdrawal-amount">0</span></strong></div>
                    </div>

                    <button id="withdraw-btn" onclick="triggerBankRun()"
                        style="width: 100%; padding: 1rem; background: var(--accent-red); color: white; border: none; border-radius: 0.5rem; font-size: 1.05rem; font-weight: 600; cursor: pointer; transition: all 0.3s; margin-bottom: 1.5rem;">
                        ‚ö†Ô∏è Trigger Bank Run
                    </button>

                    <div id="bank-run-result" style="display: none; background: rgba(244, 67, 54, 0.1); border: 2px solid var(--accent-red); border-radius: 0.75rem; padding: 1.5rem;">
                        <p style="margin: 0; line-height: 1.8;">
                            <strong style="color: var(--accent-red);">üö® Bank Run Detected!</strong><br/><br/>
                            "When withdrawals exceed reserves, banks fail ‚Äî and governments bail them out by creating even more money."<br/><br/>
                            This happened to Silicon Valley Bank in 2023 ($209B at risk) and countless banks before it.
                        </p>
                    </div>

                    <!-- Key Insight -->
                    <div style="background: rgba(156, 39, 176, 0.1); border-left: 4px solid #9C27B0; padding: 1.5rem; border-radius: 0.5rem; margin-top: 1.5rem;">
                        <p style="margin: 0; color: var(--text-light); font-size: 1.05rem; line-height: 1.8;">
                            <strong style="color: #9C27B0;">üí° Key Insight:</strong><br/>
                            Fractional-reserve banking turns deposits into promises backed by confidence.<br/>
                            When too many people withdraw at once, confidence breaks ‚Äî and so does the system.
                        </p>
                    </div>
                </div>

                <!-- Next Steps Teaser -->
                <div style="text-align: center; padding: 1.5rem; margin-top: 2rem; background: rgba(247, 147, 26, 0.1); border-radius: 0.75rem;">
                    <p style="margin: 0; color: var(--text-dim); font-size: 1.05rem; font-style: italic;">
                        Next, you'll discover what happens when money no longer depends on confidence.
                    </p>
                </div>
            </div>

            <!-- Return Navigation -->
            <section style="padding: 3rem 0; text-align: center; border-top: 2px solid var(--border-color);">
                <p style="font-size: 1.1rem; margin-bottom: 1.5rem; color: var(--text-dim);">
                    Ready to continue your journey?
                </p>
                <a href="../module-2.html" class="return-button" style="display: inline-block; padding: 1rem 2rem; background: var(--primary-orange); color: white; text-decoration: none; border-radius: 0.75rem; font-weight: 700; transition: all 0.3s;">
                    ‚Üê Return to Module 2
                </a>
            </section>
        </div>
    </main>

    <script>
        // Reserve Ratio Slider Logic
        const reserveSlider = document.getElementById('reserve-slider');
        const reserveRatioDisplay = document.getElementById('reserve-ratio');
        const loanedAmountDisplay = document.getElementById('loaned-amount');
        const reserveAmountDisplay = document.getElementById('reserve-amount');
        const questionAmount = document.getElementById('question-amount');
        const totalQuestion = document.getElementById('total-question');
        const revealAmount = document.getElementById('reveal-amount');
        const chainLoan = document.getElementById('chain-loan');
        const chainReservePct = document.getElementById('chain-reserve-pct');
        const chainReserve = document.getElementById('chain-reserve');
        const chainNext = document.getElementById('chain-next');
        const totalMoneyDisplay = document.getElementById('total-money');
        const multiplierDisplay = document.getElementById('multiplier');
        const socraticTotal = document.getElementById('socratic-total');

        reserveSlider.addEventListener('input', function() {
            const reserveRatio = parseInt(this.value);
            const loaned = 100 - reserveRatio;
            const reserve = reserveRatio;

            reserveRatioDisplay.textContent = reserveRatio;
            loanedAmountDisplay.textContent = loaned;
            reserveAmountDisplay.textContent = reserve;
            questionAmount.textContent = loaned;
            totalQuestion.textContent = 100 + loaned;
            revealAmount.textContent = loaned;

            // Update chain amounts
            const nextReserve = Math.round(loaned * reserveRatio / 100);
            const nextLoan = loaned - nextReserve;
            chainLoan.textContent = loaned;
            chainReservePct.textContent = reserveRatio;
            chainReserve.textContent = nextReserve;
            chainNext.textContent = nextLoan;

            // Calculate money multiplier
            const multiplier = Math.round(100 / reserveRatio);
            const totalMoney = 100 * multiplier;
            totalMoneyDisplay.textContent = totalMoney.toLocaleString();
            multiplierDisplay.textContent = multiplier;
            socraticTotal.textContent = totalMoney.toLocaleString();

            // Update bank reserves
            document.getElementById('bank-reserves').textContent = reserve;
        });

        function revealScene1() {
            document.getElementById('reveal-1').style.display = 'block';
            document.getElementById('reveal-btn-1').style.display = 'none';
        }

        function startChainReaction() {
            const chain = document.getElementById('money-chain');
            const reserveRatio = parseInt(reserveSlider.value) / 100;
            const btn = document.getElementById('chain-btn');

            btn.disabled = true;
            btn.textContent = '‚è≥ Calculating...';

            let html = '<div style="font-family: monospace; font-size: 0.9rem; line-height: 2;">';
            let amount = 100;
            let round = 0;

            const interval = setInterval(() => {
                if (amount < 1 || round >= 10) {
                    clearInterval(interval);
                    btn.textContent = '‚úÖ Chain Complete';
                    html += '</div>';
                    chain.innerHTML = html;
                    return;
                }

                const reserve = amount * reserveRatio;
                const lent = amount * (1 - reserveRatio);

                html += `<div style="margin-bottom: 0.5rem; color: ${round === 0 ? 'var(--accent-green)' : 'var(--text-light)'};">`;
                html += `Round ${round + 1}: Deposit $${amount.toFixed(2)} ‚Üí Reserve $${reserve.toFixed(2)} ‚Üí Lend $${lent.toFixed(2)}`;
                html += `</div>`;

                chain.innerHTML = html + '</div>';
                chain.scrollTop = chain.scrollHeight;

                amount = lent;
                round++;
            }, 500);
        }

        function triggerBankRun() {
            const bankStatus = document.getElementById('bank-status');
            const statusText = document.getElementById('bank-status-text');
            const withdrawalAmount = document.getElementById('withdrawal-amount');
            const result = document.getElementById('bank-run-result');
            const btn = document.getElementById('withdraw-btn');

            // Animate withdrawal
            let withdrawn = 0;
            const totalWithdrawal = 100;

            const interval = setInterval(() => {
                withdrawn += 10;
                withdrawalAmount.textContent = withdrawn;

                if (withdrawn >= 20) {
                    bankStatus.style.background = 'rgba(244, 67, 54, 0.1)';
                    bankStatus.style.borderColor = 'var(--accent-red)';
                    statusText.textContent = 'Crisis!';
                    statusText.style.color = 'var(--accent-red)';
                }

                if (withdrawn >= totalWithdrawal) {
                    clearInterval(interval);
                    result.style.display = 'block';
                    btn.disabled = true;
                    btn.textContent = '‚ùå Bank Failed';
                }
            }, 300);
        }
    </script>
</body>
</html>
