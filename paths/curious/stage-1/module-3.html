<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enter Bitcoin | The Curious Path</title>
    <meta name="description" content="Learn Bitcoin's origin story, how it solves money problems, and what makes it different from everything that came before.">

    <style>
        :root {
            --primary-orange: #f7931a;
            --primary-dark: #1a1a1a;
            --secondary-dark: #2d2d2d;
            --accent-green: #4caf50;
            --text-light: #e0e0e0;
            --text-dim: #999;
            --border-color: rgba(247, 147, 26, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--primary-dark);
            color: var(--text-light);
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Module Header */
        .module-header {
            background: var(--secondary-dark);
            border-bottom: 2px solid var(--primary-orange);
            padding: 1.5rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .breadcrumb {
            font-size: 0.85rem;
            color: var(--text-dim);
            margin-bottom: 0.5rem;
        }

        .breadcrumb a {
            color: var(--primary-orange);
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .module-title-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .module-title-section h1 {
            font-size: 1.75rem;
            color: var(--accent-green);
        }

        .module-meta {
            display: flex;
            gap: 1rem;
            font-size: 0.85rem;
            color: var(--text-dim);
        }

        /* Content Sections */
        .content-section {
            padding: 2.5rem 0;
            border-bottom: 1px solid var(--border-color);
        }

        .content-section:last-of-type {
            border-bottom: none;
        }

        .content-section h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--primary-orange);
        }

        .content-section p {
            margin-bottom: 1rem;
            color: var(--text-light);
        }

        /* Origin Story */
        .story-box {
            background: var(--secondary-dark);
            border-left: 4px solid var(--primary-orange);
            border-radius: 0.75rem;
            padding: 2rem;
            margin: 2rem 0;
        }

        .story-box blockquote {
            font-style: italic;
            color: var(--text-dim);
            margin: 1rem 0;
            padding-left: 1rem;
            border-left: 3px solid var(--border-color);
        }

        /* Comparison Table */
        .comparison-table {
            background: var(--secondary-dark);
            border-radius: 1rem;
            overflow: hidden;
            margin: 2rem 0;
            border: 2px solid var(--border-color);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .comparison-header {
            display: grid;
            grid-template-columns: 1.2fr 1.4fr 1.4fr;
            gap: 2px;
            background: var(--primary-dark);
            padding: 0;
        }

        .comparison-header > div {
            padding: 1.5rem 1rem;
            font-weight: 700;
            text-align: center;
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .comparison-header > div:first-child {
            background: linear-gradient(135deg, rgba(247, 147, 26, 0.3), rgba(247, 147, 26, 0.15));
            color: var(--primary-orange);
        }

        .comparison-header > div:nth-child(2) {
            background: linear-gradient(135deg, rgba(244, 67, 54, 0.25), rgba(244, 67, 54, 0.1));
            color: #ff6b6b;
        }

        .comparison-header > div:nth-child(3) {
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.25), rgba(76, 175, 80, 0.1));
            color: var(--accent-green);
        }

        .comparison-row {
            display: grid;
            grid-template-columns: 1.2fr 1.4fr 1.4fr;
            gap: 2px;
            background: var(--primary-dark);
            transition: all 0.3s ease;
        }

        .comparison-row:hover {
            transform: scale(1.01);
            box-shadow: 0 4px 16px rgba(247, 147, 26, 0.2);
        }

        .comparison-cell {
            text-align: center;
            padding: 1.5rem 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            min-height: 100px;
        }

        .comparison-cell.label {
            text-align: left;
            font-weight: 700;
            color: var(--primary-orange);
            font-size: 1.05rem;
            background: rgba(247, 147, 26, 0.05);
            align-items: flex-start;
            justify-content: center;
        }

        .comparison-cell:nth-child(2) {
            background: rgba(244, 67, 54, 0.08);
        }

        .comparison-cell:nth-child(3) {
            background: rgba(76, 175, 80, 0.08);
        }

        .comparison-check {
            color: var(--accent-green);
            font-size: 2.5rem;
            line-height: 1;
            filter: drop-shadow(0 2px 4px rgba(76, 175, 80, 0.3));
        }

        .comparison-x {
            color: #ff4444;
            font-size: 2.5rem;
            line-height: 1;
            filter: drop-shadow(0 2px 4px rgba(244, 67, 54, 0.3));
        }

        .comparison-cell > div {
            font-size: 0.95rem;
            color: var(--text-light);
            font-weight: 500;
        }

        /* Feature Cards */
        .feature-grid {
            display: grid;
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .feature-card {
            background: var(--secondary-dark);
            border: 2px solid var(--border-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            border-color: var(--primary-orange);
        }

        .feature-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .feature-icon {
            font-size: 2rem;
        }

        .feature-header h3 {
            color: var(--primary-orange);
        }

        .feature-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
        }

        .feature-vs {
            padding: 0.75rem;
            background: rgba(247, 147, 26, 0.1);
            border-radius: 0.5rem;
        }

        .feature-vs strong {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--primary-orange);
            font-size: 0.9rem;
        }

        .feature-vs p {
            font-size: 0.9rem;
            margin-bottom: 0;
        }

        /* Key Facts */
        .key-facts {
            background: linear-gradient(135deg, rgba(247, 147, 26, 0.2), rgba(247, 147, 26, 0.05));
            border: 2px solid var(--primary-orange);
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
        }

        .key-facts h3 {
            color: var(--primary-orange);
            margin-bottom: 1.5rem;
            font-size: 1.25rem;
        }

        .facts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }

        .fact-item {
            text-align: center;
        }

        .fact-value {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--primary-orange);
            margin-bottom: 0.5rem;
        }

        .fact-label {
            font-size: 0.9rem;
            color: var(--text-dim);
        }

        /* Takeaways */
        .takeaways {
            background: rgba(76, 175, 80, 0.1);
            border-left: 4px solid var(--accent-green);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .takeaways h3 {
            color: var(--accent-green);
            margin-bottom: 1rem;
        }

        .takeaways ul {
            list-style: none;
            padding-left: 0;
        }

        .takeaways li {
            padding-left: 1.5rem;
            margin-bottom: 0.5rem;
            position: relative;
        }

        .takeaways li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: var(--accent-green);
            font-weight: 700;
        }

        /* Quiz */
        .quiz-container {
            background: var(--secondary-dark);
            border: 2px solid var(--primary-orange);
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
        }

        .quiz-container h3 {
            color: var(--primary-orange);
            margin-bottom: 1.5rem;
            font-size: 1.25rem;
        }

        .quiz-question {
            margin-bottom: 2rem;
        }

        .quiz-question:last-child {
            margin-bottom: 0;
        }

        .quiz-question p {
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-light);
        }

        .quiz-options {
            display: grid;
            gap: 0.75rem;
        }

        .quiz-option {
            background: rgba(247, 147, 26, 0.1);
            border: 2px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            border-color: var(--primary-orange);
            background: rgba(247, 147, 26, 0.2);
        }

        .quiz-option.selected {
            border-color: var(--primary-orange);
            background: rgba(247, 147, 26, 0.2);
        }

        .quiz-option.correct {
            border-color: var(--accent-green);
            background: rgba(76, 175, 80, 0.2);
        }

        .quiz-option.incorrect {
            border-color: #f44336;
            background: rgba(244, 67, 54, 0.2);
        }

        .quiz-feedback {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 0.5rem;
            display: none;
        }

        .quiz-feedback.show {
            display: block;
        }

        .quiz-feedback.correct {
            background: rgba(76, 175, 80, 0.2);
            color: var(--accent-green);
        }

        .quiz-feedback.incorrect {
            background: rgba(244, 67, 54, 0.2);
            color: #ff6b6b;
        }

        .quiz-submit {
            background: var(--primary-orange);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1.5rem;
        }

        .quiz-submit:hover {
            background: #ff8c00;
        }

        .quiz-submit:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Completion Banner */
        .completion-banner {
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.3), rgba(76, 175, 80, 0.1));
            border: 3px solid var(--accent-green);
            border-radius: 1rem;
            padding: 2.5rem;
            margin: 2rem 0;
            text-align: center;
        }

        .completion-banner h3 {
            color: var(--accent-green);
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .badge {
            font-size: 4rem;
            margin: 1rem 0;
        }

        .completion-banner p {
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
        }

        .completion-stats {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 1.5rem 0;
        }

        .stat-item {
            text-align: center;
        }

        .stat-item strong {
            display: block;
            font-size: 1.5rem;
            color: var(--accent-green);
        }

        /* Navigation */
        .module-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 2rem 0;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 0.75rem 1.5rem;
            background: var(--primary-orange);
            color: white;
            text-decoration: none;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-block;
        }

        .nav-btn:hover {
            background: #ff8c00;
            transform: translateX(5px);
        }

        .nav-btn.disabled {
            opacity: 0.5;
            pointer-events: none;
        }

        .nav-btn-secondary {
            background: transparent;
            border: 2px solid var(--border-color);
            color: var(--text-light);
        }

        .nav-btn-secondary:hover {
            border-color: var(--primary-orange);
            background: rgba(247, 147, 26, 0.1);
            transform: translateX(-5px);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .module-title-section {
                flex-direction: column;
                align-items: flex-start;
            }

            .comparison-header,
            .comparison-row {
                grid-template-columns: 1fr;
                gap: 1px;
            }

            .comparison-header > div,
            .comparison-cell {
                text-align: center;
                padding: 1rem;
                min-height: auto;
            }

            .comparison-cell.label {
                font-size: 1rem;
                padding: 1rem;
                text-align: center;
                border-top: 2px solid var(--primary-orange);
                margin-top: 0.5rem;
            }

            .comparison-row:hover {
                transform: none;
            }

            .feature-comparison {
                grid-template-columns: 1fr;
            }

            .facts-grid {
                grid-template-columns: 1fr;
            }

            .completion-stats {
                flex-direction: column;
                gap: 1rem;
            }

            .module-navigation {
                flex-direction: column;
            }

            .nav-btn {
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Module Header -->
    <header class="module-header">
        <div class="container">
            <div class="breadcrumb">
                <a href="/">Home</a> →
                <a href="/paths/curious/">The Curious Path</a> →
                <a href="/paths/curious/stage-1/">Stage 1</a> →
                <span>Module 3</span>
            </div>
            <div class="module-title-section">
                <h1>Enter Bitcoin</h1>
                <div class="module-meta">
                    <span>⏱️ 25 minutes</span>
                    <span>📝 Quiz included</span>
                    <span>🎯 Key Concepts</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <div class="container">
            <!-- Transition: From Leak to Solution -->
            <!-- Section 1: From Broken Promises to Unbreakable Rules -->
            <section class="content-section">
                <h2 style="color: var(--primary-orange);">🪞 From Broken Promises to Unbreakable Rules</h2>

                <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                    For centuries, money worked only when people behaved.
                    We trusted bankers not to gamble, governments not to overspend, and institutions not to freeze accounts.
                </p>
                <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: 2rem;">
                    <strong>But time and again, they did.</strong>
                </p>

                <div style="margin: 2rem 0; padding: 2rem; background: linear-gradient(135deg, rgba(247, 147, 26, 0.1), rgba(156, 39, 176, 0.1)); border: 2px solid var(--primary-orange); border-radius: 1rem; text-align: center;">
                    <p style="font-size: 1.2rem; line-height: 1.9; margin: 0;">
                        <strong style="color: var(--primary-orange);">So the world faced a deeper question:</strong><br><br>
                        <span style="font-size: 1.3rem;">Can money exist without needing to trust anyone at all?</span>
                    </p>
                </div>
            </section>

            <!-- Section 2: Why Digital Scarcity Was Impossible -->
            <section class="content-section">
                <h2 style="color: var(--primary-orange);">🔐 Why Digital Scarcity Was Impossible</h2>

                <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                    In the digital world, anything can be copied—music, photos, even files pretending to be money.
                </p>
                <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: 1rem; color: var(--text-light);">
                    <strong>If digital money can be duplicated, who owns the "real" one?</strong>
                </p>
                <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 2rem; color: var(--text-dim);">
                    For decades, that unsolved problem—known as the <strong style="color: var(--primary-orange);">double-spend problem</strong>—stopped every attempt at digital cash.
                </p>

                <div style="margin: 2rem 0; padding: 1.5rem; background: rgba(76, 175, 80, 0.1); border-left: 4px solid var(--accent-green); border-radius: 0.75rem;">
                    <p style="font-size: 1.1rem; line-height: 1.8; margin: 0;">
                        <strong style="color: var(--accent-green);">Then in 2009, a pseudonymous developer named Satoshi Nakamoto solved it.</strong><br><br>
                        He combined cryptography, computer networks, and incentives to make the first system where <em style="color: var(--primary-orange);">rules, not rulers,</em> controlled the ledger.
                    </p>
                </div>
            </section>

            <!-- Section 3: A System That Runs on Rules, Not Rulers -->
            <section class="content-section">
                <h2 style="color: var(--primary-orange);">🧱 A System That Runs on Rules, Not Rulers</h2>

                <div style="margin: 2rem 0; padding: 2rem; background: rgba(33, 150, 243, 0.1); border-left: 4px solid #2196F3; border-radius: 1rem;">
                    <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                        <strong>January 3, 2009 —</strong> The first Bitcoin block was mined, embedding a headline about bank bailouts:
                    </p>
                    <blockquote style="margin: 1.5rem 0; padding: 1.25rem; background: rgba(0, 0, 0, 0.3); border-left: 4px solid var(--primary-orange); font-style: italic; font-size: 1.05rem;">
                        "The Times 03/Jan/2009 Chancellor on brink of second bailout for banks."
                    </blockquote>
                    <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                        It wasn't marketing; it was <strong style="color: var(--primary-orange);">context.</strong><br>
                        Bitcoin was built for a world where trust had failed.
                    </p>
                </div>

                <p style="font-size: 1.1rem; line-height: 1.8; margin: 2rem 0;">
                    <strong>Then Satoshi left.</strong> No company, no CEO, no central control.
                </p>
                <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                    What remained was open-source code anyone could verify, and a monetary policy no one could change.
                </p>
            </section>

            <!-- Section 4: How Bitcoin Seals the Three Leaks -->
            <section class="content-section">
                <h2 style="color: var(--primary-orange);">🔧 How Bitcoin Seals the Three Leaks</h2>
                <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 2rem; color: var(--text-dim);">
                    In Module 2, you discovered three leaks draining value from your money.<br>
                    Here's how Bitcoin seals each one—not through promises, but through design.
                </p>

                <!-- Comparison Table -->
                <div style="overflow-x: auto; margin: 2rem 0;">
                    <table style="width: 100%; border-collapse: collapse; background: var(--secondary-dark); border-radius: 1rem; overflow: hidden;">
                        <thead>
                            <tr style="background: rgba(247, 147, 26, 0.2);">
                                <th style="padding: 1rem; text-align: left; border-bottom: 2px solid var(--border-color); color: var(--primary-orange); font-size: 1.1rem;">Leak</th>
                                <th style="padding: 1rem; text-align: left; border-bottom: 2px solid var(--border-color); color: var(--text-dim);">Old System</th>
                                <th style="padding: 1rem; text-align: left; border-bottom: 2px solid var(--border-color); color: var(--accent-green);">Bitcoin's Fix</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid var(--border-color);">
                                <td style="padding: 1.25rem; vertical-align: top;">
                                    <strong style="color: #F44336; font-size: 1.1rem;">💧 Inflation</strong>
                                </td>
                                <td style="padding: 1.25rem; color: var(--text-dim);">
                                    Unlimited money creation
                                </td>
                                <td style="padding: 1.25rem; color: var(--accent-green);">
                                    <strong>Fixed 21M supply</strong> — math-enforced scarcity
                                </td>
                            </tr>
                            <tr style="border-bottom: 1px solid var(--border-color);">
                                <td style="padding: 1.25rem; vertical-align: top;">
                                    <strong style="color: #FF9800; font-size: 1.1rem;">🔧 Centralization</strong>
                                </td>
                                <td style="padding: 1.25rem; color: var(--text-dim);">
                                    Decisions by a few
                                </td>
                                <td style="padding: 1.25rem; color: var(--accent-green);">
                                    <strong>Thousands of independent nodes</strong> agree by consensus
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 1.25rem; vertical-align: top;">
                                    <strong style="color: var(--accent-green); font-size: 1.1rem;">🚫 Control</strong>
                                </td>
                                <td style="padding: 1.25rem; color: var(--text-dim);">
                                    Accounts can be frozen
                                </td>
                                <td style="padding: 1.25rem; color: var(--accent-green);">
                                    <strong>Ownership proven by private keys</strong> — no one can block a valid transaction
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Reflection Prompt -->
                <div style="margin: 2rem 0; padding: 1.5rem; background: rgba(156, 39, 176, 0.1); border-left: 4px solid #9C27B0; border-radius: 0.75rem;">
                    <p style="font-size: 1.05rem; line-height: 1.8; margin: 0;">
                        <strong style="color: #9C27B0;">💭 Reflection:</strong><br>
                        Which leak affects your life the most today—and who controls it?
                    </p>
                </div>
            </section>

            <!-- Section 5: Three Simple Rules -->
            <section class="content-section">
                <h2 style="color: var(--primary-orange);">💡 Three Simple Rules of Honest Money</h2>

                <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 2rem; color: var(--text-dim);">
                    Bitcoin rebuilt money around three simple rules:
                </p>

                <!-- Three Rules in Clean Cards -->
                <div style="display: grid; gap: 1.5rem; margin: 2rem 0;">
                    <!-- Rule 1 -->
                    <div style="padding: 1.5rem; background: linear-gradient(135deg, rgba(247, 147, 26, 0.1), rgba(247, 147, 26, 0.05)); border-left: 4px solid var(--primary-orange); border-radius: 0.75rem;">
                        <h3 style="color: var(--primary-orange); margin-bottom: 0.75rem; font-size: 1.2rem;">
                            <span style="font-size: 1.5rem;">🚫</span> No one can create more.
                        </h3>
                        <p style="font-size: 1.05rem; line-height: 1.8; margin: 0; color: var(--text-light);">
                            Fixed 21 million supply enforced by code—not promises or policies.
                        </p>
                    </div>

                    <!-- Rule 2 -->
                    <div style="padding: 1.5rem; background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), rgba(76, 175, 80, 0.05)); border-left: 4px solid var(--accent-green); border-radius: 0.75rem;">
                        <h3 style="color: var(--accent-green); margin-bottom: 0.75rem; font-size: 1.2rem;">
                            <span style="font-size: 1.5rem;">🔓</span> No one can block you.
                        </h3>
                        <p style="font-size: 1.05rem; line-height: 1.8; margin: 0; color: var(--text-light);">
                            True ownership through private keys. No freezes, no permission needed.
                        </p>
                    </div>

                    <!-- Rule 3 -->
                    <div style="padding: 1.5rem; background: linear-gradient(135deg, rgba(33, 150, 243, 0.1), rgba(33, 150, 243, 0.05)); border-left: 4px solid #2196F3; border-radius: 0.75rem;">
                        <h3 style="color: #2196F3; margin-bottom: 0.75rem; font-size: 1.2rem;">
                            <span style="font-size: 1.5rem;">🔍</span> Everyone can verify the truth.
                        </h3>
                        <p style="font-size: 1.05rem; line-height: 1.8; margin: 0; color: var(--text-light);">
                            Transparent ledger anyone can audit. Don't trust. Verify.
                        </p>
                    </div>
                </div>

                <div style="margin: 2.5rem 0; padding: 2rem; background: rgba(76, 175, 80, 0.1); border: 2px solid var(--accent-green); border-radius: 1rem; text-align: center;">
                    <p style="font-size: 1.15rem; line-height: 1.9; margin: 0; color: var(--text-light);">
                        <strong style="color: var(--accent-green);">It doesn't ask for trust. It lets you check for yourself.</strong>
                    </p>
                </div>
            </section>

            <!-- Section 6: Bridge to Next Module -->
            <section class="content-section">
                <div style="padding: 2.5rem; background: linear-gradient(135deg, rgba(247, 147, 26, 0.1), rgba(76, 175, 80, 0.1)); border: 2px solid var(--primary-orange); border-radius: 1rem; text-align: center;">
                    <p style="font-size: 1.1rem; line-height: 1.9; margin-bottom: 1.5rem; color: var(--text-light);">
                        <strong style="color: var(--text-dim);">In Module 2</strong>, you saw the leaks.<br>
                        <strong style="color: var(--primary-orange);">In this module</strong>, you met the system that sealed them.
                    </p>

                    <div style="border-top: 2px solid rgba(247, 147, 26, 0.3); margin: 2rem 0; padding-top: 2rem;">
                        <p style="font-size: 1.2rem; line-height: 1.9; margin: 0; color: var(--accent-green); font-weight: 600;">
                            Next, we'll open it up—<br>
                            <span style="font-size: 1.3rem;">how Bitcoin actually works</span> and why its design principles now inspire entire new layers of innovation.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Bitcoin vs Everything Else -->
            <section class="content-section">
                <h2>The Complete Comparison</h2>
                <p style="text-align: center; color: var(--text-dim); margin-bottom: 1rem;">
                    Remember the 6 properties of good money from Module 1?<br/>
                    Here's how Bitcoin and traditional money stack up across all of them.
                </p>

                <div class="comparison-table">
                    <div class="comparison-header">
                        <div>Property</div>
                        <div>❌ Traditional Money</div>
                        <div>✓ Bitcoin</div>
                    </div>

                    <div class="comparison-row">
                        <div class="comparison-cell label">💎 Scarcity</div>
                        <div class="comparison-cell">
                            <span class="comparison-x">✗</span>
                            <div>Unlimited supply</div>
                        </div>
                        <div class="comparison-cell">
                            <span class="comparison-check">✓</span>
                            <div>21 million cap</div>
                        </div>
                    </div>

                    <div class="comparison-row">
                        <div class="comparison-cell label">🛡️ Durability</div>
                        <div class="comparison-cell">
                            <span class="comparison-check">✓</span>
                            <div>Physical cash degrades</div>
                        </div>
                        <div class="comparison-cell">
                            <span class="comparison-check">✓</span>
                            <div>Digital, indestructible</div>
                        </div>
                    </div>

                    <div class="comparison-row">
                        <div class="comparison-cell label">🌍 Portability</div>
                        <div class="comparison-cell">
                            <span style="color: #FFA726; font-size: 2.5rem; line-height: 1;">~</span>
                            <div>Limited by banks</div>
                        </div>
                        <div class="comparison-cell">
                            <span class="comparison-check">✓</span>
                            <div>Global in minutes</div>
                        </div>
                    </div>

                    <div class="comparison-row">
                        <div class="comparison-cell label">✂️ Divisibility</div>
                        <div class="comparison-cell">
                            <span class="comparison-check">✓</span>
                            <div>To cents</div>
                        </div>
                        <div class="comparison-cell">
                            <span class="comparison-check">✓</span>
                            <div>To 100 millionths</div>
                        </div>
                    </div>

                    <div class="comparison-row">
                        <div class="comparison-cell label">🔍 Verifiability</div>
                        <div class="comparison-cell">
                            <span style="color: #FFA726; font-size: 2.5rem; line-height: 1;">~</span>
                            <div>Counterfeits exist</div>
                        </div>
                        <div class="comparison-cell">
                            <span class="comparison-check">✓</span>
                            <div>Mathematically verified</div>
                        </div>
                    </div>

                    <div class="comparison-row">
                        <div class="comparison-cell label">🚫 Censorship Resistance</div>
                        <div class="comparison-cell">
                            <span class="comparison-x">✗</span>
                            <div>Can be frozen/seized</div>
                        </div>
                        <div class="comparison-cell">
                            <span class="comparison-check">✓</span>
                            <div>Permissionless</div>
                        </div>
                    </div>

                    <div class="comparison-row">
                        <div class="comparison-cell label">📊 Transparency</div>
                        <div class="comparison-cell">
                            <span class="comparison-x">✗</span>
                            <div>Opaque system</div>
                        </div>
                        <div class="comparison-cell">
                            <span class="comparison-check">✓</span>
                            <div>Fully auditable</div>
                        </div>
                    </div>

                    <div class="comparison-row">
                        <div class="comparison-cell label">📈 Inflation Protection</div>
                        <div class="comparison-cell">
                            <span class="comparison-x">✗</span>
                            <div>Loses value yearly</div>
                        </div>
                        <div class="comparison-cell">
                            <span class="comparison-check">✓</span>
                            <div>Deflationary by design</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Key Takeaways -->
            <section class="content-section">
                <div class="takeaways">
                    <h3>🎯 Key Takeaways</h3>
                    <ul>
                        <li>Bitcoin was created in 2009 as a response to broken trust in traditional financial systems</li>
                        <li>Money you can trust: Fixed supply, public verification, and fraud-resistant design</li>
                        <li>Money you control: True ownership, decentralization, and 24/7 access with no permission</li>
                        <li>Money for everyone: Neutral rules enforced by math, accessible to anyone with internet</li>
                        <li>It isn't "digital dollars" — it's a complete rebuild of money around honesty, freedom, and access</li>
                    </ul>
                </div>
            </section>

            <!-- The Complete Story: Synthesis Across All Modules -->
            <section class="content-section">
                <div style="background: linear-gradient(135deg, rgba(247, 147, 26, 0.25), rgba(76, 175, 80, 0.15), rgba(33, 150, 243, 0.15)); border: 3px solid var(--primary-orange); border-radius: 1.5rem; padding: 3.5rem 2.5rem; margin: 3rem 0;">
                    <h2 style="color: var(--primary-orange); font-size: 2rem; margin-bottom: 2rem; text-align: center;">📖 The Complete Story</h2>

                    <div style="max-width: 800px; margin: 0 auto;">
                        <!-- Module 1 Summary -->
                        <div style="margin-bottom: 2.5rem; padding: 2rem; background: rgba(247, 147, 26, 0.1); border-left: 5px solid var(--primary-orange); border-radius: 0.75rem;">
                            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                                <span style="font-size: 2.5rem;">🌱</span>
                                <h3 style="color: var(--primary-orange); font-size: 1.3rem; margin: 0;">Module 1: Understanding Money</h3>
                            </div>
                            <p style="font-size: 1.05rem; line-height: 1.7; margin: 0;">
                                Money is your <strong style="color: var(--primary-orange);">time capsule for work</strong> — a way to store the value of your effort across time and space.
                                You learned the 6 properties that make good money: scarcity, durability, portability, divisibility, verifiability, and fungibility.
                            </p>
                        </div>

                        <!-- Module 2 Summary -->
                        <div style="margin-bottom: 2.5rem; padding: 2rem; background: rgba(244, 67, 54, 0.1); border-left: 5px solid #F44336; border-radius: 0.75rem;">
                            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                                <span style="font-size: 2.5rem;">💧</span>
                                <h3 style="color: #F44336; font-size: 1.3rem; margin: 0;">Module 2: Problems with Traditional Money</h3>
                            </div>
                            <p style="font-size: 1.05rem; line-height: 1.7; margin: 0;">
                                On August 15, 1971, your <strong style="color: #F44336;">time capsule started leaking</strong>. You discovered three leaks:
                                <strong>Inflation</strong> (💧 eroding your savings), <strong>Centralization</strong> (🔧 giving power to a few), and <strong>Control</strong> (🚫 limiting your freedom).
                                The problems aren't accidents — they're features of the system.
                            </p>
                        </div>

                        <!-- Module 3 Summary -->
                        <div style="margin-bottom: 2.5rem; padding: 2rem; background: rgba(76, 175, 80, 0.1); border-left: 5px solid var(--accent-green); border-radius: 0.75rem;">
                            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                                <span style="font-size: 2.5rem;">🔧</span>
                                <h3 style="color: var(--accent-green); font-size: 1.3rem; margin: 0;">Module 3: Bitcoin Seals the Leak</h3>
                            </div>
                            <p style="font-size: 1.05rem; line-height: 1.7; margin: 0;">
                                Bitcoin <strong style="color: var(--accent-green);">seals all three leaks permanently</strong> — not with promises, but with mathematics and code.
                                Fixed supply stops inflation. Decentralization removes central control. Cryptography ensures true ownership.
                                Your time capsule is sealed. Your work is protected.
                            </p>
                        </div>

                        <!-- The Arc Completion -->
                        <div style="text-align: center; margin-top: 3rem; padding: 2.5rem; background: linear-gradient(135deg, rgba(76, 175, 80, 0.2), rgba(76, 175, 80, 0.05)); border: 2px solid var(--accent-green); border-radius: 1rem;">
                            <p style="font-size: 1.4rem; line-height: 1.9; color: var(--text-light); margin: 0;">
                                <strong style="color: var(--accent-green); font-size: 1.5rem;">From broken trust to mathematical certainty.</strong><br/>
                                <span style="font-size: 1.15rem; color: var(--text-dim); margin-top: 1rem; display: block;">
                                    You've learned what money should be, discovered why it fails, and found how Bitcoin fixes it.<br/>
                                    <strong style="color: var(--primary-orange);">Now you're ready to understand HOW it works.</strong>
                                </span>
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Quiz -->
            <section class="content-section">
                <!-- Interactive Retention Activities -->
                <div class="retention-section">
                    <h3 style="text-align: center; margin-bottom: 2rem;">✨ Master Bitcoin Fundamentals</h3>

                    <!-- Activity 1: Prediction → Reveal (21 Million Cap) -->
                    <section id="predict-supply" class="card" style="padding: 2rem; margin-bottom: 2rem; background: var(--secondary-dark); border: 2px solid var(--primary-orange); border-radius: 1rem;">
                        <h4 style="margin-bottom: 1rem;">🔮 Predict First: The 21 Million Cap</h4>
                        <p style="margin-bottom: 1.5rem;">If Bitcoin's supply is capped at 21 million, what happens to its value as demand increases?</p>
                        <div class="chips" style="display: flex; flex-wrap: wrap; gap: 0.75rem; margin-bottom: 1.5rem;">
                            <button class="chip" data-pred="increase" style="padding: 0.75rem 1.5rem; background: rgba(247, 147, 26, 0.15); border: 2px solid var(--border-color); cursor: pointer; border-radius: 2rem; transition: all 0.2s;">Price increases (scarcity)</button>
                            <button class="chip" data-pred="stays" style="padding: 0.75rem 1.5rem; background: rgba(247, 147, 26, 0.15); border: 2px solid var(--border-color); cursor: pointer; border-radius: 2rem; transition: all 0.2s;">Price stays the same</button>
                            <button class="chip" data-pred="decrease" style="padding: 0.75rem 1.5rem; background: rgba(247, 147, 26, 0.15); border: 2px solid var(--border-color); cursor: pointer; border-radius: 2rem; transition: all 0.2s;">Price decreases</button>
                        </div>
                        <button id="reveal-supply" class="btn" style="background: var(--primary-orange); color: white; padding: 0.75rem 1.5rem; border: none; border-radius: 0.5rem; font-weight: 600; cursor: pointer; width: 100%; margin-bottom: 1rem;">Reveal Answer</button>
                        <p id="supply-feedback" class="muted" style="padding: 1rem; background: rgba(247, 147, 26, 0.05); border-radius: 0.5rem; min-height: 60px;"></p>
                        <div id="supply-viz" style="margin-top: 1rem; padding: 1.5rem; background: rgba(247, 147, 26, 0.05); border-radius: 0.5rem; display: none;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                                <strong style="color: var(--primary-orange);">Fixed Supply: 21M</strong>
                                <strong style="color: var(--accent-green);">Demand: Growing ↑</strong>
                            </div>
                            <div style="height: 8px; background: linear-gradient(90deg, var(--primary-orange), var(--accent-green)); border-radius: 4px;"></div>
                            <p style="margin-top: 1rem; text-align: center; font-size: 0.9rem; color: var(--muted);">Supply/Demand Economics: When supply is fixed and demand grows, price must rise</p>
                        </div>
                    </section>

                    <!-- Activity 2: Tap-to-Reveal (Bitcoin Facts) -->
                    <section style="margin-bottom: 2rem;">
                        <h4 style="margin-bottom: 1rem;">💡 Bitcoin Quick Facts</h4>
                        <p class="muted" style="margin-bottom: 1rem;">Test your recall before revealing:</p>
                        <div class="grid" style="display: grid; gap: 1rem; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));">
                            <article class="card tapcard" data-answer="January 3, 2009 — The Genesis Block contained a message about bank bailouts" style="padding: 1.5rem; cursor: pointer; background: var(--secondary-dark); border: 2px solid var(--border-color); border-radius: 0.75rem; transition: all 0.3s; min-height: 100px; display: flex; align-items: center; justify-content: center; text-align: center; font-weight: 500;">When was Bitcoin's <strong>Genesis Block</strong> mined?</article>
                            <article class="card tapcard" data-answer="NO ONE. Thousands of independent nodes enforce rules together. Satoshi disappeared in 2011." style="padding: 1.5rem; cursor: pointer; background: var(--secondary-dark); border: 2px solid var(--border-color); border-radius: 0.75rem; transition: all 0.3s; min-height: 100px; display: flex; align-items: center; justify-content: center; text-align: center; font-weight: 500;">Who <strong>controls</strong> Bitcoin?</article>
                            <article class="card tapcard" data-answer="Your private keys = your Bitcoin. No keys = no control (not your keys, not your coins)" style="padding: 1.5rem; cursor: pointer; background: var(--secondary-dark); border: 2px solid var(--border-color); border-radius: 0.75rem; transition: all 0.3s; min-height: 100px; display: flex; align-items: center; justify-content: center; text-align: center; font-weight: 500;">What does <strong>true ownership</strong> mean?</article>
                            <article class="card tapcard" data-answer="Prevents inflation forever. Unlike fiat (infinite printing), Bitcoin's scarcity is mathematically guaranteed." style="padding: 1.5rem; cursor: pointer; background: var(--secondary-dark); border: 2px solid var(--border-color); border-radius: 0.75rem; transition: all 0.3s; min-height: 100px; display: flex; align-items: center; justify-content: center; text-align: center; font-weight: 500;">Why does a <strong>fixed supply</strong> matter?</article>
                        </div>
                    </section>

                    <!-- Activity 3: Mini-Scenario (Centralized vs Decentralized) -->
                    <section id="scenario-control" class="card" style="padding: 2rem; background: var(--secondary-dark); border: 2px solid var(--primary-orange); border-radius: 1rem;">
                        <h4 style="margin-bottom: 1rem;">🎯 Scenario: Who Decides?</h4>
                        <p style="margin-bottom: 1.5rem;">A proposal is made to increase Bitcoin's supply to 42 million. What happens?</p>
                        <div class="chips" style="display: flex; flex-wrap: wrap; gap: 0.75rem; margin-bottom: 1rem;">
                            <button class="chip" data-act="ceo" style="padding: 0.75rem 1.25rem; background: rgba(247, 147, 26, 0.15); border: 2px solid var(--border-color); cursor: pointer; border-radius: 2rem; transition: all 0.2s;">CEO approves it</button>
                            <button class="chip" data-act="vote" style="padding: 0.75rem 1.25rem; background: rgba(247, 147, 26, 0.15); border: 2px solid var(--border-color); cursor: pointer; border-radius: 2rem; transition: all 0.2s;">Majority vote decides</button>
                            <button class="chip" data-act="reject" style="padding: 0.75rem 1.25rem; background: rgba(247, 147, 26, 0.15); border: 2px solid var(--border-color); cursor: pointer; border-radius: 2rem; transition: all 0.2s;">Network rejects it (rules unchanged)</button>
                        </div>
                        <div class="mt-3" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-top: 1.5rem;">
                            <div class="stat" style="text-align: center; padding: 1rem; background: rgba(247, 147, 26, 0.05); border-radius: 0.5rem;">
                                <strong id="g-centralized" style="font-size: 1.5rem; display: block; margin-bottom: 0.5rem;">?</strong>
                                <div style="font-size: 0.85rem; color: var(--muted);">Centralized Risk</div>
                            </div>
                            <div class="stat" style="text-align: center; padding: 1rem; background: rgba(247, 147, 26, 0.05); border-radius: 0.5rem;">
                                <strong id="g-trust" style="font-size: 1.5rem; display: block; margin-bottom: 0.5rem;">?</strong>
                                <div style="font-size: 0.85rem; color: var(--muted);">User Trust</div>
                            </div>
                            <div class="stat" style="text-align: center; padding: 1rem; background: rgba(247, 147, 26, 0.05); border-radius: 0.5rem;">
                                <strong id="g-integrity" style="font-size: 1.5rem; display: block; margin-bottom: 0.5rem;">?</strong>
                                <div style="font-size: 0.85rem; color: var(--muted);">Rule Integrity</div>
                            </div>
                        </div>
                        <p id="scenario-fb" class="muted" style="margin-top: 1rem; padding: 1rem; background: rgba(247, 147, 26, 0.05); border-radius: 0.5rem; min-height: 60px;"></p>
                    </section>
                </div>
            </section>

            <!-- Completion Banner (hidden initially) -->
            <div class="completion-banner" id="completion-banner" style="display: none;">
                <div class="badge">🏆</div>
                <h3>Congratulations! Module 3 Complete!</h3>
                <p>
                    You now understand what money is, why traditional money has problems, and how Bitcoin offers a solution.
                    Ready to understand HOW Bitcoin works before diving into the technical details?
                </p>
                <div class="completion-stats">
                    <div class="stat-item">
                        <strong>3/4</strong>
                        <span>Modules Complete</span>
                    </div>
                    <div class="stat-item">
                        <strong>~60 min</strong>
                        <span>Learning Time</span>
                    </div>
                    <div class="stat-item">
                        <strong>Stage 2</strong>
                        <span>Unlocked!</span>
                    </div>
                </div>
                <a href="../stage-2/" class="nav-btn" style="margin-top: 1rem; display: inline-block; background: linear-gradient(45deg, var(--accent-green), #66bb6a);">
                    Continue to Stage 2: How Bitcoin Works →
                </a>
            </div>

            <!-- Navigation -->
            <nav class="module-navigation">
                <a href="module-2-5.html" class="nav-btn nav-btn-secondary">← Previous: From Patches to Principles</a>
                <a href="../stage-2/" class="nav-btn" id="next-module" style="background: linear-gradient(45deg, var(--accent-green), #66bb6a);">Stage 2: How Bitcoin Works →</a>
            </nav>
        </div>
    </main>

    <script>
        // ===== INTERACTIVE RETENTION ACTIVITIES =====

        // Activity 1: Prediction → Reveal (21 Million Cap)
        (() => {
            const KEY = 'retention.predictSupply.v1';
            let choice = null;

            document.querySelectorAll('#predict-supply .chip').forEach(btn => {
                btn.addEventListener('click', () => {
                    choice = btn.dataset.pred;
                    btn.style.borderColor = 'var(--primary-orange)';
                    btn.style.background = 'rgba(247, 147, 26, 0.25)';
                    [...btn.parentElement.children].forEach(b => {
                        if (b !== btn) {
                            b.style.borderColor = 'var(--border-color)';
                            b.style.background = 'rgba(247, 147, 26, 0.15)';
                        }
                    });
                });
            });

            document.getElementById('reveal-supply').addEventListener('click', () => {
                const fb = document.getElementById('supply-feedback');
                const viz = document.getElementById('supply-viz');
                if (!choice) {
                    fb.textContent = 'Make a prediction first.';
                    fb.style.color = '#ff6b6b';
                    return;
                }
                const msg = (choice === 'increase')
                    ? '✓ Correct! Fixed supply + growing demand = rising price. This is basic supply/demand economics. Bitcoin can\'t be printed like fiat currency.'
                    : '✗ Close. Think about supply and demand: When something is scarce (21M cap) and more people want it (demand ↑), the price must rise. Bitcoin\'s scarcity is its superpower.';
                fb.innerHTML = msg;
                fb.style.color = choice === 'increase' ? 'var(--accent-green)' : '#ff6b6b';
                viz.style.display = 'block';
                localStorage.setItem(KEY, choice + ':' + msg);
                checkAllActivitiesComplete();
            });

            // Restore state
            if (localStorage.getItem(KEY)) {
                const [savedChoice, savedMsg] = localStorage.getItem(KEY).split(':');
                choice = savedChoice;
                document.getElementById('supply-feedback').innerHTML = savedMsg;
                document.getElementById('supply-viz').style.display = 'block';
            }
        })();

        // Activity 2: Tap-to-Reveal Cards
        (() => {
            document.querySelectorAll('.tapcard').forEach((el, i) => {
                const KEY = 'retention.s1m3.tapcard.' + i;

                // Restore state
                if (localStorage.getItem(KEY)) {
                    el.innerHTML = localStorage.getItem(KEY);
                    el.style.borderColor = 'var(--primary-orange)';
                    el.style.background = 'rgba(247, 147, 26, 0.1)';
                }

                el.addEventListener('click', () => {
                    const ans = '💡 ' + el.dataset.answer;
                    el.innerHTML = ans;
                    el.style.borderColor = 'var(--primary-orange)';
                    el.style.background = 'rgba(247, 147, 26, 0.1)';
                    localStorage.setItem(KEY, ans);
                    checkAllActivitiesComplete();
                });
            });
        })();

        // Activity 3: Mini-Scenario (Centralized vs Decentralized)
        (() => {
            const KEY = 'retention.scenarioControl.v1';
            const map = {
                ceo: { centralized: '🔴 High', trust: '🔻 Collapses', integrity: '❌ Broken', fb: '❌ Wrong. Bitcoin has NO CEO. This is precisely why it works — no single person can change the rules. Centralization = single point of failure.' },
                vote: { centralized: '🟡 Medium', trust: '⚠️ Weakens', integrity: '⚠️ Questionable', fb: '⚠️ Closer, but not quite. A simple majority vote could still change the rules. Bitcoin requires OVERWHELMING consensus (95%+) to change anything, making rule changes nearly impossible. This protects users.' },
                reject: { centralized: '✅ None', trust: '✅ Strengthens', integrity: '✅ Preserved', fb: '✅ Correct! The network would REJECT this change. Bitcoin\'s rules are enforced by thousands of independent nodes. Changing the 21M cap would require near-universal agreement (which will never happen). This is why Bitcoin is "trustless" — the code is law.' },
            };

            document.querySelectorAll('#scenario-control .chip').forEach(btn => {
                btn.addEventListener('click', () => {
                    const a = map[btn.dataset.act];
                    document.getElementById('g-centralized').textContent = a.centralized;
                    document.getElementById('g-trust').textContent = a.trust;
                    document.getElementById('g-integrity').textContent = a.integrity;
                    document.getElementById('scenario-fb').innerHTML = a.fb;
                    document.getElementById('scenario-fb').style.background = btn.dataset.act === 'reject' ? 'rgba(76, 175, 80, 0.15)' : 'rgba(255, 107, 107, 0.15)';
                    document.getElementById('scenario-fb').style.borderLeft = btn.dataset.act === 'reject' ? '4px solid var(--accent-green)' : '4px solid #ff6b6b';
                    localStorage.setItem(KEY, btn.dataset.act);
                    checkAllActivitiesComplete();
                });
            });

            // Restore state
            if (localStorage.getItem(KEY)) {
                const savedAct = localStorage.getItem(KEY);
                const a = map[savedAct];
                document.getElementById('g-centralized').textContent = a.centralized;
                document.getElementById('g-trust').textContent = a.trust;
                document.getElementById('g-integrity').textContent = a.integrity;
                document.getElementById('scenario-fb').innerHTML = a.fb;
            }
        })();

        // Check if all activities completed
        function checkAllActivitiesComplete() {
            const activity1 = localStorage.getItem('retention.predictSupply.v1');
            const activity2 = document.querySelectorAll('.tapcard').length === 4 &&
                            localStorage.getItem('retention.s1m3.tapcard.0') &&
                            localStorage.getItem('retention.s1m3.tapcard.1') &&
                            localStorage.getItem('retention.s1m3.tapcard.2') &&
                            localStorage.getItem('retention.s1m3.tapcard.3');
            const activity3 = localStorage.getItem('retention.scenarioControl.v1');

            if (activity1 && activity2 && activity3) {
                saveProgress();

                // Show completion banner
                document.getElementById('completion-banner').style.display = 'block';

                // Scroll to completion banner
                if (!localStorage.getItem('retention.s1m3.scrolled')) {
                    setTimeout(() => {
                        document.getElementById('completion-banner').scrollIntoView({ behavior: 'smooth', block: 'center' });
                        localStorage.setItem('retention.s1m3.scrolled', 'true');
                    }, 500);
                }
            }
        }

        // Check on page load
        checkAllActivitiesComplete();

        function saveProgress() {
            const progress = JSON.parse(localStorage.getItem('learningProgress') || '{}');

            if (!progress.completedModules) {
                progress.completedModules = [];
            }

            if (!progress.completedModules.includes('curious-1-3')) {
                progress.completedModules.push('curious-1-3');
            }

            // Mark Stage 1 as complete
            if (!progress.completedStages) {
                progress.completedStages = [];
            }
            if (!progress.completedStages.includes('curious-1')) {
                progress.completedStages.push('curious-1');
            }

            // Award badge
            if (!progress.badges) {
                progress.badges = [];
            }
            if (!progress.badges.includes('understanding-money')) {
                progress.badges.push('understanding-money');
            }

            progress.lastActivity = new Date().toISOString();
            progress.path = 'curious';
            progress.currentStage = 2;
            progress.currentModule = 1;

            localStorage.setItem('learningProgress', JSON.stringify(progress));
        }

        function checkProgress() {
            const progress = JSON.parse(localStorage.getItem('learningProgress') || '{}');
            const completedModules = progress.completedModules || [];

            if (completedModules.includes('curious-1-3')) {
                document.getElementById('completion-banner').style.display = 'block';

                const notice = document.createElement('div');
                notice.style.background = 'rgba(76, 175, 80, 0.2)';
                notice.style.padding = '1rem';
                notice.style.borderRadius = '0.5rem';
                notice.style.color = 'var(--accent-green)';
                notice.style.textAlign = 'center';
                notice.style.marginBottom = '2rem';
                notice.textContent = '✓ You\'ve already completed this module and earned your Stage 1 badge!';

                document.querySelector('.container').insertBefore(notice, document.querySelector('.content-section'));
            }
        }

        checkProgress();
    </script>
    <script src="/js/module-gate.js" defer></script>
</body>
</html>
