<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 1.2: Entropy and Corruption | The Principled Path</title>
    <meta name="description" content="Everything decays without constant energy input ‚Äî including institutions, currencies, and trust.">

    <style>
        :root {
            --primary-orange: #f7931a;
            --primary-dark: #1a1a1a;
            --secondary-dark: #2d2d2d;
            --accent-gold: #DAA520;
            --accent-bronze: #8B6F47;
            --text-light: #e0e0e0;
            --text-dim: #999;
            --border-color: rgba(218, 165, 32, 0.2);
            --accent-green: #4caf50;
            --accent-red: #ef4444;
            --accent-orange: #ff9800;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0f0f0f 100%);
            color: var(--text-light);
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Navigation */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
        }

        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.25rem;
            background: rgba(218, 165, 32, 0.1);
            border: 2px solid var(--accent-gold);
            border-radius: 0.5rem;
            color: var(--accent-gold);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.2s ease;
        }

        .back-button:hover {
            background: rgba(218, 165, 32, 0.2);
            transform: translateX(-3px);
        }

        /* Module Header */
        .module-header {
            text-align: center;
            padding: 3rem 2rem;
            background: radial-gradient(circle at center, rgba(218, 165, 32, 0.15) 0%, transparent 70%);
            border-radius: 1.5rem;
            margin-bottom: 3rem;
        }

        .module-number {
            font-size: 1.2rem;
            color: var(--accent-gold);
            opacity: 0.7;
            margin-bottom: 0.5rem;
        }

        .module-header h1 {
            font-size: 2.5rem;
            color: var(--accent-gold);
            margin-bottom: 1rem;
        }

        .module-subtitle {
            font-size: 1.3rem;
            color: var(--text-dim);
            font-style: italic;
        }

        /* Content Sections */
        .content-section {
            background: var(--secondary-dark);
            border: 2px solid var(--border-color);
            border-radius: 1rem;
            padding: 2.5rem;
            margin: 2rem 0;
        }

        .content-section h2 {
            color: var(--accent-gold);
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
        }

        .content-section p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 1.5rem;
        }

        .key-insight {
            background: rgba(218, 165, 32, 0.1);
            border-left: 4px solid var(--accent-gold);
            padding: 1.5rem;
            margin: 2rem 0;
            border-radius: 0.5rem;
        }

        .key-insight-title {
            color: var(--accent-gold);
            font-weight: 700;
            margin-bottom: 0.75rem;
            font-size: 1.1rem;
        }

        /* Interactive Demo */
        .demo-section {
            background: var(--secondary-dark);
            border: 3px solid var(--accent-gold);
            border-radius: 1rem;
            padding: 2.5rem;
            margin: 3rem 0;
        }

        .demo-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .demo-header h3 {
            color: var(--accent-gold);
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .demo-description {
            color: var(--text-dim);
            font-size: 1.05rem;
        }

        .demo-canvas {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid var(--border-color);
            border-radius: 0.75rem;
            padding: 2rem;
            margin: 2rem 0;
        }

        .institution-display {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .institution-card {
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid var(--border-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .institution-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .institution-name {
            font-weight: 700;
            color: var(--accent-gold);
            margin-bottom: 0.5rem;
        }

        .integrity-meter {
            margin: 1rem 0;
        }

        .integrity-label {
            font-size: 0.85rem;
            color: var(--text-dim);
            margin-bottom: 0.5rem;
        }

        .integrity-bar {
            width: 100%;
            height: 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid var(--border-color);
        }

        .integrity-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-green), #8bc34a);
            transition: all 0.8s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 700;
            color: #000;
        }

        .integrity-fill.degraded {
            background: linear-gradient(90deg, #ffaa00, #ff9800);
        }

        .integrity-fill.corrupted {
            background: linear-gradient(90deg, #ef4444, #dc2626);
        }

        .timeline-display {
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin: 2rem 0;
            text-align: center;
        }

        .timeline-year {
            font-size: 2rem;
            color: var(--accent-gold);
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .timeline-description {
            color: var(--text-dim);
            font-size: 1rem;
        }

        .demo-controls {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin: 2rem 0;
        }

        .demo-button {
            padding: 1rem 2rem;
            background: linear-gradient(135deg, var(--accent-gold), var(--accent-bronze));
            color: white;
            border: none;
            border-radius: 0.5rem;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .demo-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(218, 165, 32, 0.4);
        }

        .demo-button.secondary {
            background: rgba(218, 165, 32, 0.2);
            border: 2px solid var(--accent-gold);
            color: var(--accent-gold);
        }

        .demo-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            pointer-events: none;
        }

        .demo-output {
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
            min-height: 80px;
        }

        .output-message {
            color: var(--text-light);
            font-size: 1.05rem;
            margin: 0.5rem 0;
        }

        .output-warning {
            color: #ffaa00;
            font-weight: 600;
        }

        .output-danger {
            color: var(--accent-red);
            font-weight: 700;
        }

        /* Socratic Questions */
        .socratic-section {
            background: linear-gradient(135deg, rgba(218, 165, 32, 0.1), rgba(139, 111, 71, 0.1));
            border: 2px solid var(--accent-gold);
            border-radius: 1rem;
            padding: 2.5rem;
            margin: 3rem 0;
        }

        .socratic-section h3 {
            color: var(--accent-gold);
            font-size: 1.6rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .question-card {
            background: var(--secondary-dark);
            border: 1px solid var(--border-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .question-number {
            color: var(--accent-gold);
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .question-text {
            font-size: 1.1rem;
            color: var(--text-light);
            margin-bottom: 1rem;
            line-height: 1.7;
        }

        .reflection-area {
            width: 100%;
            min-height: 100px;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 1rem;
            color: var(--text-light);
            font-family: inherit;
            font-size: 1rem;
            resize: vertical;
        }

        .reflection-area:focus {
            outline: none;
            border-color: var(--accent-gold);
        }

        /* Navigation Footer */
        .module-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 3rem 0;
            padding: 2rem;
            background: var(--secondary-dark);
            border-radius: 1rem;
        }

        .nav-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, var(--accent-gold), var(--accent-bronze));
            color: white;
            border-radius: 0.5rem;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(218, 165, 32, 0.4);
        }

        .progress-indicator {
            text-align: center;
            color: var(--text-dim);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .institution-display {
                grid-template-columns: 1fr;
            }

            .demo-controls {
                grid-template-columns: 1fr;
            }

            .module-header h1 {
                font-size: 2rem;
            }

            .module-nav {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Navigation -->
        <div class="nav-buttons">
            <a href="/paths/principled/stage-1/" class="back-button">
                ‚Üê Back to Stage 1
            </a>
        </div>

        <!-- Module Header -->
        <header class="module-header">
            <div class="module-number">Stage 1 ‚Ä¢ Module 2</div>
            <h1>Entropy and Corruption</h1>
            <p class="module-subtitle">Everything decays without constant energy input</p>
        </header>

        <!-- Introduction -->
        <section class="content-section">
            <h2>The Second Law of Thermodynamics</h2>
            <p>
                The Second Law of Thermodynamics states that <strong>entropy always increases</strong> in closed systems.
                Order decays into disorder. Structures crumble. Organization dissolves into chaos.
            </p>
            <p>
                This isn't pessimism ‚Äî it's physics. A sandcastle erodes. A car rusts. A building crumbles.
                Maintaining order requires <strong>constant energy input</strong>. Without it, decay is inevitable.
            </p>

            <div class="key-insight">
                <div class="key-insight-title">üå™Ô∏è Core Principle</div>
                <p>
                    Institutions, like all systems, tend toward disorder. Corruption isn't a moral failure ‚Äî it's the thermodynamic default.
                    Without constant vigilance and energy input (accountability, transparency, enforcement), institutions decay.
                </p>
            </div>
        </section>

        <!-- The Problem -->
        <section class="content-section">
            <h2>Institutional Decay is Inevitable</h2>
            <p>
                A central bank begins with a noble mission: stabilize prices, ensure full employment. But over time,
                without external accountability, incentives drift. Power concentrates. Rules bend. The institution serves itself.
            </p>
            <p>
                This happens everywhere: governments, corporations, universities, even charities. The pattern is universal:
            </p>
            <p>
                <strong>Year 0:</strong> Pure mission, strong principles, public trust.<br>
                <strong>Year 20:</strong> Internal politics emerge, rules stretch, minor compromises.<br>
                <strong>Year 50:</strong> Original mission forgotten, self-preservation dominates, corruption normalized.<br>
                <strong>Year 100:</strong> Complete capture by special interests. The institution exists to perpetuate itself.
            </p>

            <div class="key-insight">
                <div class="key-insight-title">üèõÔ∏è The Iron Law of Institutions</div>
                <p>
                    People in institutions prioritize the institution's survival over its stated mission.
                    The longer an institution exists without external constraints, the more it serves insiders rather than outsiders.
                </p>
            </div>
        </section>

        <!-- Interactive Demo -->
        <section class="demo-section">
            <div class="demo-header">
                <h3>üéÆ Interactive Lab: Institutional Decay Simulator</h3>
                <p class="demo-description">
                    Watch three institutions decay over time without accountability. See how entropy affects trust,
                    rules, and integrity as years pass.
                </p>
            </div>

            <div class="demo-canvas">
                <div class="timeline-display">
                    <div class="timeline-year" id="yearDisplay">Year 0</div>
                    <div class="timeline-description" id="eraDescription">Founding Era: Institutions newly established with strong principles</div>
                </div>

                <div class="institution-display">
                    <div class="institution-card">
                        <div class="institution-icon">üè¶</div>
                        <div class="institution-name">Central Bank</div>
                        <div class="integrity-meter">
                            <div class="integrity-label">Integrity</div>
                            <div class="integrity-bar">
                                <div class="integrity-fill" id="bankIntegrity" style="width: 100%;">100%</div>
                            </div>
                        </div>
                    </div>

                    <div class="institution-card">
                        <div class="institution-icon">‚öñÔ∏è</div>
                        <div class="institution-name">Judiciary</div>
                        <div class="integrity-meter">
                            <div class="integrity-label">Integrity</div>
                            <div class="integrity-bar">
                                <div class="integrity-fill" id="judiciaryIntegrity" style="width: 100%;">100%</div>
                            </div>
                        </div>
                    </div>

                    <div class="institution-card">
                        <div class="institution-icon">üìú</div>
                        <div class="institution-name">Legislature</div>
                        <div class="integrity-meter">
                            <div class="integrity-label">Integrity</div>
                            <div class="integrity-bar">
                                <div class="integrity-fill" id="legislatureIntegrity" style="width: 100%;">100%</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="demo-controls">
                    <button class="demo-button" onclick="advanceTime()">
                        ‚è© Advance 25 Years
                    </button>
                    <button class="demo-button secondary" onclick="resetSimulation()">
                        üîÑ Reset Simulation
                    </button>
                    <button class="demo-button" onclick="applyAccountability()">
                        üîç Apply External Accountability
                    </button>
                    <button class="demo-button secondary" onclick="autoplay()" id="autoplayBtn">
                        ‚ñ∂Ô∏è Auto-Run Simulation
                    </button>
                </div>

                <div class="demo-output" id="demoOutput">
                    <div class="output-message">Click "Advance 25 Years" to see entropy in action...</div>
                </div>
            </div>

            <div class="key-insight">
                <div class="key-insight-title">üí° What You're Seeing</div>
                <p>
                    Without external accountability, institutions inevitably decay. Integrity drops as entropy increases.
                    Applying accountability (transparency, immutable rules, public verification) slows or reverses decay.
                    Bitcoin achieves permanent accountability through code ‚Äî no human discretion required.
                </p>
            </div>
        </section>

        <!-- Bitcoin's Solution -->
        <section class="content-section">
            <h2>Bitcoin: Entropy-Resistant Money</h2>
            <p>
                Bitcoin doesn't fight entropy with human vigilance. It encodes resistance into the protocol itself.
                The rules are <strong>immutable</strong>. No central bank can inflate supply. No institution can override consensus.
            </p>
            <p>
                Every 10 minutes, thousands of nodes verify compliance. If you violate the rules, your transaction is rejected.
                There is no appeals process, no emergency powers, no "this time is different."
            </p>
            <p>
                The system maintains order not through energy-intensive human oversight, but through elegant incentive alignment
                and cryptographic proof. Entropy cannot corrupt what humans cannot change.
            </p>

            <div class="key-insight">
                <div class="key-insight-title">‚Çø Bitcoin's Elegant Solution</div>
                <p>
                    Bitcoin replaces corruptible institutions with incorruptible code. The Second Law still applies,
                    but the system is designed so that maintaining integrity costs less energy than breaking it.
                    Proof-of-work makes honesty the thermodynamically efficient path.
                </p>
            </div>
        </section>

        <!-- Socratic Questions -->
        <section class="socratic-section">
            <h3>üí¨ Reflect on What You've Learned</h3>
            <p style="text-align: center; color: var(--text-dim); margin-bottom: 2rem;">
                Take a moment to think deeply about these questions. Your answers will be saved locally.
            </p>

            <div class="question-card">
                <div class="question-number">Question 1</div>
                <div class="question-text">
                    If entropy guarantees that institutions decay over time, why do we keep trusting human-run institutions with our money?
                    What would a truly entropy-resistant system look like?
                </div>
                <textarea class="reflection-area" id="question1" placeholder="Type your thoughts here..."></textarea>
            </div>

            <div class="question-card">
                <div class="question-number">Question 2</div>
                <div class="question-text">
                    Can corruption ever be permanently eliminated from human institutions? Why or why not?
                    What role does discretion play in enabling decay?
                </div>
                <textarea class="reflection-area" id="question2" placeholder="Type your thoughts here..."></textarea>
            </div>

            <div class="question-card">
                <div class="question-number">Question 3</div>
                <div class="question-text">
                    Bitcoin's protocol is maintained by thousands of independent nodes enforcing identical rules.
                    How does this design resist entropy better than a central authority with discretionary power?
                </div>
                <textarea class="reflection-area" id="question3" placeholder="Type your thoughts here..."></textarea>
            </div>

            <button class="demo-button" onclick="saveReflections()" style="margin-top: 1.5rem; width: 100%;">
                üíæ Save My Reflections
            </button>
        </section>

        <!-- Module Navigation -->
        <nav class="module-nav">
            <a href="/paths/principled/stage-1/module-1.html" class="nav-link">
                ‚Üê Previous: Conservation of Value
            </a>
            <div class="progress-indicator">
                Module 2 of 3 ‚Ä¢ Stage 1 of 5
            </div>
            <a href="/paths/principled/stage-1/module-3.html" class="nav-link">
                Next: The Role of Rules ‚Üí
            </a>
        </nav>
    </div>

    <script>
        // Simulation State
        let simState = {
            year: 0,
            bankIntegrity: 100,
            judiciaryIntegrity: 100,
            legislatureIntegrity: 100,
            accountabilityApplied: false,
            autoplayInterval: null
        };

        // Advance time by 25 years
        function advanceTime() {
            simState.year += 25;

            // Entropy decay rates (exponential)
            const decayFactor = simState.accountabilityApplied ? 0.5 : 1.0;

            simState.bankIntegrity = Math.max(0, simState.bankIntegrity - (8 * decayFactor));
            simState.judiciaryIntegrity = Math.max(0, simState.judiciaryIntegrity - (6 * decayFactor));
            simState.legislatureIntegrity = Math.max(0, simState.legislatureIntegrity - (10 * decayFactor));

            updateDisplay();
            analyzeState();
        }

        // Apply external accountability
        function applyAccountability() {
            if (simState.accountabilityApplied) {
                return;
            }

            simState.accountabilityApplied = true;

            // Restore some integrity
            simState.bankIntegrity = Math.min(100, simState.bankIntegrity + 20);
            simState.judiciaryIntegrity = Math.min(100, simState.judiciaryIntegrity + 20);
            simState.legislatureIntegrity = Math.min(100, simState.legislatureIntegrity + 20);

            updateDisplay();

            const output = document.getElementById('demoOutput');
            output.innerHTML = `
                <div class="output-message" style="color: var(--accent-green);">
                    ‚úÖ External accountability mechanisms applied!
                </div>
                <div class="output-message">
                    Transparency requirements, public audits, and immutable rules now slow decay.
                    Notice how integrity stabilizes but still faces entropy pressure.
                </div>
            `;
        }

        // Reset simulation
        function resetSimulation() {
            simState = {
                year: 0,
                bankIntegrity: 100,
                judiciaryIntegrity: 100,
                legislatureIntegrity: 100,
                accountabilityApplied: false,
                autoplayInterval: null
            };

            if (simState.autoplayInterval) {
                clearInterval(simState.autoplayInterval);
                document.getElementById('autoplayBtn').textContent = '‚ñ∂Ô∏è Auto-Run Simulation';
            }

            updateDisplay();
            document.getElementById('demoOutput').innerHTML = `
                <div class="output-message">Simulation reset. Click "Advance 25 Years" to see entropy in action...</div>
            `;
        }

        // Auto-run simulation
        function autoplay() {
            if (simState.autoplayInterval) {
                clearInterval(simState.autoplayInterval);
                simState.autoplayInterval = null;
                document.getElementById('autoplayBtn').textContent = '‚ñ∂Ô∏è Auto-Run Simulation';
            } else {
                simState.autoplayInterval = setInterval(() => {
                    if (simState.year >= 200) {
                        clearInterval(simState.autoplayInterval);
                        simState.autoplayInterval = null;
                        document.getElementById('autoplayBtn').textContent = '‚ñ∂Ô∏è Auto-Run Simulation';
                        return;
                    }
                    advanceTime();
                }, 1500);
                document.getElementById('autoplayBtn').textContent = '‚è∏Ô∏è Pause Simulation';
            }
        }

        // Update display
        function updateDisplay() {
            // Update year
            document.getElementById('yearDisplay').textContent = `Year ${simState.year}`;

            // Update era description
            let eraDesc = '';
            if (simState.year === 0) {
                eraDesc = 'Founding Era: Institutions newly established with strong principles';
            } else if (simState.year <= 50) {
                eraDesc = 'Early Period: Minor compromises, internal politics emerging';
            } else if (simState.year <= 100) {
                eraDesc = 'Mature Period: Mission drift accelerating, self-preservation dominates';
            } else if (simState.year <= 150) {
                eraDesc = 'Decline Period: Original purpose obscured, corruption normalized';
            } else {
                eraDesc = 'Capture Period: Institutions serve insiders exclusively';
            }
            document.getElementById('eraDescription').textContent = eraDesc;

            // Update integrity meters
            updateMeter('bankIntegrity', simState.bankIntegrity);
            updateMeter('judiciaryIntegrity', simState.judiciaryIntegrity);
            updateMeter('legislatureIntegrity', simState.legislatureIntegrity);
        }

        function updateMeter(id, value) {
            const meter = document.getElementById(id);
            meter.style.width = value + '%';
            meter.textContent = Math.round(value) + '%';

            // Update color based on integrity
            meter.className = 'integrity-fill';
            if (value < 40) {
                meter.classList.add('corrupted');
            } else if (value < 70) {
                meter.classList.add('degraded');
            }
        }

        function analyzeState() {
            const output = document.getElementById('demoOutput');
            const avgIntegrity = (simState.bankIntegrity + simState.judiciaryIntegrity + simState.legislatureIntegrity) / 3;

            let message = '';

            if (avgIntegrity > 80) {
                message = `
                    <div class="output-message" style="color: var(--accent-green);">
                        ‚úÖ Institutions remain largely trustworthy
                    </div>
                    <div class="output-message">
                        Year ${simState.year}: Average integrity ${Math.round(avgIntegrity)}%.
                        Early signs of entropy, but core mission intact.
                    </div>
                `;
            } else if (avgIntegrity > 50) {
                message = `
                    <div class="output-warning">
                        ‚ö†Ô∏è Significant institutional decay detected
                    </div>
                    <div class="output-message">
                        Year ${simState.year}: Average integrity ${Math.round(avgIntegrity)}%.
                        Rules bending, special interests gaining influence, public trust eroding.
                    </div>
                `;
            } else if (avgIntegrity > 20) {
                message = `
                    <div class="output-danger">
                        üö® Severe institutional corruption
                    </div>
                    <div class="output-message">
                        Year ${simState.year}: Average integrity ${Math.round(avgIntegrity)}%.
                        Institutions serve insiders, original mission abandoned, entropy winning.
                    </div>
                `;
            } else {
                message = `
                    <div class="output-danger">
                        üíÄ Complete institutional capture
                    </div>
                    <div class="output-message">
                        Year ${simState.year}: Average integrity ${Math.round(avgIntegrity)}%.
                        Total collapse. Institutions exist only to perpetuate themselves. Reform impossible.
                    </div>
                `;
            }

            output.innerHTML = message;
        }

        // Save reflections
        function saveReflections() {
            const reflections = {
                module: 'stage1-module2',
                timestamp: new Date().toISOString(),
                q1: document.getElementById('question1').value,
                q2: document.getElementById('question2').value,
                q3: document.getElementById('question3').value
            };

            localStorage.setItem('principled_stage1_module2_reflections', JSON.stringify(reflections));

            // Mark module as completed
            let progress = JSON.parse(localStorage.getItem('principled_stage1_progress') || '[]');
            if (!progress.includes('module-2')) {
                progress.push('module-2');
                localStorage.setItem('principled_stage1_progress', JSON.stringify(progress));
            }

            alert('‚úÖ Your reflections have been saved!\n\nModule 2 marked as complete. Continue to Module 3.');
        }

        // Load saved reflections
        window.addEventListener('DOMContentLoaded', () => {
            const saved = localStorage.getItem('principled_stage1_module2_reflections');
            if (saved) {
                const reflections = JSON.parse(saved);
                document.getElementById('question1').value = reflections.q1 || '';
                document.getElementById('question2').value = reflections.q2 || '';
                document.getElementById('question3').value = reflections.q3 || '';
            }
        });
    </script>
</body>
</html>
