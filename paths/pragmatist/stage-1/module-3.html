<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitcoin Transactions | The Pragmatist Path</title>

    <!-- Theme Styles -->
    <link rel="stylesheet" href="/css/pragmatist-theme.css">
</head>
<body>
    <!-- Module Header -->
    <div class="module-header">
        <div class="container">
            <div class="breadcrumb">
                <a href="/paths/pragmatist/">‚Üê Back to Pragmatist Path</a> / Stage 1 / Module 3
            </div>
            <div class="module-title">
                <h1>‚ö° Bitcoin Transactions</h1>
                <div class="module-meta">
                    <span>‚è±Ô∏è 25 minutes</span>
                    <span>üìä Difficulty: Beginner</span>
                    <span>üéØ 15 Knowledge Points</span>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Introduction -->
        <div class="content-section">
            <h2>How Bitcoin Moves</h2>
            <p>A Bitcoin transaction is a transfer of value from one Bitcoin address to another. Unlike traditional banking, Bitcoin transactions are:</p>

            <ul style="margin-left: 2rem; color: var(--text-light);">
                <li>‚úÖ <strong>Peer-to-peer:</strong> No middleman required</li>
                <li>‚úÖ <strong>Irreversible:</strong> No chargebacks (once confirmed)</li>
                <li>‚úÖ <strong>Transparent:</strong> All transactions visible on the blockchain</li>
                <li>‚úÖ <strong>Pseudonymous:</strong> Addresses don't reveal real identity</li>
                <li>‚úÖ <strong>Global:</strong> Send to anyone, anywhere, 24/7</li>
            </ul>

            <div class="highlight-box">
                <p><strong>‚ö° Key Difference:</strong></p>
                <p>Unlike banks that can reverse transactions, freeze accounts, or reject transfers, Bitcoin transactions are final and censorship-resistant. Once a transaction is confirmed, it's part of an immutable record.</p>
            </div>
        </div>

        <!-- Transaction Anatomy -->
        <div class="content-section">
            <h2>Anatomy of a Transaction</h2>
            <p>Every Bitcoin transaction consists of three main parts:</p>

            <h3>1. Inputs üì•</h3>
            <p>The Bitcoin you're spending (from previous transactions you received)</p>

            <h3>2. Outputs üì§</h3>
            <p>The recipient address(es) and amount(s) being sent</p>

            <h3>3. Transaction Fee üí∞</h3>
            <p>Payment to miners for including your transaction in a block</p>

            <div class="highlight-box warning">
                <p><strong>üîÑ UTXO Model:</strong></p>
                <p>Bitcoin uses a "Unspent Transaction Output" (UTXO) model. Think of it like having different bills in your physical wallet - you can't split a $20 bill, you have to use the whole thing. If you want to send $5, you use the $20 and get $15 back as "change".</p>
            </div>
        </div>

        <!-- Transaction Fees -->
        <div class="content-section">
            <h2>üí∏ Transaction Fees Explained</h2>
            <p>Transaction fees in Bitcoin are <strong>not fixed</strong> - they work like an auction. You pay miners to include your transaction in the next block.</p>

            <h3>How Fees Work</h3>
            <p>Fees are measured in <strong>satoshis per virtual byte (sat/vB)</strong>. The larger your transaction data (not the amount sent!), the more you pay.</p>

            <div style="margin: 2rem 0; background: var(--medium-gray); border-radius: 1rem; padding: 2rem;">
                <h3 style="text-align: center; margin-bottom: 2rem; color: var(--bright-yellow);">Current Fee Levels</h3>

                <!-- High Priority -->
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: rgba(0, 255, 0, 0.1); border: 2px solid var(--status-green); border-radius: 0.5rem; margin-bottom: 1rem;">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <span style="font-size: 2rem;">üü¢</span>
                        <div>
                            <strong style="color: var(--status-green); font-size: 1.2rem;">High Priority</strong>
                            <p style="margin: 0; color: var(--text-gray); font-size: 0.9rem;">Next block (~10 min)</p>
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-size: 1.5rem; font-weight: bold; color: var(--status-green);">50+ sat/vB</div>
                        <div style="color: var(--text-gray); font-size: 0.9rem;">~$5-$15</div>
                    </div>
                </div>

                <!-- Medium Priority -->
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: rgba(255, 255, 0, 0.1); border: 2px solid var(--status-yellow); border-radius: 0.5rem; margin-bottom: 1rem;">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <span style="font-size: 2rem;">üü°</span>
                        <div>
                            <strong style="color: var(--status-yellow); font-size: 1.2rem;">Medium Priority</strong>
                            <p style="margin: 0; color: var(--text-gray); font-size: 0.9rem;">Within 3 blocks (~30 min)</p>
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-size: 1.5rem; font-weight: bold; color: var(--status-yellow);">20-50 sat/vB</div>
                        <div style="color: var(--text-gray); font-size: 0.9rem;">~$2-$5</div>
                    </div>
                </div>

                <!-- Low Priority -->
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: rgba(255, 140, 0, 0.1); border: 2px solid var(--status-orange); border-radius: 0.5rem; margin-bottom: 1rem;">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <span style="font-size: 2rem;">üü†</span>
                        <div>
                            <strong style="color: var(--status-orange); font-size: 1.2rem;">Low Priority</strong>
                            <p style="margin: 0; color: var(--text-gray); font-size: 0.9rem;">Within 6 blocks (~1 hour)</p>
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-size: 1.5rem; font-weight: bold; color: var(--status-orange);">10-20 sat/vB</div>
                        <div style="color: var(--text-gray); font-size: 0.9rem;">~$1-$2</div>
                    </div>
                </div>

                <!-- No Hurry -->
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: rgba(255, 0, 0, 0.1); border: 2px solid var(--status-red); border-radius: 0.5rem;">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <span style="font-size: 2rem;">üî¥</span>
                        <div>
                            <strong style="color: var(--status-red); font-size: 1.2rem;">No Hurry</strong>
                            <p style="margin: 0; color: var(--text-gray); font-size: 0.9rem;">Hours to days</p>
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-size: 1.5rem; font-weight: bold; color: var(--status-red);">1-10 sat/vB</div>
                        <div style="color: var(--text-gray); font-size: 0.9rem;">~$0.50-$1</div>
                    </div>
                </div>

                <p style="margin-top: 1.5rem; text-align: center; color: var(--text-dim); font-size: 0.9rem;">
                    * Fees vary based on network congestion. Check live fee estimates before sending.
                </p>
            </div>

            <div class="highlight-box success">
                <p><strong>üí° Pro Tip:</strong> Most wallets let you choose your fee level. Unless you're in a rush, use low-priority fees to save money. Your transaction will still confirm, just a bit slower.</p>
            </div>
        </div>

        <!-- Confirmations -->
        <div class="content-section">
            <h2>‚úÖ Confirmations</h2>
            <p>A "confirmation" means your transaction has been included in a block on the blockchain. More confirmations = more security.</p>

            <div style="margin: 2rem 0;">
                <div style="margin-bottom: 1.5rem;">
                    <div style="display: flex; align-items: center; margin-bottom: 0.5rem;">
                        <strong style="color: var(--bright-orange); font-size: 1.1rem;">0 Confirmations</strong>
                        <span style="margin-left: auto; color: var(--status-red);">‚ö†Ô∏è Unconfirmed</span>
                    </div>
                    <p style="color: var(--text-gray); margin-left: 1rem;">In mempool, waiting for miners. Can potentially be double-spent.</p>
                </div>

                <div style="margin-bottom: 1.5rem;">
                    <div style="display: flex; align-items: center; margin-bottom: 0.5rem;">
                        <strong style="color: var(--bright-orange); font-size: 1.1rem;">1 Confirmation</strong>
                        <span style="margin-left: auto; color: var(--status-yellow);">üü° Low Risk</span>
                    </div>
                    <p style="color: var(--text-gray); margin-left: 1rem;">In the latest block. Acceptable for small amounts ($0-$1,000).</p>
                </div>

                <div style="margin-bottom: 1.5rem;">
                    <div style="display: flex; align-items: center; margin-bottom: 0.5rem;">
                        <strong style="color: var(--bright-orange); font-size: 1.1rem;">3 Confirmations</strong>
                        <span style="margin-left: auto; color: var(--status-orange);">üü† Medium Risk</span>
                    </div>
                    <p style="color: var(--text-gray); margin-left: 1rem;">Standard for most transactions. ~30 minutes.</p>
                </div>

                <div>
                    <div style="display: flex; align-items: center; margin-bottom: 0.5rem;">
                        <strong style="color: var(--bright-orange); font-size: 1.1rem;">6+ Confirmations</strong>
                        <span style="margin-left: auto; color: var(--status-green);">üü¢ Very Secure</span>
                    </div>
                    <p style="color: var(--text-gray); margin-left: 1rem;">Standard for large amounts or exchanges. ~1 hour. Practically irreversible.</p>
                </div>
            </div>

            <div class="highlight-box">
                <p><strong>üìä Math Behind It:</strong> Each confirmation adds another block on top of yours. To reverse a transaction with 6 confirmations, an attacker would need more computing power than the entire Bitcoin network - essentially impossible.</p>
            </div>
        </div>

        <!-- Transaction Types -->
        <div class="content-section">
            <h2>Types of Transactions</h2>

            <h3>‚ö° Lightning Network (Instant & Free)</h3>
            <div class="highlight-box success">
                <p>For small, frequent payments, the Lightning Network is a "Layer 2" solution built on top of Bitcoin:</p>
                <ul style="margin-left: 2rem; color: var(--text-light);">
                    <li>‚úÖ Instant confirmation (sub-second)</li>
                    <li>‚úÖ Near-zero fees (fractions of a cent)</li>
                    <li>‚úÖ Perfect for daily purchases</li>
                    <li>‚ö†Ô∏è Requires Lightning-enabled wallet</li>
                </ul>
            </div>

            <!-- Interactive Lightning Demo -->
            <div style="background: linear-gradient(135deg, rgba(255, 193, 7, 0.15), rgba(255, 193, 7, 0.05)); border: 2px solid #FFC107; border-radius: 1rem; padding: 1.5rem; margin: 1.5rem 0;">
                <div style="display: grid; grid-template-columns: auto 1fr auto; gap: 1rem; align-items: center;">
                    <div style="font-size: 2.5rem;">‚ö°</div>
                    <div>
                        <h4 style="color: #FFC107; margin: 0 0 0.5rem 0;">See Lightning in Action</h4>
                        <p style="margin: 0 0 0.5rem; color: var(--text-light); font-size: 0.95rem;">
                            Watch Bitcoin move at light speed! Interactive 2-phone demo showing instant settlement with millisecond precision.
                        </p>
                        <div style="color: var(--text-gray); font-size: 0.85rem;">
                            ‚úì Real-time animation &nbsp;‚Ä¢&nbsp; Visual comparison &nbsp;‚Ä¢&nbsp; Coffee purchase example
                        </div>
                    </div>
                    <a href="/interactive-demos/lightning-instant-demo.html" style="display: inline-block; padding: 0.875rem 1.25rem; background: linear-gradient(135deg, #FFC107, #FFA000); color: #000; text-decoration: none; border-radius: 0.5rem; font-weight: 600; white-space: nowrap; transition: all 0.3s; box-shadow: 0 4px 12px rgba(255, 193, 7, 0.3);">
                        Watch Demo ‚Üí
                    </a>
                </div>
            </div>

            <h3>üîó On-Chain (Standard Bitcoin)</h3>
            <p>Regular Bitcoin transactions recorded directly on the blockchain:</p>
            <ul style="margin-left: 2rem; color: var(--text-light);">
                <li>‚úÖ Maximum security</li>
                <li>‚úÖ No intermediaries needed</li>
                <li>‚úÖ Best for large amounts or savings</li>
                <li>‚ö†Ô∏è Higher fees during network congestion</li>
                <li>‚ö†Ô∏è 10+ minute confirmation time</li>
            </ul>
        </div>

        <!-- Best Practices -->
        <div class="content-section">
            <h2>üíé Transaction Best Practices</h2>

            <div class="highlight-box success">
                <p><strong>‚úÖ DO:</strong></p>
                <ul style="margin-left: 2rem; color: var(--text-light);">
                    <li>Double-check the recipient address before sending</li>
                    <li>Use SegWit (bc1) addresses for lower fees</li>
                    <li>Send a test transaction first for large amounts</li>
                    <li>Use Lightning for small, frequent payments</li>
                    <li>Check current fee rates before sending</li>
                    <li>Wait for confirmations before considering payment final</li>
                </ul>
            </div>

            <div class="highlight-box danger">
                <p><strong>‚ö†Ô∏è DON'T:</strong></p>
                <ul style="margin-left: 2rem; color: var(--text-light);">
                    <li>Rush - double-check everything</li>
                    <li>Trust 0-confirmation for large amounts</li>
                    <li>Assume all transactions are instant (unless Lightning)</li>
                    <li>Send to untested or suspicious addresses</li>
                    <li>Panic if a transaction is delayed - it will confirm</li>
                </ul>
            </div>
        </div>

        <!-- Testnet Practice Section -->
        <div class="content-section" style="background: linear-gradient(135deg, rgba(0, 255, 0, 0.1), rgba(0, 200, 0, 0.05)); border: 3px solid var(--status-green);">
            <h2 style="text-align: center;">üß™ Practice with Real Testnet Bitcoin</h2>
            <p style="text-align: center; margin-bottom: 2rem;">Learn by doing! Use real Bitcoin testnets with no financial risk.</p>

            <div style="background: var(--medium-gray); border-radius: 1rem; padding: 2rem;">
                <h3 style="color: var(--bright-yellow); margin-bottom: 1.5rem;">üìã Testnet Practice Checklist</h3>

                <!-- Step 1 -->
                <div style="margin-bottom: 1.5rem; padding: 1.5rem; background: var(--dark-gray); border-radius: 0.5rem; border-left: 4px solid var(--status-green);">
                    <div style="display: flex; align-items: start; gap: 1rem;">
                        <div style="min-width: 40px; height: 40px; background: var(--status-green); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: black; font-weight: bold; font-size: 1.2rem;">1</div>
                        <div style="flex: 1;">
                            <h4 style="color: var(--status-green); margin-bottom: 0.75rem;">Get a Testnet Wallet</h4>
                            <p style="margin-bottom: 1rem;">Download a Bitcoin testnet wallet on your phone or computer.</p>
                            <div style="display: flex; flex-wrap: wrap; gap: 0.75rem;">
                                <a href="https://bluewallet.io/" target="_blank" class="btn-secondary" style="text-decoration: none; padding: 0.75rem 1.5rem; background: var(--medium-gray); color: var(--text-light); border: 2px solid var(--light-gray); border-radius: 0.5rem;">üì± BlueWallet</a>
                                <a href="https://sparrowwallet.com/" target="_blank" class="btn-secondary" style="text-decoration: none; padding: 0.75rem 1.5rem; background: var(--medium-gray); color: var(--text-light); border: 2px solid var(--light-gray); border-radius: 0.5rem;">üíª Sparrow</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 2 -->
                <div style="margin-bottom: 1.5rem; padding: 1.5rem; background: var(--dark-gray); border-radius: 0.5rem; border-left: 4px solid var(--status-yellow);">
                    <div style="display: flex; align-items: start; gap: 1rem;">
                        <div style="min-width: 40px; height: 40px; background: var(--status-yellow); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: black; font-weight: bold; font-size: 1.2rem;">2</div>
                        <div style="flex: 1;">
                            <h4 style="color: var(--status-yellow); margin-bottom: 0.75rem;">Get Free Testnet Bitcoin</h4>
                            <p style="margin-bottom: 1rem;">Use a testnet faucet to get free test coins (worthless, just for practice).</p>
                            <div style="display: flex; flex-wrap: wrap; gap: 0.75rem;">
                                <a href="https://testnet-faucet.mempool.co/" target="_blank" class="btn-secondary" style="text-decoration: none; padding: 0.75rem 1.5rem; background: var(--medium-gray); color: var(--text-light); border: 2px solid var(--light-gray); border-radius: 0.5rem;">üíß Mempool Faucet</a>
                                <a href="https://bitcoinfaucet.uo1.net/" target="_blank" class="btn-secondary" style="text-decoration: none; padding: 0.75rem 1.5rem; background: var(--medium-gray); color: var(--text-light); border: 2px solid var(--light-gray); border-radius: 0.5rem;">üíß UO1 Faucet</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 3 -->
                <div style="margin-bottom: 1.5rem; padding: 1.5rem; background: var(--dark-gray); border-radius: 0.5rem; border-left: 4px solid var(--status-orange);">
                    <div style="display: flex; align-items: start; gap: 1rem;">
                        <div style="min-width: 40px; height: 40px; background: var(--status-orange); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: black; font-weight: bold; font-size: 1.2rem;">3</div>
                        <div style="flex: 1;">
                            <h4 style="color: var(--status-orange); margin-bottom: 0.75rem;">Make Your First Transaction</h4>
                            <p style="margin-bottom: 0.5rem;">Send testnet Bitcoin to yourself or a friend:</p>
                            <ul style="margin-left: 1.5rem; color: var(--text-light);">
                                <li>Generate a new receiving address</li>
                                <li>Send some testnet BTC to it</li>
                                <li>Watch it appear in the mempool</li>
                                <li>Wait for 1+ confirmations</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Step 4 -->
                <div style="padding: 1.5rem; background: var(--dark-gray); border-radius: 0.5rem; border-left: 4px solid var(--status-green);">
                    <div style="display: flex; align-items: start; gap: 1rem;">
                        <div style="min-width: 40px; height: 40px; background: var(--status-green); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: black; font-weight: bold; font-size: 1.2rem;">4</div>
                        <div style="flex: 1;">
                            <h4 style="color: var(--status-green); margin-bottom: 0.75rem;">Explore Transaction Details</h4>
                            <p style="margin-bottom: 0.5rem;">View your transaction on a block explorer:</p>
                            <div style="margin-top: 1rem;">
                                <a href="https://mempool.space/testnet" target="_blank" class="btn-secondary" style="text-decoration: none; padding: 0.75rem 1.5rem; background: var(--medium-gray); color: var(--text-light); border: 2px solid var(--light-gray); border-radius: 0.5rem;">üîç Mempool.space Testnet Explorer</a>
                            </div>
                            <p style="margin-top: 1rem; font-size: 0.9rem; color: var(--text-gray);">See fees, confirmations, inputs/outputs, and block details in real-time!</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="highlight-box success" style="margin-top: 2rem;">
                <p><strong>üí° Why Practice on Testnet?</strong></p>
                <p>Testnet Bitcoin has no real value, so you can experiment without risking money. It works exactly like mainnet Bitcoin, giving you real experience with transactions, fees, and confirmations.</p>
            </div>
        </div>

        <!-- Quiz Section -->
        <div class="quiz-container">
            <h2 style="text-align: center; margin-bottom: 2rem; background: linear-gradient(135deg, var(--bright-orange), var(--bright-yellow)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
                üéØ Knowledge Check
            </h2>

            <!-- Question 1 -->
            <div class="quiz-question" id="question-1">
                <h3>Question 1: What determines Bitcoin transaction fees?</h3>
                <div class="quiz-options">
                    <button class="quiz-option" onclick="answerQuestion(1, 'A', false)">
                        <strong>A)</strong> The amount of Bitcoin being sent
                    </button>
                    <button class="quiz-option" onclick="answerQuestion(1, 'B', true)">
                        <strong>B)</strong> The size of the transaction in bytes and network demand
                    </button>
                    <button class="quiz-option" onclick="answerQuestion(1, 'C', false)">
                        <strong>C)</strong> A fixed fee set by Bitcoin Core developers
                    </button>
                </div>
            </div>

            <!-- Question 2 -->
            <div class="quiz-question hidden" id="question-2">
                <h3>Question 2: How many confirmations are considered very secure for large transactions?</h3>
                <div class="quiz-options">
                    <button class="quiz-option" onclick="answerQuestion(2, 'A', false)">
                        <strong>A)</strong> 1 confirmation
                    </button>
                    <button class="quiz-option" onclick="answerQuestion(2, 'B', false)">
                        <strong>B)</strong> 3 confirmations
                    </button>
                    <button class="quiz-option" onclick="answerQuestion(2, 'C', true)">
                        <strong>C)</strong> 6 or more confirmations
                    </button>
                </div>
            </div>

            <!-- Question 3 -->
            <div class="quiz-question hidden" id="question-3">
                <h3>Question 3: What is the Lightning Network best used for?</h3>
                <div class="quiz-options">
                    <button class="quiz-option" onclick="answerQuestion(3, 'A', false)">
                        <strong>A)</strong> Long-term Bitcoin savings
                    </button>
                    <button class="quiz-option" onclick="answerQuestion(3, 'B', true)">
                        <strong>B)</strong> Instant, low-fee small payments
                    </button>
                    <button class="quiz-option" onclick="answerQuestion(3, 'C', false)">
                        <strong>C)</strong> Large business transactions requiring maximum security
                    </button>
                </div>
            </div>

            <!-- Quiz Results -->
            <div id="quiz-results" class="hidden" style="text-align: center; padding: 2rem;">
                <h3 style="color: var(--bright-yellow); font-size: 2rem; margin-bottom: 1rem;">Quiz Complete!</h3>
                <p style="font-size: 1.5rem; margin-bottom: 2rem;">
                    You scored <span id="score" style="color: var(--bright-orange); font-weight: bold;">0</span>/3
                </p>
                <div id="quiz-feedback"></div>
            </div>
        </div>

        <!-- Complete Module Button -->
        <div style="text-align: center; margin: 3rem 0;">
            <button id="complete-btn" class="btn" disabled onclick="completeModule()">
                üîí Complete Quiz First
            </button>
            <p style="margin-top: 1rem; color: var(--text-dim);">Answer all quiz questions correctly to unlock</p>
        </div>
    </div>

    <script>
        // Progress tracking
        window.pragmatistProgress = {
            data: JSON.parse(localStorage.getItem('pragmatist-progress')) || {
                completedModules: [],
                knowledgeScore: 0,
                achievements: [],
                timeSpent: 0,
                startTime: Date.now()
            },
            save: function() {
                localStorage.setItem('pragmatist-progress', JSON.stringify(this.data));
            }
        };

        // Quiz state
        let quizState = {
            currentQuestion: 1,
            correctAnswers: 0,
            totalQuestions: 3
        };

        function answerQuestion(questionNum, selectedAnswer, isCorrect) {
            const questionDiv = document.getElementById(`question-${questionNum}`);
            const options = questionDiv.querySelectorAll('.quiz-option');

            options.forEach(option => {
                option.disabled = true;
                if (option.textContent.trim().startsWith(`${selectedAnswer})`)) {
                    if (isCorrect) {
                        option.classList.add('correct');
                        quizState.correctAnswers++;
                    } else {
                        option.classList.add('incorrect');
                    }
                }
            });

            setTimeout(() => {
                if (questionNum < quizState.totalQuestions) {
                    questionDiv.classList.add('hidden');
                    document.getElementById(`question-${questionNum + 1}`).classList.remove('hidden');
                } else {
                    showQuizResults();
                }
            }, 1500);
        }

        function showQuizResults() {
            document.getElementById('question-3').classList.add('hidden');

            const resultsDiv = document.getElementById('quiz-results');
            const scoreSpan = document.getElementById('score');
            const feedbackDiv = document.getElementById('quiz-feedback');

            scoreSpan.textContent = quizState.correctAnswers;
            resultsDiv.classList.remove('hidden');

            if (quizState.correctAnswers === 3) {
                feedbackDiv.innerHTML = `
                    <p style="color: var(--status-green); font-size: 1.2rem; margin-bottom: 1rem;">
                        üéâ Perfect score! You understand Bitcoin transactions!
                    </p>
                    <p style="color: var(--text-gray);">
                        You've earned <strong style="color: var(--bright-orange);">+15 Knowledge Points</strong>
                    </p>
                `;
                unlockCompleteButton();
            } else if (quizState.correctAnswers >= 2) {
                feedbackDiv.innerHTML = `
                    <p style="color: var(--status-yellow); font-size: 1.2rem; margin-bottom: 1rem;">
                        ‚úÖ Good job! You passed!
                    </p>
                    <p style="color: var(--text-gray);">
                        You've earned <strong style="color: var(--bright-orange);">+15 Knowledge Points</strong>
                    </p>
                `;
                unlockCompleteButton();
            } else {
                feedbackDiv.innerHTML = `
                    <p style="color: var(--status-red); font-size: 1.2rem; margin-bottom: 1rem;">
                        ‚ùå You need at least 2/3 correct to pass.
                    </p>
                    <p style="color: var(--text-gray);">
                        <a href="#" onclick="location.reload()" style="color: var(--bright-orange);">Try again</a> to master this module!
                    </p>
                `;
            }
        }

        function unlockCompleteButton() {
            const btn = document.getElementById('complete-btn');
            btn.disabled = false;
            btn.textContent = '‚úÖ Complete Module & Earn Achievement';
            btn.style.cursor = 'pointer';
        }

        function completeModule() {
            if (!window.pragmatistProgress.data.completedModules.includes('1-3')) {
                window.pragmatistProgress.data.completedModules.push('1-3');
                window.pragmatistProgress.data.knowledgeScore += 15;

                // Stage 1 Complete achievement
                if (window.pragmatistProgress.data.completedModules.filter(m => m.startsWith('1-')).length === 3) {
                    if (!window.pragmatistProgress.data.achievements.includes('stage-1-complete')) {
                        window.pragmatistProgress.data.achievements.push('stage-1-complete');
                    }
                }

                window.pragmatistProgress.save();

                showAchievement('Transaction Master', 'Mastered Bitcoin transactions!', '‚ö°');

                setTimeout(() => {
                    window.location.href = '/paths/pragmatist/stage-2/module-4.html';
                }, 2000);
            }
        }

        function showAchievement(title, description, icon) {
            const notification = document.createElement('div');
            notification.className = 'achievement-notification';
            notification.innerHTML = `
                <div class="achievement-icon">${icon}</div>
                <div class="achievement-title">${title}</div>
                <div style="color: var(--text-gray); font-size: 1.2rem;">${description}</div>
                <div style="margin-top: 1rem; color: var(--bright-orange); font-weight: bold;">
                    +15 Knowledge Points
                </div>
            `;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        document.querySelectorAll('.hidden').forEach(el => {
            el.style.display = 'none';
        });
    </script>

    <style>
        .hidden {
            display: none !important;
        }

        .quiz-option:disabled {
            cursor: not-allowed;
        }
    </style>
</body>
</html>
