<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitcoin Wallets | The Pragmatist Path</title>

    <!-- Theme Styles -->
    <link rel="stylesheet" href="/css/pragmatist-theme.css">
    <link rel="stylesheet" href="/css/quiz.css">
    <script src="/js/subdomain-access-control.js"></script>
    <script src="/js/module-gate-subdomain.js"></script>
</head>
<body>
    <!-- Module Header -->
    <div class="module-header">
        <div class="container">
            <div class="breadcrumb">
                <a href="/paths/pragmatist/">← Back to Pragmatist Path</a> / Stage 1 / Module 2
            </div>
            <div class="module-title">
                <h1>💼 Bitcoin Wallets</h1>
                <div class="module-meta">
                    <span>⏱️ 20 minutes</span>
                    <span>📊 Difficulty: Beginner</span>
                    <span>🎯 15 Knowledge Points</span>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Introduction -->
        <section class="content-section">
            <h2>🔧 Your Control Panel for the Bitcoin Network</h2>
            <p>
                In traditional finance, you <em>rent access</em> to your money.<br>
                In Bitcoin, you <strong>own the access itself</strong>.
            </p>

            <p>
                A wallet isn't just an app — it's your control panel for the Bitcoin network.<br>
                No branch, no bank, no business hours. Just you and the network.
            </p>

            <div class="highlight-box">
                <p><strong>💡 The Shift:</strong></p>
                <p>The moment you hold your own keys, you move from being a <em>user</em> of money to an <em>operator</em> of it.</p>
                <p style="margin-top: 1rem;">This comes with both power and responsibility.</p>
            </div>

            <p style="margin-top: 1.5rem; font-style: italic; color: var(--text-dim);">
                <strong>Reflection:</strong> If the internet gave you control of your data, what happens when you gain control of your money?
            </p>
        </section>

        <!-- Lockbox Analogy -->
        <section class="content-section">
            <h2>🔐 The Lockbox System</h2>
            <p>Think of Bitcoin as a <strong>global vault network</strong>.</p>

            <p>
                Your wallet doesn't hold coins inside — it holds the <strong>keys</strong> that unlock your specific vaults on the Bitcoin ledger.
            </p>

            <p>
                Whoever has those keys has the power to move the funds.<br>
                No exceptions. No support team. No password reset.
            </p>

            <div class="highlight-box">
                <p><strong>🔑 The Core Principle:</strong></p>
                <p>Your private key = your authorization to move coins.</p>
                <ul style="margin-top: 1rem; margin-left: 1.5rem;">
                    <li><strong>Lose it</strong> → you lose access</li>
                    <li><strong>Give it away</strong> → you give away control</li>
                    <li><strong>Protect it</strong> → you protect your funds</li>
                </ul>
            </div>
        </section>

        <!-- Wallet Types -->
        <section class="content-section">
            <h2>🛠️ Wallet Types — Choose Like an Engineer</h2>
            <p>Every wallet setup trades <strong>convenience for security</strong>. Pragmatists optimize both, not one.</p>

            <table style="width: 100%; border-collapse: collapse; margin: 2rem 0;">
                <thead>
                    <tr style="background: var(--secondary-dark);">
                        <th style="padding: 1rem; text-align: left; border: 1px solid var(--border-color);">Type</th>
                        <th style="padding: 1rem; text-align: left; border: 1px solid var(--border-color);">Use Case</th>
                        <th style="padding: 1rem; text-align: left; border: 1px solid var(--border-color);">Pros</th>
                        <th style="padding: 1rem; text-align: left; border: 1px solid var(--border-color);">Cautions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);"><strong>🧊 Hardware Wallets</strong></td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);">Long-term savings</td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color); color: var(--status-green);">Offline, tamper-resistant</td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color); color: var(--status-yellow);">Requires setup discipline</td>
                    </tr>
                    <tr style="background: var(--bg-dark);">
                        <td style="padding: 1rem; border: 1px solid var(--border-color);"><strong>📱 Mobile Wallets</strong></td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);">Daily transactions</td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color); color: var(--status-green);">Fast, portable</td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color); color: var(--status-yellow);">Less secure if phone is hacked</td>
                    </tr>
                    <tr>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);"><strong>💻 Desktop Wallets</strong></td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);">Mid-level storage</td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color); color: var(--status-green);">Good visibility, more tools</td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color); color: var(--status-yellow);">Needs computer hygiene</td>
                    </tr>
                    <tr style="background: var(--bg-dark);">
                        <td style="padding: 1rem; border: 1px solid var(--border-color);"><strong>🌐 Exchange / Web Wallets</strong></td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);">Active trading only</td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color); color: var(--status-green);">Instant trades</td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color); color: var(--status-red);">Zero control, counterparty risk</td>
                    </tr>
                </tbody>
            </table>

            <div class="highlight-box">
                <p><strong>💡 Principle:</strong></p>
                <p>Treat Bitcoin storage like cybersecurity: separate <strong>"hot"</strong> (daily use) from <strong>"cold"</strong> (long-term).</p>
            </div>
        </section>

        <!-- Security vs Convenience -->
        <section class="content-section">
            <h2>⚖️ Security vs. Convenience — Pro Section</h2>
            <p>Every setup trades convenience for security. Pragmatists optimize both, not one.</p>

            <table style="width: 100%; border-collapse: collapse; margin: 2rem 0;">
                <thead>
                    <tr style="background: var(--secondary-dark);">
                        <th style="padding: 1rem; text-align: left; border: 1px solid var(--border-color);">Amount Stored</th>
                        <th style="padding: 1rem; text-align: left; border: 1px solid var(--border-color);">Best Practice</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);"><strong style="color: var(--status-green);">&lt;$1,000</strong></td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);">📱 Mobile wallet (BlueWallet, Muun)</td>
                    </tr>
                    <tr style="background: var(--bg-dark);">
                        <td style="padding: 1rem; border: 1px solid var(--border-color);"><strong style="color: var(--status-yellow);">$1K–$10K</strong></td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);">💻 Desktop wallet (Sparrow, Electrum)</td>
                    </tr>
                    <tr>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);"><strong style="color: var(--status-orange);">&gt;$10K</strong></td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);">🧊 Hardware wallet (Ledger, Trezor, Coldcard)</td>
                    </tr>
                    <tr style="background: var(--bg-dark);">
                        <td style="padding: 1rem; border: 1px solid var(--border-color);"><strong style="color: var(--bright-orange);">&gt;$100K</strong></td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);">🔐 Multi-signature setup (collaborative custody)</td>
                    </tr>
                </tbody>
            </table>

            <div class="highlight-box">
                <p><strong>💡 Advanced Strategy:</strong></p>
                <p>As your stack grows, you don't have to choose between trust and total isolation.</p>
                <p style="margin-top: 0.5rem;">
                    Multi-key setups split control — protecting you from single-point failures, accidents, or coercion.
                </p>
                <p style="margin-top: 0.5rem; font-style: italic; color: var(--text-dim);">
                    (You'll dive deeper into this later in the path.)
                </p>
            </div>
        </section>

        <!-- Seed Phrase -->
        <section class="content-section">
            <h2>🌱 The Seed Phrase — Your Master Backup</h2>
            <p>Think of the seed phrase like the <strong>blueprint of your vault keys</strong>.</p>

            <p>
                It can rebuild your entire wallet, even if your phone or device disappears.<br>
                Usually 12 or 24 words, generated when you first create a wallet.
            </p>

            <div class="highlight-box">
                <p><strong>🔑 The Rule:</strong></p>
                <p>There's no "forgot password."</p>
                <p style="margin-top: 0.5rem;">
                    Good systems are designed around <strong>redundancy and recovery</strong>.<br>
                    Wallets give you both — <em>if you set them up right</em>.
                </p>
            </div>

            <h3 style="margin-top: 2rem;">Rules to Live By</h3>
            <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                <tbody>
                    <tr>
                        <td style="padding: 1rem; border: 1px solid var(--border-color); width: 30%;"><strong style="color: var(--status-green);">✅ DO</strong></td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);">Write it once, protect it always</td>
                    </tr>
                    <tr style="background: var(--bg-dark);">
                        <td style="padding: 1rem; border: 1px solid var(--border-color);"><strong style="color: var(--status-green);">✅ DO</strong></td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);">Paper burns, metal lasts (consider steel backup)</td>
                    </tr>
                    <tr>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);"><strong style="color: var(--status-green);">✅ DO</strong></td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);">Keep multiple backups in different locations</td>
                    </tr>
                    <tr style="background: var(--bg-dark);">
                        <td style="padding: 1rem; border: 1px solid var(--border-color);"><strong style="color: var(--status-red);">❌ NEVER</strong></td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);">Type it online — that's like emailing your house keys</td>
                    </tr>
                    <tr>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);"><strong style="color: var(--status-red);">❌ NEVER</strong></td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);">Take a photo or screenshot</td>
                    </tr>
                    <tr style="background: var(--bg-dark);">
                        <td style="padding: 1rem; border: 1px solid var(--border-color);"><strong style="color: var(--status-red);">❌ NEVER</strong></td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);">Share it with anyone (not even "support")</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Addresses -->
        <section class="content-section">
            <h2>📬 Bitcoin Addresses — Your Public IDs</h2>
            <p>A Bitcoin address is like an email address — it's where people send you Bitcoin.</p>

            <p>Your wallet can generate unlimited addresses from your seed phrase, all linked to the same keys.</p>

            <h3 style="margin-top: 2rem;">Address Types (Technical Overview)</h3>
            <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                <thead>
                    <tr style="background: var(--secondary-dark);">
                        <th style="padding: 1rem; text-align: left; border: 1px solid var(--border-color);">Format</th>
                        <th style="padding: 1rem; text-align: left; border: 1px solid var(--border-color);">Starts With</th>
                        <th style="padding: 1rem; text-align: left; border: 1px solid var(--border-color);">Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);"><strong>Legacy (P2PKH)</strong></td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);"><code>1...</code></td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color); color: var(--status-red);">Oldest format, highest fees</td>
                    </tr>
                    <tr style="background: var(--bg-dark);">
                        <td style="padding: 1rem; border: 1px solid var(--border-color);"><strong>SegWit (P2SH)</strong></td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);"><code>3...</code></td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color); color: var(--status-yellow);">Lower fees</td>
                    </tr>
                    <tr>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);"><strong>Native SegWit (Bech32)</strong></td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color);"><code>bc1...</code></td>
                        <td style="padding: 1rem; border: 1px solid var(--border-color); color: var(--status-green);">✅ Lowest fees, most efficient</td>
                    </tr>
                </tbody>
            </table>

            <div class="highlight-box">
                <p><strong>💡 Best Practice:</strong></p>
                <p>Always use <strong>Native SegWit (bc1)</strong> addresses for the lowest transaction fees and best efficiency.</p>
            </div>
        </section>

        <!-- Interactive Wallet Security Workshop -->
        <div class="content-section">
            <div class="demo-embed" style="background: var(--secondary-dark); border: 2px solid var(--bright-orange); border-radius: 1rem; padding: 2rem; margin: 2rem 0;">
                <h3 style="color: var(--bright-orange); margin-bottom: 1rem; text-align: center;">🔐 Interactive: Wallet Security Workshop</h3>
                <p style="margin-bottom: 1.5rem; color: var(--text-gray); text-align: center;">
                    Practice creating wallets, generating truly random seed phrases, and understanding how addresses are derived. Hands-on experience with real wallet security concepts!
                </p>
                <iframe
                    src="/interactive-demos/wallet-security-workshop/index.html?level=beginner&path=pragmatist"
                    style="width: 100%; height: 900px; border: 2px solid var(--bright-orange); border-radius: 0.75rem; background: #1a1a1a;"
                    title="Wallet Security Workshop - Beginner">
                </iframe>
                <p style="margin-top: 1rem; text-align: center; color: var(--text-dim); font-size: 0.9rem;">
                    💡 Try generating different seeds and see how addresses change! Practice backup verification.
                </p>
            </div>
        </div>

        <!-- Interactive Reflection Section -->
        <section class="content-section" style="margin: 3rem 0;">
            <h2 style="text-align: center; color: var(--pragmatist-cyan); margin-bottom: 2rem;">🎯 Reflect & Engage</h2>

            <!-- Question 1: What wallets store -->
            <div style="margin-bottom: 3rem;">
                <h3 style="color: var(--pragmatist-teal); margin-bottom: 1rem;">1. What does a Bitcoin wallet actually store?</h3>
                <div class="reflection-tabs" role="tablist">
                    <button class="reflection-tab active" role="tab" aria-selected="true" onclick="switchReflectionTab(1, 'quick', event)">Quick (1 min)</button>
                    <button class="reflection-tab" role="tab" aria-selected="false" onclick="switchReflectionTab(1, 'deep', event)">Deep Dive (5 min)</button>
                </div>

                <!-- Quick Tab -->
                <div id="q1-quick" class="reflection-panel active" role="tabpanel" aria-hidden="false">
                    <p style="margin-bottom: 1rem; color: var(--text-dim);">Select the correct answer:</p>
                    <select id="q1-quick-choice" class="choice-select" onchange="checkWalletStores()">
                        <option value="">-- Choose one --</option>
                        <option value="bitcoins">The actual bitcoins themselves</option>
                        <option value="keys">The keys that unlock your vaults on the Bitcoin ledger</option>
                        <option value="blockchain">A copy of the entire blockchain</option>
                        <option value="history">Your transaction history only</option>
                    </select>
                    <div id="q1-quick-feedback" class="feedback-box" style="display: none;"></div>
                </div>

                <!-- Deep Tab -->
                <div id="q1-deep" class="reflection-panel" role="tabpanel" aria-hidden="true">
                    <p style="margin-bottom: 1rem;">Explain the difference between "storing bitcoins" vs "storing keys". Why is this distinction important?</p>
                    <textarea id="q1-deep-text" placeholder="Think about: keys, ledger, access, control, what happens if you lose keys..." style="width: 100%; min-height: 120px; padding: 1rem; background: rgba(0, 0, 0, 0.3); border: 2px solid var(--border-color); border-radius: 0.5rem; color: var(--text-light); font-size: 1rem; resize: vertical;" oninput="checkWalletStoresDeep()"></textarea>
                    <div id="q1-deep-feedback" class="feedback-box" style="display: none;"></div>
                </div>
            </div>

            <!-- Question 2: Seed phrase importance -->
            <div style="margin-bottom: 3rem;">
                <h3 style="color: var(--pragmatist-teal); margin-bottom: 1rem;">2. Why is the seed phrase critical?</h3>
                <div class="reflection-tabs" role="tablist">
                    <button class="reflection-tab active" role="tab" aria-selected="true" onclick="switchReflectionTab(2, 'quick', event)">Quick (1 min)</button>
                    <button class="reflection-tab" role="tab" aria-selected="false" onclick="switchReflectionTab(2, 'deep', event)">Deep Dive (5 min)</button>
                </div>

                <!-- Quick Tab -->
                <div id="q2-quick" class="reflection-panel active" role="tabpanel" aria-hidden="false">
                    <p style="margin-bottom: 1rem; color: var(--text-dim);">Select the best answer:</p>
                    <select id="q2-quick-choice" class="choice-select" onchange="checkSeedPhrase()">
                        <option value="">-- Choose one --</option>
                        <option value="password">It allows you to reset your password</option>
                        <option value="rebuild">It can rebuild your entire wallet, even if your device disappears</option>
                        <option value="encrypt">It encrypts your transactions</option>
                        <option value="identify">It identifies you to the Bitcoin network</option>
                    </select>
                    <div id="q2-quick-feedback" class="feedback-box" style="display: none;"></div>
                </div>

                <!-- Deep Tab -->
                <div id="q2-deep" class="reflection-panel" role="tabpanel" aria-hidden="true">
                    <p style="margin-bottom: 1rem;">Describe what would happen if you: (a) lose your phone but have your seed phrase, vs (b) lose your seed phrase. Why is there no "password reset"?</p>
                    <textarea id="q2-deep-text" placeholder="Consider: recovery, backup, control, responsibility, no customer service..." style="width: 100%; min-height: 120px; padding: 1rem; background: rgba(0, 0, 0, 0.3); border: 2px solid var(--border-color); border-radius: 0.5rem; color: var(--text-light); font-size: 1rem; resize: vertical;" oninput="checkSeedPhraseDeep()"></textarea>
                    <div id="q2-deep-feedback" class="feedback-box" style="display: none;"></div>
                </div>
            </div>

            <!-- Question 3: Hot vs cold storage -->
            <div style="margin-bottom: 3rem;">
                <h3 style="color: var(--pragmatist-teal); margin-bottom: 1rem;">3. What's the trade-off between hot and cold storage?</h3>
                <div class="reflection-tabs" role="tablist">
                    <button class="reflection-tab active" role="tab" aria-selected="true" onclick="switchReflectionTab(3, 'quick', event)">Quick (1 min)</button>
                    <button class="reflection-tab" role="tab" aria-selected="false" onclick="switchReflectionTab(3, 'deep', event)">Deep Dive (5 min)</button>
                </div>

                <!-- Quick Tab -->
                <div id="q3-quick" class="reflection-panel active" role="tabpanel" aria-hidden="false">
                    <p style="margin-bottom: 1rem; color: var(--text-dim);">Choose the correct trade-off:</p>
                    <select id="q3-quick-choice" class="choice-select" onchange="checkHotCold()">
                        <option value="">-- Choose one --</option>
                        <option value="correct">Hot is faster but less secure; cold is slower but more secure</option>
                        <option value="amounts">Hot is for large amounts; cold is for small amounts</option>
                        <option value="cost">Hot wallets are free; cold wallets cost money</option>
                        <option value="internet">Hot requires internet; cold does not use internet at all</option>
                    </select>
                    <div id="q3-quick-feedback" class="feedback-box" style="display: none;"></div>
                </div>

                <!-- Deep Tab -->
                <div id="q3-deep" class="reflection-panel" role="tabpanel" aria-hidden="true">
                    <p style="margin-bottom: 1rem;">Explain the security vs convenience spectrum. How should you decide what percentage of your Bitcoin to keep hot vs cold?</p>
                    <textarea id="q3-deep-text" placeholder="Think about: daily spending, savings, risk tolerance, amount thresholds..." style="width: 100%; min-height: 120px; padding: 1rem; background: rgba(0, 0, 0, 0.3); border: 2px solid var(--border-color); border-radius: 0.5rem; color: var(--text-light); font-size: 1rem; resize: vertical;" oninput="checkHotColdDeep()"></textarea>
                    <div id="q3-deep-feedback" class="feedback-box" style="display: none;"></div>
                </div>
            </div>

            <!-- Question 4: Seed phrase storage -->
            <div style="margin-bottom: 3rem;">
                <h3 style="color: var(--pragmatist-teal); margin-bottom: 1rem;">4. True or False: You should type your seed phrase online to back it up in the cloud.</h3>
                <div class="reflection-tabs" role="tablist">
                    <button class="reflection-tab active" role="tab" aria-selected="true" onclick="switchReflectionTab(4, 'quick', event)">Quick (1 min)</button>
                    <button class="reflection-tab" role="tab" aria-selected="false" onclick="switchReflectionTab(4, 'deep', event)">Deep Dive (5 min)</button>
                </div>

                <!-- Quick Tab -->
                <div id="q4-quick" class="reflection-panel active" role="tabpanel" aria-hidden="false">
                    <p style="margin-bottom: 1rem; color: var(--text-dim);">Choose your answer:</p>
                    <select id="q4-quick-choice" class="choice-select" onchange="checkCloudBackup()">
                        <option value="">-- Choose one --</option>
                        <option value="true">True — cloud backup is convenient</option>
                        <option value="false">False — NEVER type seed phrase digitally</option>
                    </select>
                    <div id="q4-quick-feedback" class="feedback-box" style="display: none;"></div>
                </div>

                <!-- Deep Tab -->
                <div id="q4-deep" class="reflection-panel" role="tabpanel" aria-hidden="true">
                    <p style="margin-bottom: 1rem;">List 3+ reasons why digital storage of seed phrases is dangerous. What are the proper backup methods?</p>
                    <textarea id="q4-deep-text" placeholder="Consider: hacking, keyloggers, cloud breaches, proper alternatives (paper, metal)..." style="width: 100%; min-height: 120px; padding: 1rem; background: rgba(0, 0, 0, 0.3); border: 2px solid var(--border-color); border-radius: 0.5rem; color: var(--text-light); font-size: 1rem; resize: vertical;" oninput="checkCloudBackupDeep()"></textarea>
                    <div id="q4-deep-feedback" class="feedback-box" style="display: none;"></div>
                </div>
            </div>
        </section>

        <!-- Complete Module Button -->
        <div style="text-align: center; margin: 3rem 0;">
            <button id="complete-btn" class="btn" disabled onclick="completeModule()">
                🔒 Complete Quiz First
            </button>
            <p style="margin-top: 1rem; color: var(--text-dim);">Answer all quiz questions correctly to unlock</p>
        </div>
    </div>

    <!-- Interactive Reflection JavaScript -->
    <script>
        // Progress tracking
        window.pragmatistProgress = {
            data: JSON.parse(localStorage.getItem('pragmatist-progress')) || {
                completedModules: [],
                knowledgeScore: 0,
                achievements: [],
                timeSpent: 0,
                startTime: Date.now()
            },
            save: function() {
                localStorage.setItem('pragmatist-progress', JSON.stringify(this.data));
            }
        };

        // Tab switching
        function switchReflectionTab(questionNum, level, event) {
            document.querySelectorAll(`#q${questionNum}-quick, #q${questionNum}-deep`).forEach(panel => {
                panel.classList.remove('active');
                panel.setAttribute('aria-hidden', 'true');
            });
            event.target.parentElement.querySelectorAll('.reflection-tab').forEach(tab => {
                tab.classList.remove('active');
                tab.setAttribute('aria-selected', 'false');
            });
            const panel = document.getElementById(`q${questionNum}-${level}`);
            panel.classList.add('active');
            panel.setAttribute('aria-hidden', 'false');
            event.target.classList.add('active');
            event.target.setAttribute('aria-selected', 'true');
        }

        // Q1: What wallets store
        function checkWalletStores() {
            const choice = document.getElementById('q1-quick-choice').value;
            const feedbackDiv = document.getElementById('q1-quick-feedback');

            if (!choice) {
                feedbackDiv.style.display = 'none';
                return;
            }

            if (choice === 'keys') {
                feedbackDiv.innerHTML = `<h5>✓ Exactly Right!</h5><p>Your wallet doesn't hold coins inside — it holds the <strong>keys that unlock your specific vaults on the Bitcoin ledger</strong>.<br><br>Whoever has those keys has the power to move the funds. This is why key management is everything in Bitcoin.</p>`;
                feedbackDiv.className = 'feedback-box positive';
                updateProgress('q1');
            } else if (choice === 'bitcoins') {
                feedbackDiv.innerHTML = `<h5>💡 Common Misconception</h5><p>Bitcoins don't live "in" your wallet. They exist on the blockchain. Your wallet stores the <strong>private keys</strong> that prove ownership and allow you to move those bitcoins. Think: keys to a vault, not the vault itself.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            } else {
                feedbackDiv.innerHTML = `<h5>⚠️ Not Quite</h5><p>Wallets store your <strong>private keys</strong>—the cryptographic proof that you own specific bitcoins on the blockchain. The coins themselves live on the ledger, distributed across thousands of nodes.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            }
            feedbackDiv.style.display = 'block';
            saveResponse('q1-quick', choice);
        }

        function checkWalletStoresDeep() {
            const text = document.getElementById('q1-deep-text').value.toLowerCase();
            const feedbackDiv = document.getElementById('q1-deep-feedback');

            if (text.length < 20) {
                feedbackDiv.style.display = 'none';
                return;
            }

            let score = 0;
            const keywords = {
                keys: /(key|private key|cryptographic)/,
                ledger: /(ledger|blockchain|network|distributed)/,
                access: /(access|control|ownership|authorization)/,
                lose: /(lose|lost|gone|irrecover)/
            };

            for (let key in keywords) {
                if (keywords[key].test(text)) score++;
            }

            if (score >= 3) {
                feedbackDiv.innerHTML = `<h5>✓ Comprehensive Understanding! (${score}/4 concepts)</h5><p>You grasped the critical distinction:<br><br>Bitcoins exist on the <strong>distributed ledger</strong>. Your wallet stores <strong>private keys</strong> that prove <strong>ownership and authorize</strong> transactions. <strong>Lose the keys = lose access forever</strong>. There's no "account recovery"—you ARE the bank.</p>`;
                feedbackDiv.className = 'feedback-box positive';
                updateProgress('q1');
            } else if (score >= 2) {
                feedbackDiv.innerHTML = `<h5>💡 Good Start (${score}/4 concepts)</h5><p>Strengthen your explanation: bitcoins live on the <strong>blockchain ledger</strong>, wallets store <strong>private keys</strong>, keys grant <strong>control/access</strong>, and <strong>lost keys = lost funds forever</strong>. This is why "Not your keys, not your coins."</p>`;
                feedbackDiv.className = 'feedback-box hint';
            } else {
                feedbackDiv.innerHTML = `<h5>💡 Expand Your Answer</h5><p>Key themes: <strong>private keys vs coins</strong>, <strong>blockchain as ledger</strong>, <strong>keys = control</strong>, <strong>no recovery if lost</strong>. Wallets are keychains, not vaults!</p>`;
                feedbackDiv.className = 'feedback-box hint';
            }
            feedbackDiv.style.display = 'block';
            saveResponse('q1-deep', text);
        }

        // Q2: Seed phrase
        function checkSeedPhrase() {
            const choice = document.getElementById('q2-quick-choice').value;
            const feedbackDiv = document.getElementById('q2-quick-feedback');

            if (!choice) {
                feedbackDiv.style.display = 'none';
                return;
            }

            if (choice === 'rebuild') {
                feedbackDiv.innerHTML = `<h5>✓ Perfect!</h5><p>Think of the seed phrase like the <strong>blueprint of your vault keys</strong>. It can rebuild your entire wallet, even if your phone or device disappears.<br><br>There's no 'forgot password'—this is your <strong>master backup</strong>. Protect it like your life depends on it.</p>`;
                feedbackDiv.className = 'feedback-box positive';
                updateProgress('q2');
            } else if (choice === 'password') {
                feedbackDiv.innerHTML = `<h5>⚠️ No Password Resets</h5><p>There's no "forgot password" in Bitcoin—it's decentralized. The seed phrase doesn't reset anything; it <strong>IS your wallet</strong>. It can regenerate all your keys on any device. This is both power and responsibility.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            } else {
                feedbackDiv.innerHTML = `<h5>⚠️ Not Its Function</h5><p>The seed phrase is your <strong>wallet recovery mechanism</strong>. It can rebuild your entire wallet (all keys, all addresses) on any device. Lose it = permanent loss of access. Protect it = you can always recover.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            }
            feedbackDiv.style.display = 'block';
            saveResponse('q2-quick', choice);
        }

        function checkSeedPhraseDeep() {
            const text = document.getElementById('q2-deep-text').value.toLowerCase();
            const feedbackDiv = document.getElementById('q2-deep-feedback');

            if (text.length < 30) {
                feedbackDiv.style.display = 'none';
                return;
            }

            let score = 0;
            const keywords = {
                recover: /(recover|rebuild|restore|regenerate)/,
                lost: /(lost|lose|gone|permanent)/,
                noreset: /(no reset|no password|no support|no customer)/,
                responsibility: /(responsib|control|own|bank)/
            };

            for (let key in keywords) {
                if (keywords[key].test(text)) score++;
            }

            if (score >= 3) {
                feedbackDiv.innerHTML = `<h5>✓ Excellent Analysis! (${score}/4 themes)</h5><p>You understand the stakes:<br><br>(a) <strong>Lose phone + have seed</strong> = fully recoverable. Buy new device, restore wallet.<br>(b) <strong>Lose seed</strong> = funds locked forever. No customer service, no password reset.<br><br>Bitcoin gives you control. The cost is <strong>personal responsibility</strong>.</p>`;
                feedbackDiv.className = 'feedback-box positive';
                updateProgress('q2');
            } else if (score >= 2) {
                feedbackDiv.innerHTML = `<h5>💡 Good Understanding (${score}/4 themes)</h5><p>Add: <strong>seed = recovery</strong>, <strong>no seed = permanent loss</strong>, <strong>no password reset exists</strong>, <strong>you're the bank now</strong>. This isn't a bug—it's the feature. Full control = full responsibility.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            } else {
                feedbackDiv.innerHTML = `<h5>💡 Think Through Scenarios</h5><p>Scenario (a): <strong>Phone lost, seed safe → recover wallet</strong>. Scenario (b): <strong>Seed lost → funds gone forever</strong>. Why no reset? <strong>Decentralized = no company to call</strong>. You are your own bank.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            }
            feedbackDiv.style.display = 'block';
            saveResponse('q2-deep', text);
        }

        // Q3: Hot vs cold
        function checkHotCold() {
            const choice = document.getElementById('q3-quick-choice').value;
            const feedbackDiv = document.getElementById('q3-quick-feedback');

            if (!choice) {
                feedbackDiv.style.display = 'none';
                return;
            }

            if (choice === 'correct') {
                feedbackDiv.innerHTML = `<h5>✓ Exactly Right!</h5><p>Treat Bitcoin storage like cybersecurity: separate <strong>"hot" (daily use, convenient but more exposed)</strong> from <strong>"cold" (long-term savings, offline and more secure)</strong>.<br><br>Pragmatists optimize <strong>both</strong> convenience and security—not one at the expense of the other.</p>`;
                feedbackDiv.className = 'feedback-box positive';
                updateProgress('q3');
            } else if (choice === 'amounts') {
                feedbackDiv.innerHTML = `<h5>⚠️ Backwards</h5><p>It's the opposite: <strong>hot wallets for small amounts</strong> (daily spending), <strong>cold wallets for large amounts</strong> (long-term savings). Hot = convenient but riskier. Cold = secure but slower access.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            } else {
                feedbackDiv.innerHTML = `<h5>💡 Close, But Not Quite</h5><p>The core trade-off is <strong>speed/convenience vs security</strong>. Hot wallets (connected to internet) are fast but exposed. Cold wallets (offline) are secure but require more steps. Choose based on amount and use case.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            }
            feedbackDiv.style.display = 'block';
            saveResponse('q3-quick', choice);
        }

        function checkHotColdDeep() {
            const text = document.getElementById('q3-deep-text').value.toLowerCase();
            const feedbackDiv = document.getElementById('q3-deep-feedback');

            if (text.length < 30) {
                feedbackDiv.style.display = 'none';
                return;
            }

            let score = 0;
            const keywords = {
                spending: /(spending|daily|transaction|use|frequent)/,
                savings: /(savings|long.?term|store|hold|hodl)/,
                risk: /(risk|tolerance|secure|safe|expos)/,
                threshold: /(amount|threshold|\$|percent|%)/
            };

            for (let key in keywords) {
                if (keywords[key].test(text)) score++;
            }

            if (score >= 3) {
                feedbackDiv.innerHTML = `<h5>✓ Strategic Thinking! (${score}/4 factors)</h5><p>You're applying the right framework:<br><br><strong>Hot = daily spending</strong> (small amounts, frequent access)<br><strong>Cold = long-term savings</strong> (large amounts, rare access)<br><strong>Risk tolerance + amount thresholds</strong> determine the split<br><br>Rule of thumb: <$1k hot, >$10k cold, balance for middle amounts.</p>`;
                feedbackDiv.className = 'feedback-box positive';
                updateProgress('q3');
            } else if (score >= 2) {
                feedbackDiv.innerHTML = `<h5>💡 Good Start (${score}/4 factors)</h5><p>Also consider: <strong>hot for daily spending</strong>, <strong>cold for long-term savings</strong>, <strong>risk tolerance</strong>, and <strong>amount-based thresholds</strong> (e.g., <$1k mobile, >$10k hardware). Optimize for both security AND usability.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            } else {
                feedbackDiv.innerHTML = `<h5>💡 Expand Your Strategy</h5><p>Key factors: <strong>hot = daily spending</strong>, <strong>cold = long-term savings</strong>, <strong>your risk tolerance</strong>, <strong>amount thresholds</strong>. Most pragmatists: small amounts hot, large amounts cold. Balance security with accessibility.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            }
            feedbackDiv.style.display = 'block';
            saveResponse('q3-deep', text);
        }

        // Q4: Cloud backup
        function checkCloudBackup() {
            const choice = document.getElementById('q4-quick-choice').value;
            const feedbackDiv = document.getElementById('q4-quick-feedback');

            if (!choice) {
                feedbackDiv.style.display = 'none';
                return;
            }

            if (choice === 'false') {
                feedbackDiv.innerHTML = `<h5>✓ Correct!</h5><p><strong>NEVER type your seed phrase online</strong>—that's like emailing your house keys.<br><br>Write it once on paper or metal, protect it always, and keep <strong>multiple backups in different physical locations</strong>. Digital = hackable. Physical = your responsibility.</p>`;
                feedbackDiv.className = 'feedback-box positive';
                updateProgress('q4');
            } else {
                feedbackDiv.innerHTML = `<h5>⚠️ CRITICAL ERROR</h5><p>This is how people lose everything. <strong>NEVER store seed phrases digitally</strong>: no photos, no screenshots, no cloud storage, no password managers.<br><br>Once it touches the internet, it's compromised. Use <strong>paper or metal backups</strong> in secure physical locations.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            }
            feedbackDiv.style.display = 'block';
            saveResponse('q4-quick', choice);
        }

        function checkCloudBackupDeep() {
            const text = document.getElementById('q4-deep-text').value.toLowerCase();
            const feedbackDiv = document.getElementById('q4-deep-feedback');

            if (text.length < 30) {
                feedbackDiv.style.display = 'none';
                return;
            }

            let score = 0;
            const keywords = {
                hack: /(hack|breach|steal|compromise|attack)/,
                keylogger: /(keylogger|malware|virus|spyware)/,
                cloud: /(cloud|icloud|google|dropbox|server)/,
                physical: /(paper|metal|physical|steel|offline)/
            };

            for (let key in keywords) {
                if (keywords[key].test(text)) score++;
            }

            if (score >= 3) {
                feedbackDiv.innerHTML = `<h5>✓ Security-Conscious! (${score}/4 threats identified)</h5><p>You understand the attack vectors:<br><br><strong>Hacking/breaches</strong>, <strong>keyloggers/malware</strong>, <strong>cloud vulnerabilities</strong>—all real threats to digital storage.<br><br><strong>Proper method:</strong> Write on <strong>paper or metal</strong>, store in multiple <strong>physical locations</strong> (fireproof safe, safety deposit box). Never digital.</p>`;
                feedbackDiv.className = 'feedback-box positive';
                updateProgress('q4');
            } else if (score >= 2) {
                feedbackDiv.innerHTML = `<h5>💡 Good Awareness (${score}/4 threats)</h5><p>Also consider: <strong>hacking</strong>, <strong>keyloggers</strong>, <strong>cloud breaches</strong>. Proper backup: <strong>paper or metal plates</strong> stored in multiple secure locations. Digital convenience = digital vulnerability.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            } else {
                feedbackDiv.innerHTML = `<h5>💡 List More Threats</h5><p>Digital risks: <strong>hacking</strong>, <strong>keyloggers/malware</strong>, <strong>cloud provider breaches</strong>, <strong>device theft</strong>. Proper method: <strong>paper/metal backups</strong> in fireproof safes, safety deposit boxes. 3+ reasons = comprehensive understanding!</p>`;
                feedbackDiv.className = 'feedback-box hint';
            }
            feedbackDiv.style.display = 'block';
            saveResponse('q4-deep', text);
        }

        // Progress tracking
        const completedQuestions = new Set();

        function updateProgress(questionId) {
            completedQuestions.add(questionId);
            if (completedQuestions.size >= 4) {
                document.getElementById('complete-btn').disabled = false;
                document.getElementById('complete-btn').textContent = '✅ Complete Module & Continue →';
            }
        }

        // Save/load
        function saveResponse(key, value) {
            localStorage.setItem(`pragmatist-m2-${key}`, value);
        }

        function loadResponses() {
            const savedKeys = ['q1-quick', 'q1-deep', 'q2-quick', 'q2-deep', 'q3-quick', 'q3-deep', 'q4-quick', 'q4-deep'];
            savedKeys.forEach(key => {
                const value = localStorage.getItem(`pragmatist-m2-${key}`);
                if (value) {
                    const element = document.getElementById(`${key}-choice`) || document.getElementById(`${key}-text`);
                    if (element) element.value = value;
                }
            });
        }

        // Complete module
        function completeModule() {
            if (!window.pragmatistProgress.data.completedModules.includes('1-2')) {
                window.pragmatistProgress.data.completedModules.push('1-2');
                window.pragmatistProgress.data.knowledgeScore += 15;
                if (!window.pragmatistProgress.data.achievements.includes('wallet-wisdom')) {
                    window.pragmatistProgress.data.achievements.push('wallet-wisdom');
                }
                window.pragmatistProgress.save();
                showAchievement('Wallet Wisdom', 'Mastered Bitcoin wallet security!', '💼');
                setTimeout(() => {
                    window.location.href = '/paths/pragmatist/stage-1/module-3.html';
                }, 2000);
            }
        }

        function showAchievement(title, description, icon) {
            const notification = document.createElement('div');
            notification.className = 'achievement-notification';
            notification.innerHTML = `
                <div class="achievement-icon">${icon}</div>
                <div class="achievement-title">${title}</div>
                <div style="color: var(--text-gray); font-size: 1.2rem;">${description}</div>
                <div style="margin-top: 1rem; color: var(--bright-orange); font-weight: bold;">+15 Knowledge Points</div>
            `;
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 3000);
        }

        document.addEventListener('DOMContentLoaded', loadResponses);
    </script>

    <!-- Add condensed CSS framework -->
    <style>
        .reflection-tabs { display: flex; gap: 0.5rem; margin-bottom: 1.5rem; border-bottom: 2px solid rgba(0, 188, 212, 0.2); padding-bottom: 0.5rem; }
        .reflection-tab { background: transparent; color: var(--text-dim); border: 2px solid rgba(0, 188, 212, 0.3); padding: 0.5rem 1.25rem; border-radius: 8px 8px 0 0; font-weight: 600; font-size: 0.95rem; cursor: pointer; transition: all 0.3s ease; }
        .reflection-tab.active { background: linear-gradient(135deg, rgba(0, 188, 212, 0.2), rgba(0, 172, 193, 0.1)); color: var(--pragmatist-cyan); border-color: var(--pragmatist-cyan); }
        .reflection-panel { display: none; padding: 1.5rem; background: rgba(26, 26, 26, 0.8); border-radius: 0 8px 8px 8px; border: 2px solid rgba(0, 188, 212, 0.2); }
        .reflection-panel.active { display: block; }
        .choice-select { width: 100%; padding: 1rem; background: rgba(0, 0, 0, 0.3); border: 2px solid var(--border-color); border-radius: 0.5rem; color: var(--text-light); font-size: 1rem; cursor: pointer; }
        .feedback-box { margin-top: 1.5rem; padding: 1.5rem; border-radius: 0.5rem; border: 2px solid; display: none; }
        .feedback-box.positive { background: rgba(76, 175, 80, 0.1); border-color: #4caf50; color: var(--text-light); }
        .feedback-box.hint { background: rgba(255, 152, 0, 0.1); border-color: #ff9800; color: var(--text-light); }
        @media (max-width: 768px) {
            .reflection-tabs { flex-direction: column; }
            .reflection-tab { border-radius: 0.5rem; }
            .reflection-panel { border-radius: 0.5rem; }
        }
    </style>

    </body>
</html>
