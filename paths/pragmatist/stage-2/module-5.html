<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Blockchain | The Pragmatist Path</title>

    <!-- Theme Styles -->
    <link rel="stylesheet" href="/css/pragmatist-theme.css">
</head>
<body>
    <!-- Module Header -->
    <div class="module-header">
        <div class="container">
            <div class="breadcrumb">
                <a href="/paths/pragmatist/">‚Üê Back to Pragmatist Path</a> / Stage 2 / Module 5
            </div>
            <div class="module-title">
                <h1>üîó The Blockchain</h1>
                <div class="module-meta">
                    <span>‚è±Ô∏è 25 minutes</span>
                    <span>üìä Difficulty: Intermediate</span>
                    <span>üéØ 20 Knowledge Points</span>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Introduction -->
        <div class="content-section">
            <h2>What is the Blockchain?</h2>
            <p>The blockchain is Bitcoin's ledger - an unchangeable record of every Bitcoin transaction ever made. But it's more than just a database:</p>

            <div class="highlight-box">
                <p><strong>üîó Three Key Properties:</strong></p>
                <ul style="margin-left: 2rem; color: var(--text-light);">
                    <li><strong>Distributed:</strong> Thousands of copies exist worldwide</li>
                    <li><strong>Immutable:</strong> Past records cannot be changed</li>
                    <li><strong>Transparent:</strong> Everyone can verify every transaction</li>
                </ul>
            </div>

            <p>Think of it as a chain of blocks, where each block contains:</p>
            <ul style="margin-left: 2rem; color: var(--text-light);">
                <li>üì¶ A batch of transactions</li>
                <li>üîó A link to the previous block</li>
                <li>‚è∞ A timestamp</li>
                <li>üéØ Proof of Work (the mining hash)</li>
            </ul>
        </div>

        <!-- Visual Chain -->
        <div class="content-section">
            <h2>Visualizing the Chain</h2>
            <p>Here's how blocks link together to form an unbreakable chain:</p>

            <div style="margin: 2rem 0; overflow-x: auto;">
                <div style="display: flex; align-items: center; gap: 1rem; min-width: 800px;">
                    <!-- Block 1 -->
                    <div style="flex: 1; background: linear-gradient(135deg, rgba(255, 140, 0, 0.2), rgba(255, 215, 0, 0.2)); border: 3px solid var(--bright-orange); border-radius: 1rem; padding: 1.5rem; position: relative;">
                        <div style="position: absolute; top: -15px; left: 10px; background: var(--bright-orange); color: var(--black); padding: 0.25rem 0.75rem; border-radius: 0.5rem; font-weight: bold;">Block N-2</div>
                        <div style="margin-top: 1rem;">
                            <div style="font-size: 0.8rem; color: var(--text-gray); margin-bottom: 0.5rem;">Hash:</div>
                            <div style="font-family: monospace; font-size: 0.7rem; color: var(--status-green);">0000a1b2...</div>
                        </div>
                        <div style="margin-top: 0.5rem;">
                            <div style="font-size: 0.8rem; color: var(--text-gray);">Transactions: 2,847</div>
                        </div>
                    </div>

                    <!-- Arrow -->
                    <div style="font-size: 2rem; color: var(--bright-yellow);">‚Üí</div>

                    <!-- Block 2 -->
                    <div style="flex: 1; background: linear-gradient(135deg, rgba(255, 140, 0, 0.2), rgba(255, 215, 0, 0.2)); border: 3px solid var(--bright-yellow); border-radius: 1rem; padding: 1.5rem; position: relative;">
                        <div style="position: absolute; top: -15px; left: 10px; background: var(--bright-yellow); color: var(--black); padding: 0.25rem 0.75rem; border-radius: 0.5rem; font-weight: bold;">Block N-1</div>
                        <div style="margin-top: 1rem;">
                            <div style="font-size: 0.8rem; color: var(--text-gray); margin-bottom: 0.5rem;">Previous Hash:</div>
                            <div style="font-family: monospace; font-size: 0.7rem; color: var(--status-orange);">0000a1b2...</div>
                            <div style="font-size: 0.8rem; color: var(--text-gray); margin-top: 0.5rem; margin-bottom: 0.5rem;">Hash:</div>
                            <div style="font-family: monospace; font-size: 0.7rem; color: var(--status-green);">0000c3d4...</div>
                        </div>
                        <div style="margin-top: 0.5rem;">
                            <div style="font-size: 0.8rem; color: var(--text-gray);">Transactions: 3,124</div>
                        </div>
                    </div>

                    <!-- Arrow -->
                    <div style="font-size: 2rem; color: var(--bright-yellow);">‚Üí</div>

                    <!-- Block 3 (Latest) -->
                    <div style="flex: 1; background: linear-gradient(135deg, rgba(255, 140, 0, 0.3), rgba(255, 215, 0, 0.3)); border: 3px solid var(--status-green); border-radius: 1rem; padding: 1.5rem; position: relative; box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);">
                        <div style="position: absolute; top: -15px; left: 10px; background: var(--status-green); color: var(--black); padding: 0.25rem 0.75rem; border-radius: 0.5rem; font-weight: bold;">Block N (Latest)</div>
                        <div style="margin-top: 1rem;">
                            <div style="font-size: 0.8rem; color: var(--text-gray); margin-bottom: 0.5rem;">Previous Hash:</div>
                            <div style="font-family: monospace; font-size: 0.7rem; color: var(--status-orange);">0000c3d4...</div>
                            <div style="font-size: 0.8rem; color: var(--text-gray); margin-top: 0.5rem; margin-bottom: 0.5rem;">Hash:</div>
                            <div style="font-family: monospace; font-size: 0.7rem; color: var(--status-green);">0000e5f6...</div>
                        </div>
                        <div style="margin-top: 0.5rem;">
                            <div style="font-size: 0.8rem; color: var(--text-gray);">Transactions: 2,956</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="highlight-box success">
                <p><strong>üîó The Chain Effect:</strong> Each block references the hash of the previous block. Change one bit in an old block, and its hash changes. That breaks the link to the next block, invalidating the entire chain from that point forward.</p>
            </div>
        </div>

        <!-- Block Anatomy -->
        <div class="content-section">
            <h2>üì¶ Inside a Block</h2>
            <p>Every Bitcoin block contains specific data:</p>

            <div style="margin: 2rem 0; background: var(--medium-gray); border: 2px solid var(--bright-orange); border-radius: 1rem; padding: 2rem;">
                <h3 style="text-align: center; color: var(--bright-yellow); margin-bottom: 2rem;">Block Structure</h3>

                <div style="margin-bottom: 1.5rem; padding: 1rem; background: rgba(255, 140, 0, 0.1); border-left: 4px solid var(--bright-orange); border-radius: 0.5rem;">
                    <strong style="color: var(--bright-orange); font-size: 1.1rem;">1. Block Header</strong>
                    <ul style="margin: 0.5rem 0 0 1.5rem; color: var(--text-light);">
                        <li><strong>Version:</strong> Block version number</li>
                        <li><strong>Previous Block Hash:</strong> Links to parent block</li>
                        <li><strong>Merkle Root:</strong> Summary of all transactions</li>
                        <li><strong>Timestamp:</strong> When block was mined</li>
                        <li><strong>Difficulty Target:</strong> Mining difficulty</li>
                        <li><strong>Nonce:</strong> The "lucky number" miners found</li>
                    </ul>
                </div>

                <div style="margin-bottom: 1.5rem; padding: 1rem; background: rgba(255, 215, 0, 0.1); border-left: 4px solid var(--bright-yellow); border-radius: 0.5rem;">
                    <strong style="color: var(--bright-yellow); font-size: 1.1rem;">2. Transaction List</strong>
                    <ul style="margin: 0.5rem 0 0 1.5rem; color: var(--text-light);">
                        <li><strong>Coinbase Transaction:</strong> Miner's reward (always first)</li>
                        <li><strong>User Transactions:</strong> 2,000-4,000 transactions</li>
                        <li><strong>Total Size:</strong> Up to 4MB per block</li>
                    </ul>
                </div>

                <div style="padding: 1rem; background: rgba(0, 255, 0, 0.1); border-left: 4px solid var(--status-green); border-radius: 0.5rem;">
                    <strong style="color: var(--status-green); font-size: 1.1rem;">3. Proof of Work</strong>
                    <p style="margin: 0.5rem 0 0; color: var(--text-light);">The block hash that starts with enough zeros to meet the difficulty target, proving computational work was done.</p>
                </div>
            </div>
        </div>

        <!-- Immutability -->
        <div class="content-section">
            <h2>üîí Why the Blockchain is Immutable</h2>
            <p>Changing historical blockchain data is practically impossible due to three factors:</p>

            <div style="margin: 2rem 0;">
                <div style="margin-bottom: 2rem; padding: 1.5rem; background: var(--medium-gray); border-radius: 0.5rem;">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                        <span style="font-size: 2.5rem;">üîó</span>
                        <strong style="color: var(--bright-orange); font-size: 1.3rem;">1. Cryptographic Linking</strong>
                    </div>
                    <p style="color: var(--text-light);">Each block's hash depends on all its data AND the previous block's hash. Change anything ‚Üí hash changes ‚Üí chain breaks.</p>
                    <div class="highlight-box warning">
                        <p style="margin: 0;"><strong>To change 1 transaction:</strong> You'd need to re-mine that block AND every block after it (potentially hundreds of thousands of blocks).</p>
                    </div>
                </div>

                <div style="margin-bottom: 2rem; padding: 1.5rem; background: var(--medium-gray); border-radius: 0.5rem;">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                        <span style="font-size: 2.5rem;">‚ö°</span>
                        <strong style="color: var(--bright-orange); font-size: 1.3rem;">2. Proof of Work</strong>
                    </div>
                    <p style="color: var(--text-light);">Each block requires massive computational work. Re-mining old blocks would cost millions in electricity and hardware.</p>
                    <div style="display: flex; justify-content: space-around; margin-top: 1rem; text-align: center;">
                        <div>
                            <div style="font-size: 1.5rem; color: var(--status-red);">$500,000+</div>
                            <div style="font-size: 0.9rem; color: var(--text-gray);">Cost per block</div>
                        </div>
                        <div>
                            <div style="font-size: 1.5rem; color: var(--status-red);">10 minutes</div>
                            <div style="font-size: 0.9rem; color: var(--text-gray);">Minimum time</div>
                        </div>
                    </div>
                </div>

                <div style="padding: 1.5rem; background: var(--medium-gray); border-radius: 0.5rem;">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                        <span style="font-size: 2.5rem;">üåê</span>
                        <strong style="color: var(--bright-orange); font-size: 1.3rem;">3. Network Consensus</strong>
                    </div>
                    <p style="color: var(--text-light);">Even if you re-mined blocks, thousands of nodes around the world would reject your fake chain. The network follows the chain with the most accumulated Proof of Work.</p>
                    <div class="highlight-box danger">
                        <p style="margin: 0;"><strong>51% Attack:</strong> You'd need to control >51% of the network's hash rate to rewrite history - currently requiring hundreds of billions of dollars in hardware and electricity.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Network Distribution -->
        <div class="content-section">
            <h2>üåç Global Distribution</h2>
            <p>Bitcoin's blockchain is distributed across approximately 15,000+ full nodes worldwide:</p>

            <div style="margin: 2rem 0; background: var(--medium-gray); border-radius: 1rem; padding: 2rem;">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem;">
                    <div style="text-align: center; padding: 1.5rem; background: rgba(0, 255, 0, 0.1); border: 2px solid var(--status-green); border-radius: 0.5rem;">
                        <div style="font-size: 2.5rem; color: var(--status-green);">üü¢</div>
                        <div style="font-size: 1.8rem; font-weight: bold; color: var(--status-green); margin: 0.5rem 0;">40%</div>
                        <div style="color: var(--text-gray);">United States</div>
                    </div>

                    <div style="text-align: center; padding: 1.5rem; background: rgba(255, 255, 0, 0.1); border: 2px solid var(--status-yellow); border-radius: 0.5rem;">
                        <div style="font-size: 2.5rem; color: var(--status-yellow);">üü°</div>
                        <div style="font-size: 1.8rem; font-weight: bold; color: var(--status-yellow); margin: 0.5rem 0;">20%</div>
                        <div style="color: var(--text-gray);">Germany</div>
                    </div>

                    <div style="text-align: center; padding: 1.5rem; background: rgba(255, 140, 0, 0.1); border: 2px solid var(--status-orange); border-radius: 0.5rem;">
                        <div style="font-size: 2.5rem; color: var(--status-orange);">üü†</div>
                        <div style="font-size: 1.8rem; font-weight: bold; color: var(--status-orange); margin: 0.5rem 0;">10%</div>
                        <div style="color: var(--text-gray);">France</div>
                    </div>

                    <div style="text-align: center; padding: 1.5rem; background: rgba(255, 0, 0, 0.1); border: 2px solid var(--status-red); border-radius: 0.5rem;">
                        <div style="font-size: 2.5rem; color: var(--status-red);">üî¥</div>
                        <div style="font-size: 1.8rem; font-weight: bold; color: var(--status-red); margin: 0.5rem 0;">30%</div>
                        <div style="color: var(--text-gray);">Rest of World</div>
                    </div>
                </div>
            </div>

            <div class="highlight-box success">
                <p><strong>üí™ Decentralization Strength:</strong> Bitcoin's blockchain exists on thousands of computers across 100+ countries. No single government, company, or group can shut it down or alter the records.</p>
            </div>
        </div>

        <!-- Benefits -->
        <div class="content-section">
            <h2>‚ú® Benefits of the Blockchain</h2>

            <div style="margin: 2rem 0;">
                <div style="margin-bottom: 1.5rem;">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <span class="status-indicator green"></span>
                        <strong style="color: var(--status-green); font-size: 1.1rem;">Transparency</strong>
                    </div>
                    <p style="margin-left: 2rem; color: var(--text-light);">Anyone can audit the entire history. Every transaction ever made is publicly verifiable.</p>
                </div>

                <div style="margin-bottom: 1.5rem;">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <span class="status-indicator yellow"></span>
                        <strong style="color: var(--status-yellow); font-size: 1.1rem;">Censorship Resistance</strong>
                    </div>
                    <p style="margin-left: 2rem; color: var(--text-light);">No one can block your transactions or freeze your account.</p>
                </div>

                <div style="margin-bottom: 1.5rem;">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <span class="status-indicator orange"></span>
                        <strong style="color: var(--status-orange); font-size: 1.1rem;">Trustlessness</strong>
                    </div>
                    <p style="margin-left: 2rem; color: var(--text-light);">You don't need to trust anyone - you can verify everything yourself.</p>
                </div>

                <div>
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <span class="status-indicator green"></span>
                        <strong style="color: var(--status-green); font-size: 1.1rem;">Permanence</strong>
                    </div>
                    <p style="margin-left: 2rem; color: var(--text-light);">History cannot be rewritten. Your transactions are permanent.</p>
                </div>
            </div>
        </div>

        <!-- Quiz Section -->
        <div class="quiz-container">
            <h2 style="text-align: center; margin-bottom: 2rem; background: linear-gradient(135deg, var(--bright-orange), var(--bright-yellow)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
                üéØ Knowledge Check
            </h2>

            <!-- Question 1 -->
            <div class="quiz-question" id="question-1">
                <h3>Question 1: What makes Bitcoin's blockchain immutable?</h3>
                <div class="quiz-options">
                    <button class="quiz-option" onclick="answerQuestion(1, 'A', false)">
                        <strong>A)</strong> Bitcoin Core developers protect it
                    </button>
                    <button class="quiz-option" onclick="answerQuestion(1, 'B', true)">
                        <strong>B)</strong> Cryptographic linking, Proof of Work, and network consensus
                    </button>
                    <button class="quiz-option" onclick="answerQuestion(1, 'C', false)">
                        <strong>C)</strong> Government regulations
                    </button>
                </div>
            </div>

            <!-- Question 2 -->
            <div class="quiz-question hidden" id="question-2">
                <h3>Question 2: What links each block to the previous one?</h3>
                <div class="quiz-options">
                    <button class="quiz-option" onclick="answerQuestion(2, 'A', false)">
                        <strong>A)</strong> The block number
                    </button>
                    <button class="quiz-option" onclick="answerQuestion(2, 'B', true)">
                        <strong>B)</strong> The previous block's hash in the current block header
                    </button>
                    <button class="quiz-option" onclick="answerQuestion(2, 'C', false)">
                        <strong>C)</strong> The timestamp
                    </button>
                </div>
            </div>

            <!-- Question 3 -->
            <div class="quiz-question hidden" id="question-3">
                <h3>Question 3: How many full nodes approximately maintain Bitcoin's blockchain?</h3>
                <div class="quiz-options">
                    <button class="quiz-option" onclick="answerQuestion(3, 'A', false)">
                        <strong>A)</strong> 10-50 nodes
                    </button>
                    <button class="quiz-option" onclick="answerQuestion(3, 'B', false)">
                        <strong>B)</strong> 100-500 nodes
                    </button>
                    <button class="quiz-option" onclick="answerQuestion(3, 'C', true)">
                        <strong>C)</strong> 15,000+ nodes worldwide
                    </button>
                </div>
            </div>

            <!-- Quiz Results -->
            <div id="quiz-results" class="hidden" style="text-align: center; padding: 2rem;">
                <h3 style="color: var(--bright-yellow); font-size: 2rem; margin-bottom: 1rem;">Quiz Complete!</h3>
                <p style="font-size: 1.5rem; margin-bottom: 2rem;">
                    You scored <span id="score" style="color: var(--bright-orange); font-weight: bold;">0</span>/3
                </p>
                <div id="quiz-feedback"></div>
            </div>
        </div>

        <!-- Complete Module Button -->
        <div style="text-align: center; margin: 3rem 0;">
            <button id="complete-btn" class="btn" disabled onclick="completeModule()">
                üîí Complete Quiz First
            </button>
            <p style="margin-top: 1rem; color: var(--text-dim);">Answer all quiz questions correctly to unlock</p>
        </div>
    </div>

    <script>
        window.pragmatistProgress = {
            data: JSON.parse(localStorage.getItem('pragmatist-progress')) || {
                completedModules: [],
                knowledgeScore: 0,
                achievements: [],
                timeSpent: 0,
                startTime: Date.now()
            },
            save: function() {
                localStorage.setItem('pragmatist-progress', JSON.stringify(this.data));
            }
        };

        let quizState = {
            currentQuestion: 1,
            correctAnswers: 0,
            totalQuestions: 3
        };

        function answerQuestion(questionNum, selectedAnswer, isCorrect) {
            const questionDiv = document.getElementById(`question-${questionNum}`);
            const options = questionDiv.querySelectorAll('.quiz-option');

            options.forEach(option => {
                option.disabled = true;
                if (option.textContent.trim().startsWith(`${selectedAnswer})`)) {
                    if (isCorrect) {
                        option.classList.add('correct');
                        quizState.correctAnswers++;
                    } else {
                        option.classList.add('incorrect');
                    }
                }
            });

            setTimeout(() => {
                if (questionNum < quizState.totalQuestions) {
                    questionDiv.classList.add('hidden');
                    document.getElementById(`question-${questionNum + 1}`).classList.remove('hidden');
                } else {
                    showQuizResults();
                }
            }, 1500);
        }

        function showQuizResults() {
            document.getElementById('question-3').classList.add('hidden');

            const resultsDiv = document.getElementById('quiz-results');
            const scoreSpan = document.getElementById('score');
            const feedbackDiv = document.getElementById('quiz-feedback');

            scoreSpan.textContent = quizState.correctAnswers;
            resultsDiv.classList.remove('hidden');

            if (quizState.correctAnswers === 3) {
                feedbackDiv.innerHTML = `
                    <p style="color: var(--status-green); font-size: 1.2rem; margin-bottom: 1rem;">
                        üéâ Perfect! You understand the blockchain!
                    </p>
                    <p style="color: var(--text-gray);">
                        You've earned <strong style="color: var(--bright-orange);">+20 Knowledge Points</strong>
                    </p>
                `;
                unlockCompleteButton();
            } else if (quizState.correctAnswers >= 2) {
                feedbackDiv.innerHTML = `
                    <p style="color: var(--status-yellow); font-size: 1.2rem; margin-bottom: 1rem;">
                        ‚úÖ Good job! You passed!
                    </p>
                    <p style="color: var(--text-gray);">
                        You've earned <strong style="color: var(--bright-orange);">+20 Knowledge Points</strong>
                    </p>
                `;
                unlockCompleteButton();
            } else {
                feedbackDiv.innerHTML = `
                    <p style="color: var(--status-red); font-size: 1.2rem; margin-bottom: 1rem;">
                        ‚ùå You need at least 2/3 correct to pass.
                    </p>
                    <p style="color: var(--text-gray);">
                        <a href="#" onclick="location.reload()" style="color: var(--bright-orange);">Try again</a>!
                    </p>
                `;
            }
        }

        function unlockCompleteButton() {
            const btn = document.getElementById('complete-btn');
            btn.disabled = false;
            btn.textContent = '‚úÖ Complete Module & Earn Achievement';
        }

        function completeModule() {
            if (!window.pragmatistProgress.data.completedModules.includes('2-2')) {
                window.pragmatistProgress.data.completedModules.push('2-2');
                window.pragmatistProgress.data.knowledgeScore += 20;

                if (!window.pragmatistProgress.data.achievements.includes('blockchain-expert')) {
                    window.pragmatistProgress.data.achievements.push('blockchain-expert');
                }

                window.pragmatistProgress.save();

                showAchievement('Blockchain Expert', 'Mastered the blockchain!', 'üîó');

                setTimeout(() => {
                    window.location.href = '/paths/pragmatist/stage-2/module-6.html';
                }, 2000);
            }
        }

        function showAchievement(title, description, icon) {
            const notification = document.createElement('div');
            notification.className = 'achievement-notification';
            notification.innerHTML = `
                <div class="achievement-icon">${icon}</div>
                <div class="achievement-title">${title}</div>
                <div style="color: var(--text-gray); font-size: 1.2rem;">${description}</div>
                <div style="margin-top: 1rem; color: var(--bright-orange); font-weight: bold;">
                    +20 Knowledge Points
                </div>
            `;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        document.querySelectorAll('.hidden').forEach(el => {
            el.style.display = 'none';
        });
    </script>

    <style>
        .hidden {
            display: none !important;
        }
        .quiz-option:disabled {
            cursor: not-allowed;
        }
    </style>

    <script src="/js/module-gate.js" defer></script>
</body>
</html>
