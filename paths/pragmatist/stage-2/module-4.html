<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitcoin Mining | The Pragmatist Path</title>

    <!-- Theme Styles -->
    <link rel="stylesheet" href="/css/pragmatist-theme.css">
    <script src="/js/subdomain-access-control.js"></script>
    <script src="/js/module-gate-subdomain.js"></script>
    <link rel="stylesheet" href="/css/icons.css">
</head>
<body>
    <!-- Module Header -->
    <div class="module-header">
        <div class="container">
            <div class="breadcrumb">
                <a href="/paths/pragmatist/">‚Üê Back to Pragmatist Path</a> / Stage 2 / Module 4
            </div>
            <div class="module-title">
                <h1>‚õèÔ∏è Bitcoin Mining</h1>
                <div class="module-meta">
                    <span><span data-icon="timer"></span> 30 minutes</span>
                    <span><span data-icon="chart"></span> Difficulty: Intermediate</span>
                    <span><span data-icon="target"></span> 20 Knowledge Points</span>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Introduction -->
        <div class="content-section">
            <h2>What is Bitcoin Mining?</h2>
            <p>Bitcoin mining is the process of adding new transactions to the blockchain and creating new Bitcoin. Think of miners as the network's security guards and record-keepers rolled into one.</p>

            <div class="highlight-box">
                <p><strong><span data-icon="lightning"></span> Mining Does Three Things:</strong></p>
                <ul style="margin-left: 2rem; color: var(--text-light);">
                    <li><strong>Secures</strong> the network through computational work</li>
                    <li><strong>Verifies</strong> transactions are valid</li>
                    <li><strong>Issues</strong> new Bitcoin as rewards</li>
                </ul>
            </div>

            <p>Unlike traditional money printing which is arbitrary, Bitcoin mining is:</p>
            <ul style="margin-left: 2rem; color: var(--text-light);">
                <li>‚úÖ <strong>Predictable:</strong> Fixed schedule, no surprises</li>
                <li>‚úÖ <strong>Competitive:</strong> Anyone can participate</li>
                <li>‚úÖ <strong>Energy-backed:</strong> Real-world costs involved</li>
                <li>‚úÖ <strong>Decentralized:</strong> No single entity controls it</li>
            </ul>
        </div>

        <!-- How Mining Works -->
        <div class="content-section">
            <h2>How Mining Works: The Lottery Analogy</h2>
            <p>Bitcoin mining is like a massive lottery that runs every ~10 minutes:</p>

            <div style="margin: 2rem 0; background: var(--medium-gray); border: 2px solid var(--bright-orange); border-radius: 1rem; padding: 2rem;">
                <h3 style="color: var(--bright-yellow); margin-bottom: 1.5rem;">The Mining Process</h3>

                <div style="margin-bottom: 2rem;">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                        <span style="font-size: 2.5rem;">1Ô∏è‚É£</span>
                        <div>
                            <strong style="color: var(--bright-orange); font-size: 1.2rem;">Collect Transactions</strong>
                            <p style="margin: 0; color: var(--text-gray);">Miners gather pending transactions from the mempool</p>
                        </div>
                    </div>
                </div>

                <div style="margin-bottom: 2rem;">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                        <span style="font-size: 2.5rem;">2Ô∏è‚É£</span>
                        <div>
                            <strong style="color: var(--bright-orange); font-size: 1.2rem;">Build a Block</strong>
                            <p style="margin: 0; color: var(--text-gray);">Bundle transactions together with previous block hash</p>
                        </div>
                    </div>
                </div>

                <div style="margin-bottom: 2rem;">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                        <span style="font-size: 2.5rem;">3Ô∏è‚É£</span>
                        <div>
                            <strong style="color: var(--bright-orange); font-size: 1.2rem;">Guess the Nonce</strong>
                            <p style="margin: 0; color: var(--text-gray);">Try billions of random numbers to find a valid hash</p>
                        </div>
                    </div>
                </div>

                <div>
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                        <span style="font-size: 2.5rem;">4Ô∏è‚É£</span>
                        <div>
                            <strong style="color: var(--bright-orange); font-size: 1.2rem;">Win the Lottery</strong>
                            <p style="margin: 0; color: var(--text-gray);">First miner to find valid hash broadcasts block and collects reward</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="highlight-box success">
                <p><strong><span data-icon="lock"></span> Proof of Work:</strong></p>
                <p>The "work" in Proof of Work is finding a hash that starts with a specific number of zeros. It's computationally expensive to find, but trivial to verify. This asymmetry is what makes Bitcoin secure.</p>
            </div>
        </div>

        <!-- Hash Rate -->
        <div class="content-section">
            <h2><span data-icon="lightning"></span> Hash Rate: The Network's Power</h2>
            <p><strong>Hash rate</strong> measures how many hashing attempts the entire network performs per second. Higher hash rate = more security.</p>

            <div style="margin: 2rem 0;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                    <span style="color: var(--text-gray);">Hash Rate Scale</span>
                    <span style="color: var(--bright-yellow);">Higher = More Secure</span>
                </div>

                <div style="background: var(--medium-gray); border-radius: 0.5rem; padding: 1.5rem;">
                    <!-- Hash Rate Levels -->
                    <div style="margin-bottom: 1.5rem;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <strong style="color: var(--status-green);">üü¢ 600+ EH/s</strong>
                            <span style="color: var(--text-gray);">Current (2025)</span>
                        </div>
                        <div style="height: 8px; background: rgba(0, 255, 0, 0.3); border-radius: 4px; width: 100%;"></div>
                    </div>

                    <div style="margin-bottom: 1.5rem;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <strong style="color: var(--status-yellow);">üü° 300-600 EH/s</strong>
                            <span style="color: var(--text-gray);">2023-2024</span>
                        </div>
                        <div style="height: 8px; background: rgba(255, 255, 0, 0.3); border-radius: 4px; width: 75%;"></div>
                    </div>

                    <div style="margin-bottom: 1.5rem;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <strong style="color: var(--status-orange);">üü† 100-300 EH/s</strong>
                            <span style="color: var(--text-gray);">2021-2022</span>
                        </div>
                        <div style="height: 8px; background: rgba(255, 140, 0, 0.3); border-radius: 4px; width: 50%;"></div>
                    </div>

                    <div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <strong style="color: var(--status-red);">üî¥ <100 EH/s</strong>
                            <span style="color: var(--text-gray);">Before 2020</span>
                        </div>
                        <div style="height: 8px; background: rgba(255, 0, 0, 0.3); border-radius: 4px; width: 25%;"></div>
                    </div>
                </div>

                <p style="margin-top: 1rem; color: var(--text-dim); font-size: 0.9rem;">
                    <strong>EH/s = Exahashes per second</strong> (1 EH/s = 1,000,000,000,000,000,000 hashes per second)
                </p>
            </div>

            <div class="highlight-box">
                <p><strong><span data-icon="lightbulb"></span> What This Means:</strong> Bitcoin's hash rate has grown exponentially. The network today is thousands of times more secure than it was even a few years ago. This makes attacking Bitcoin prohibitively expensive.</p>
            </div>
        </div>

        <!-- Mining Rewards -->
        <div class="content-section">
            <h2><span data-icon="money"></span> Mining Rewards: The Block Subsidy</h2>
            <p>Miners earn Bitcoin in two ways:</p>

            <h3>1. Block Subsidy (New Bitcoin)</h3>
            <div style="margin: 1.5rem 0; background: var(--medium-gray); border: 2px solid var(--bright-yellow); border-radius: 1rem; padding: 1.5rem;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                    <div>
                        <strong style="color: var(--bright-yellow); font-size: 1.3rem;">Current Reward</strong>
                        <p style="margin: 0; color: var(--text-gray);">After 2024 halving</p>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-size: 2.5rem; font-weight: bold; color: var(--bright-orange);">3.125 BTC</div>
                        <div style="color: var(--text-gray);">per block (~$300k)</div>
                    </div>
                </div>

                <div style="background: var(--dark-gray); border-radius: 0.5rem; padding: 1rem; margin-top: 1rem;">
                    <p style="margin: 0; color: var(--text-gray); font-size: 0.9rem;"><strong>Halving History:</strong></p>
                    <ul style="margin: 0.5rem 0 0 1.5rem; color: var(--text-gray); font-size: 0.9rem;">
                        <li>2009-2012: 50 BTC per block</li>
                        <li>2012-2016: 25 BTC per block</li>
                        <li>2016-2020: 12.5 BTC per block</li>
                        <li>2020-2024: 6.25 BTC per block</li>
                        <li><strong style="color: var(--bright-orange);">2024-2028: 3.125 BTC per block</strong></li>
                        <li>2028-2032: 1.5625 BTC per block</li>
                        <li>... continues until ~2140</li>
                    </ul>
                </div>
            </div>

            <h3>2. Transaction Fees</h3>
            <p>Miners also collect all transaction fees from the block. As the block subsidy decreases over time, transaction fees will become increasingly important.</p>

            <div class="highlight-box warning">
                <p><strong><span data-icon="refresh"></span> The Halving:</strong> Every 210,000 blocks (~4 years), the block reward cuts in half. This creates Bitcoin's predictable, declining inflation schedule - the opposite of fiat money printing.</p>
            </div>
        </div>

        <!-- Mining Difficulty -->
        <div class="content-section">
            <h2><span data-icon="chart"></span> Mining Difficulty: Self-Adjusting Security</h2>
            <p>Bitcoin automatically adjusts mining difficulty every 2,016 blocks (~2 weeks) to maintain a ~10 minute block time.</p>

            <div style="margin: 2rem 0; background: var(--medium-gray); border-radius: 1rem; padding: 2rem;">
                <h3 style="text-align: center; color: var(--bright-yellow); margin-bottom: 2rem;">Difficulty Adjustment Mechanism</h3>

                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; text-align: center;">
                    <div style="padding: 1.5rem; background: rgba(255, 0, 0, 0.1); border: 2px solid var(--status-red); border-radius: 0.5rem;">
                        <div style="font-size: 2rem; margin-bottom: 0.5rem;"><span data-icon="timer"></span> <9 min</div>
                        <p style="margin: 0; color: var(--status-red); font-weight: bold;">Too Fast</p>
                        <p style="margin: 0.5rem 0 0; color: var(--text-gray); font-size: 0.9rem;">Difficulty increases</p>
                    </div>

                    <div style="padding: 1.5rem; background: rgba(0, 255, 0, 0.1); border: 2px solid var(--status-green); border-radius: 0.5rem;">
                        <div style="font-size: 2rem; margin-bottom: 0.5rem;"><span data-icon="clock"></span> ~10 min</div>
                        <p style="margin: 0; color: var(--status-green); font-weight: bold;">Perfect</p>
                        <p style="margin: 0.5rem 0 0; color: var(--text-gray); font-size: 0.9rem;">No adjustment</p>
                    </div>

                    <div style="padding: 1.5rem; background: rgba(255, 140, 0, 0.1); border: 2px solid var(--status-orange); border-radius: 0.5rem;">
                        <div style="font-size: 2rem; margin-bottom: 0.5rem;">üêå >11 min</div>
                        <p style="margin: 0; color: var(--status-orange); font-weight: bold;">Too Slow</p>
                        <p style="margin: 0.5rem 0 0; color: var(--text-gray); font-size: 0.9rem;">Difficulty decreases</p>
                    </div>
                </div>
            </div>

            <div class="highlight-box success">
                <p><strong><span data-icon="target"></span> Brilliant Design:</strong> This self-adjusting mechanism means Bitcoin maintains its predictable issuance schedule regardless of how many miners join or leave. Whether 10 miners or 10 million miners, blocks come every ~10 minutes.</p>
            </div>
        </div>

        <!-- Can You Mine? -->
        <div class="content-section">
            <h2>ü§î Should You Mine Bitcoin?</h2>
            <p>Mining is now industrial-scale. Here's the reality:</p>

            <div class="highlight-box danger">
                <p><strong>‚ö†Ô∏è For Most People: NO</strong></p>
                <ul style="margin-left: 2rem; color: var(--text-light);">
                    <li>Requires specialized ASIC hardware ($2,000-$15,000)</li>
                    <li>High electricity costs (most profitable with cheap energy)</li>
                    <li>Noise and heat (industrial operation)</li>
                    <li>Competes with massive mining farms</li>
                </ul>
            </div>

            <h3 style="color: var(--bright-orange);">Better Alternatives:</h3>
            <ul style="margin-left: 2rem; color: var(--text-light);">
                <li><strong>Just Buy Bitcoin:</strong> Usually more profitable than mining</li>
                <li><strong>Join a Mining Pool:</strong> Combine resources with others</li>
                <li><strong>Cloud Mining:</strong> Rent hash power (often scams, be careful)</li>
                <li><strong>Learn & Hodl:</strong> Focus on understanding and saving in Bitcoin</li>
            </ul>

            <div class="highlight-box">
                <p><strong><span data-icon="lightbulb"></span> Exception:</strong> If you have access to very cheap electricity (<$0.05/kWh) and technical knowledge, small-scale mining can be educational and potentially profitable.</p>
            </div>
        </div>

        <!-- Interactive Reflection Section -->
        <section class="content-section">
            <h2 style="text-align: center; color: var(--pragmatist-cyan); margin-bottom: 2rem;"><span data-icon="target"></span> Reflect & Engage</h2>

            <!-- Question 1: Primary purpose of mining -->
            <div style="margin-bottom: 3rem;">
                <h3 style="color: var(--pragmatist-teal); margin-bottom: 1rem;">1. What is the primary purpose of Bitcoin mining?</h3>
                <div class="reflection-tabs" role="tablist">
                    <button class="reflection-tab active" role="tab" aria-selected="true" onclick="switchReflectionTab(1, 'quick', event)">Quick (1 min)</button>
                    <button class="reflection-tab" role="tab" aria-selected="false" onclick="switchReflectionTab(1, 'deep', event)">Deep Dive (5 min)</button>
                </div>

                <!-- Quick Tab -->
                <div id="q1-quick" class="reflection-panel active" role="tabpanel" aria-hidden="false">
                    <p style="margin-bottom: 1rem; color: var(--text-dim);">Select the correct answer:</p>
                    <select id="q1-quick-choice" class="choice-select" onchange="checkMiningPurpose()">
                        <option value="">-- Choose one --</option>
                        <option value="create">To create as much Bitcoin as possible</option>
                        <option value="secure">To secure the network, verify transactions, and issue new Bitcoin on a fixed schedule</option>
                        <option value="wealthy">To make miners wealthy</option>
                    </select>
                    <div id="q1-quick-feedback" class="feedback-box" style="display: none;"></div>
                </div>

                <!-- Deep Tab -->
                <div id="q1-deep" class="reflection-panel" role="tabpanel" aria-hidden="true">
                    <p style="margin-bottom: 1rem;">Explain the three functions of mining and why they're combined into one process:</p>
                    <textarea id="q1-deep-text" placeholder="Think about: security, verification, issuance, proof-of-work, incentives..." style="width: 100%; min-height: 120px; padding: 1rem; background: rgba(0, 0, 0, 0.3); border: 2px solid var(--border-color); border-radius: 0.5rem; color: var(--text-light); font-size: 1rem; resize: vertical;" oninput="checkMiningPurposeDeep()"></textarea>
                    <div id="q1-deep-feedback" class="feedback-box" style="display: none;"></div>
                </div>
            </div>

            <!-- Question 2: The halving -->
            <div style="margin-bottom: 3rem;">
                <h3 style="color: var(--pragmatist-teal); margin-bottom: 1rem;">2. What happens to the Bitcoin block reward every ~4 years?</h3>
                <div class="reflection-tabs" role="tablist">
                    <button class="reflection-tab active" role="tab" aria-selected="true" onclick="switchReflectionTab(2, 'quick', event)">Quick (1 min)</button>
                    <button class="reflection-tab" role="tab" aria-selected="false" onclick="switchReflectionTab(2, 'deep', event)">Deep Dive (5 min)</button>
                </div>

                <!-- Quick Tab -->
                <div id="q2-quick" class="reflection-panel active" role="tabpanel" aria-hidden="false">
                    <p style="margin-bottom: 1rem; color: var(--text-dim);">Select the correct answer:</p>
                    <select id="q2-quick-choice" class="choice-select" onchange="checkHalving()">
                        <option value="">-- Choose one --</option>
                        <option value="doubles">It doubles</option>
                        <option value="halves">It halves (the "halving")</option>
                        <option value="same">It stays the same</option>
                    </select>
                    <div id="q2-quick-feedback" class="feedback-box" style="display: none;"></div>
                </div>

                <!-- Deep Tab -->
                <div id="q2-deep" class="reflection-panel" role="tabpanel" aria-hidden="true">
                    <p style="margin-bottom: 1rem;">Why does Bitcoin halve the block reward? What effect does this have on supply and incentives?</p>
                    <textarea id="q2-deep-text" placeholder="Consider: scarcity, inflation rate, 21M cap, miner incentives, fee transition..." style="width: 100%; min-height: 120px; padding: 1rem; background: rgba(0, 0, 0, 0.3); border: 2px solid var(--border-color); border-radius: 0.5rem; color: var(--text-light); font-size: 1rem; resize: vertical;" oninput="checkHalvingDeep()"></textarea>
                    <div id="q2-deep-feedback" class="feedback-box" style="display: none;"></div>
                </div>
            </div>

            <!-- Question 3: Difficulty adjustment -->
            <div style="margin-bottom: 3rem;">
                <h3 style="color: var(--pragmatist-teal); margin-bottom: 1rem;">3. How does Bitcoin maintain a ~10 minute block time?</h3>
                <div class="reflection-tabs" role="tablist">
                    <button class="reflection-tab active" role="tab" aria-selected="true" onclick="switchReflectionTab(3, 'quick', event)">Quick (1 min)</button>
                    <button class="reflection-tab" role="tab" aria-selected="false" onclick="switchReflectionTab(3, 'deep', event)">Deep Dive (5 min)</button>
                </div>

                <!-- Quick Tab -->
                <div id="q3-quick" class="reflection-panel active" role="tabpanel" aria-hidden="false">
                    <p style="margin-bottom: 1rem; color: var(--text-dim);">Choose the correct answer:</p>
                    <select id="q3-quick-choice" class="choice-select" onchange="checkDifficulty()">
                        <option value="">-- Choose one --</option>
                        <option value="agreement">Miners agree to slow down</option>
                        <option value="automatic">Difficulty automatically adjusts every 2 weeks</option>
                        <option value="manual">The Bitcoin Core developers manually adjust it</option>
                    </select>
                    <div id="q3-quick-feedback" class="feedback-box" style="display: none;"></div>
                </div>

                <!-- Deep Tab -->
                <div id="q3-deep" class="reflection-panel" role="tabpanel" aria-hidden="true">
                    <p style="margin-bottom: 1rem;">Explain how the difficulty adjustment algorithm works and why it's critical for Bitcoin's security:</p>
                    <textarea id="q3-deep-text" placeholder="Think about: 2016 blocks, automatic adjustment, no human intervention, predictable supply..." style="width: 100%; min-height: 120px; padding: 1rem; background: rgba(0, 0, 0, 0.3); border: 2px solid var(--border-color); border-radius: 0.5rem; color: var(--text-light); font-size: 1rem; resize: vertical;" oninput="checkDifficultyDeep()"></textarea>
                    <div id="q3-deep-feedback" class="feedback-box" style="display: none;"></div>
                </div>
            </div>
        </section>

        <!-- Complete Module Button -->
        <div style="text-align: center; margin: 3rem 0;">
            <button id="complete-btn" class="btn" disabled onclick="completeModule()">
                <span data-icon="lock"></span> Complete Quiz First
            </button>
            <p style="margin-top: 1rem; color: var(--text-dim);">Answer all quiz questions correctly to unlock</p>
        </div>
    </div>

    <!-- Interactive Reflection JavaScript -->
    <script>
        window.pragmatistProgress = {
            data: JSON.parse(localStorage.getItem('pragmatist-progress')) || {
                completedModules: [],
                knowledgeScore: 0,
                achievements: [],
                timeSpent: 0,
                startTime: Date.now()
            },
            save: function() {
                localStorage.setItem('pragmatist-progress', JSON.stringify(this.data));
            }
        };

        // Tab switching
        function switchReflectionTab(questionNum, level, event) {
            document.querySelectorAll(`#q${questionNum}-quick, #q${questionNum}-deep`).forEach(panel => {
                panel.classList.remove('active');
                panel.setAttribute('aria-hidden', 'true');
            });
            event.target.parentElement.querySelectorAll('.reflection-tab').forEach(tab => {
                tab.classList.remove('active');
                tab.setAttribute('aria-selected', 'false');
            });
            const panel = document.getElementById(`q${questionNum}-${level}`);
            panel.classList.add('active');
            panel.setAttribute('aria-hidden', 'false');
            event.target.classList.add('active');
            event.target.setAttribute('aria-selected', 'true');
        }

        // Q1: Mining purpose
        function checkMiningPurpose() {
            const choice = document.getElementById('q1-quick-choice').value;
            const feedbackDiv = document.getElementById('q1-quick-feedback');

            if (!choice) {
                feedbackDiv.style.display = 'none';
                return;
            }

            if (choice === 'secure') {
                feedbackDiv.innerHTML = `<h5>‚úì Perfect Understanding!</h5><p>Mining serves <strong>three critical functions</strong>:<br><br>1. <strong>Security:</strong> Proof-of-work makes attacks prohibitively expensive<br>2. <strong>Verification:</strong> Validates transactions are legitimate<br>3. <strong>Issuance:</strong> Releases new Bitcoin on a fixed, predictable schedule<br><br>These are combined because the security work earns the right to issue new coins‚Äîelegant incentive alignment.</p>`;
                feedbackDiv.className = 'feedback-box positive';
                updateProgress('q1');
            } else if (choice === 'create') {
                feedbackDiv.innerHTML = `<h5>‚ö†Ô∏è Issuance Is Controlled</h5><p>Mining doesn't create "as much Bitcoin as possible"‚Äîit follows a <strong>fixed schedule</strong>. Miners secure the network and verify transactions; the block reward is payment for that work. The amount is predetermined by the protocol, not by mining effort.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            } else {
                feedbackDiv.innerHTML = `<h5>‚ö†Ô∏è Profit Is Byproduct, Not Purpose</h5><p>While miners earn rewards, the <strong>system purpose</strong> is network security + transaction verification + controlled issuance. Miner profit is the incentive mechanism, not the goal. Bitcoin uses greed to secure the network.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            }
            feedbackDiv.style.display = 'block';
            saveResponse('q1-quick', choice);
        }

        function checkMiningPurposeDeep() {
            const text = document.getElementById('q1-deep-text').value.toLowerCase();
            const feedbackDiv = document.getElementById('q1-deep-feedback');

            if (text.length < 30) {
                feedbackDiv.style.display = 'none';
                return;
            }

            let score = 0;
            const keywords = {
                security: /(secur|protect|attack|defend)/,
                verify: /(verif|valid|check|confirm)/,
                issuance: /(issu|creat|reward|supply|distribution)/,
                incentive: /(incentive|align|econom|reward)/
            };

            for (let key in keywords) {
                if (keywords[key].test(text)) score++;
            }

            if (score >= 3) {
                feedbackDiv.innerHTML = `<h5>‚úì Systems Thinking! (${score}/4 concepts)</h5><p>You understand the elegant design:<br><br><strong>Security</strong> (proof-of-work) + <strong>Verification</strong> (transaction validation) + <strong>Issuance</strong> (new coins on schedule) are combined because the <strong>work earns the right to issue</strong>.<br><br>This aligns incentives: miners are paid to secure and validate. No security work = no new coins. Brilliant economic design.</p>`;
                feedbackDiv.className = 'feedback-box positive';
                updateProgress('q1');
            } else if (score >= 2) {
                feedbackDiv.innerHTML = `<h5><span data-icon="lightbulb"></span> Good Start (${score}/4 concepts)</h5><p>Strengthen your explanation: <strong>security through proof-of-work</strong>, <strong>transaction verification</strong>, <strong>controlled issuance</strong>, <strong>incentive alignment</strong>. Why combine them? The work required for security earns the privilege to issue new coins.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            } else {
                feedbackDiv.innerHTML = `<h5><span data-icon="lightbulb"></span> Expand Your Analysis</h5><p>Key functions: <strong>network security</strong>, <strong>transaction verification</strong>, <strong>new coin issuance</strong>, <strong>economic incentives</strong>. These are combined into one process‚Äîsecurity work = permission to issue. Explain why this matters!</p>`;
                feedbackDiv.className = 'feedback-box hint';
            }
            feedbackDiv.style.display = 'block';
            saveResponse('q1-deep', text);
        }

        // Q2: The halving
        function checkHalving() {
            const choice = document.getElementById('q2-quick-choice').value;
            const feedbackDiv = document.getElementById('q2-quick-feedback');

            if (!choice) {
                feedbackDiv.style.display = 'none';
                return;
            }

            if (choice === 'halves') {
                feedbackDiv.innerHTML = `<h5>‚úì Correct!</h5><p>Every ~4 years (210,000 blocks), the block reward <strong>halves</strong>.<br><br>Started at 50 BTC (2009), now 3.125 BTC (2024). This creates <strong>increasing scarcity</strong> and ensures the 21M cap is never exceeded. The halving schedule is <strong>algorithmic and unchangeable</strong>.</p>`;
                feedbackDiv.className = 'feedback-box positive';
                updateProgress('q2');
            } else if (choice === 'doubles') {
                feedbackDiv.innerHTML = `<h5>‚ö†Ô∏è Opposite Direction</h5><p>If the reward doubled, Bitcoin supply would be infinite. Instead, it <strong>halves every ~4 years</strong>, creating increasing scarcity. This ensures the 21M cap is mathematically guaranteed.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            } else {
                feedbackDiv.innerHTML = `<h5>‚ö†Ô∏è It Changes</h5><p>The reward doesn't stay the same‚Äîit <strong>halves every ~4 years</strong>. Started at 50 BTC/block, now 3.125 BTC. This decreasing issuance creates scarcity and ensures the 21M limit is reached around 2140.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            }
            feedbackDiv.style.display = 'block';
            saveResponse('q2-quick', choice);
        }

        function checkHalvingDeep() {
            const text = document.getElementById('q2-deep-text').value.toLowerCase();
            const feedbackDiv = document.getElementById('q2-deep-feedback');

            if (text.length < 30) {
                feedbackDiv.style.display = 'none';
                return;
            }

            let score = 0;
            const keywords = {
                scarcity: /(scarc|limit|finite|decreas)/,
                inflation: /(inflation|rate|supply|issuance)/,
                cap21: /(21|million|cap|maximum)/,
                fees: /(fee|transition|incentive|future)/
            };

            for (let key in keywords) {
                if (keywords[key].test(text)) score++;
            }

            if (score >= 3) {
                feedbackDiv.innerHTML = `<h5>‚úì Economic Insight! (${score}/4 concepts)</h5><p>You grasp the halving's purpose:<br><br><strong>Increasing scarcity</strong> (deflationary schedule), <strong>decreasing inflation rate</strong> over time, <strong>ensures 21M cap</strong> is reached, <strong>forces transition to fee-based incentives</strong>.<br><br>By 2140, miners will earn only fees‚Äînot block rewards. This creates a long-term security model based on transaction volume, not new issuance.</p>`;
                feedbackDiv.className = 'feedback-box positive';
                updateProgress('q2');
            } else if (score >= 2) {
                feedbackDiv.innerHTML = `<h5><span data-icon="lightbulb"></span> Good Understanding (${score}/4 concepts)</h5><p>Also consider: <strong>programmed scarcity</strong>, <strong>decreasing inflation rate</strong>, <strong>21M cap enforcement</strong>, <strong>gradual transition to fee-based mining</strong>. The halving isn't arbitrary‚Äîit's Bitcoin's monetary policy in code.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            } else {
                feedbackDiv.innerHTML = `<h5><span data-icon="lightbulb"></span> Dig Deeper</h5><p>Key effects: <strong>creates scarcity</strong>, <strong>lowers inflation rate</strong> (approaches 0%), <strong>guarantees 21M maximum</strong>, <strong>transitions miners from rewards to fees</strong>. Why halve instead of linear decrease? Exponential scarcity mimics precious metals.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            }
            feedbackDiv.style.display = 'block';
            saveResponse('q2-deep', text);
        }

        // Q3: Difficulty adjustment
        function checkDifficulty() {
            const choice = document.getElementById('q3-quick-choice').value;
            const feedbackDiv = document.getElementById('q3-quick-feedback');

            if (!choice) {
                feedbackDiv.style.display = 'none';
                return;
            }

            if (choice === 'automatic') {
                feedbackDiv.innerHTML = `<h5>‚úì Exactly Right!</h5><p>Every 2016 blocks (~2 weeks), difficulty <strong>automatically adjusts</strong> based on how fast the previous blocks were mined.<br><br>Too fast? Difficulty increases. Too slow? Difficulty decreases. This keeps block time at ~10 minutes regardless of total hash power. <strong>No human intervention required</strong>.</p>`;
                feedbackDiv.className = 'feedback-box positive';
                updateProgress('q3');
            } else if (choice === 'agreement') {
                feedbackDiv.innerHTML = `<h5>‚ö†Ô∏è No Coordination Needed</h5><p>Miners don't need to agree or coordinate. The protocol <strong>automatically adjusts difficulty</strong> every 2016 blocks based on math, not miner behavior. This is trustless coordination through code.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            } else {
                feedbackDiv.innerHTML = `<h5>‚ö†Ô∏è Fully Automated</h5><p>No developers manually adjust anything. The difficulty adjustment is <strong>algorithmic and automatic</strong>‚Äîevery 2016 blocks, the protocol calculates if blocks are coming too fast/slow and adjusts accordingly. Zero human discretion.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            }
            feedbackDiv.style.display = 'block';
            saveResponse('q3-quick', choice);
        }

        function checkDifficultyDeep() {
            const text = document.getElementById('q3-deep-text').value.toLowerCase();
            const feedbackDiv = document.getElementById('q3-deep-feedback');

            if (text.length < 30) {
                feedbackDiv.style.display = 'none';
                return;
            }

            let score = 0;
            const keywords = {
                blocks2016: /(2016|two week|2 week|every 2 week)/,
                automatic: /(automat|algorithm|self.?adjust|code)/,
                nohuman: /(no human|no interven|no discret|trustless)/,
                predictable: /(predict|schedul|regular|consistent)/
            };

            for (let key in keywords) {
                if (keywords[key].test(text)) score++;
            }

            if (score >= 3) {
                feedbackDiv.innerHTML = `<h5>‚úì Protocol Mastery! (${score}/4 concepts)</h5><p>You understand the elegance:<br><br>Every <strong>2016 blocks</strong> (~2 weeks), the network <strong>automatically recalibrates</strong> difficulty based on actual vs. target time. <strong>No human intervention</strong> possible‚Äîit's pure math. This ensures <strong>predictable issuance</strong> regardless of hash power.<br><br>Result: 21M supply schedule is guaranteed, even if hash power increases 1000x.</p>`;
                feedbackDiv.className = 'feedback-box positive';
                updateProgress('q3');
            } else if (score >= 2) {
                feedbackDiv.innerHTML = `<h5><span data-icon="lightbulb"></span> Good Foundation (${score}/4 concepts)</h5><p>Strengthen your explanation: <strong>2016-block intervals</strong>, <strong>automatic adjustment</strong>, <strong>no human control</strong>, <strong>predictable supply schedule</strong>. This algorithm is Bitcoin's thermostat‚Äîself-regulating and trustless.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            } else {
                feedbackDiv.innerHTML = `<h5><span data-icon="lightbulb"></span> Explain the Mechanism</h5><p>Key points: <strong>2016-block cycle</strong>, <strong>algorithmic adjustment</strong>, <strong>zero human discretion</strong>, <strong>maintains 10-min average</strong>. Why critical? Ensures Bitcoin's <strong>supply schedule is unchangeable</strong> no matter how much mining power exists.</p>`;
                feedbackDiv.className = 'feedback-box hint';
            }
            feedbackDiv.style.display = 'block';
            saveResponse('q3-deep', text);
        }

        // Progress tracking
        const completedQuestions = new Set();

        function updateProgress(questionId) {
            completedQuestions.add(questionId);
            if (completedQuestions.size >= 3) {
                document.getElementById('complete-btn').disabled = false;
                document.getElementById('complete-btn').textContent = '‚úÖ Complete Module & Continue ‚Üí';
            }
        }

        // Save/load
        function saveResponse(key, value) {
            localStorage.setItem(`pragmatist-m4-${key}`, value);
        }

        function loadResponses() {
            const savedKeys = ['q1-quick', 'q1-deep', 'q2-quick', 'q2-deep', 'q3-quick', 'q3-deep'];
            savedKeys.forEach(key => {
                const value = localStorage.getItem(`pragmatist-m4-${key}`);
                if (value) {
                    const element = document.getElementById(`${key}-choice`) || document.getElementById(`${key}-text`);
                    if (element) element.value = value;
                }
            });
        }

        // Complete module
        function completeModule() {
            if (!window.pragmatistProgress.data.completedModules.includes('2-1')) {
                window.pragmatistProgress.data.completedModules.push('2-1');
                window.pragmatistProgress.data.knowledgeScore += 20;

                if (!window.pragmatistProgress.data.achievements.includes('mining-master')) {
                    window.pragmatistProgress.data.achievements.push('mining-master');
                }

                window.pragmatistProgress.save();

                showAchievement('Mining Master', 'Understood Bitcoin mining!', '‚õèÔ∏è');

                setTimeout(() => {
                    window.location.href = '/paths/pragmatist/stage-2/module-5.html';
                }, 2000);
            }
        }

        function showAchievement(title, description, icon) {
            const notification = document.createElement('div');
            notification.className = 'achievement-notification';
            notification.innerHTML = `
                <div class="achievement-icon">${icon}</div>
                <div class="achievement-title">${title}</div>
                <div style="color: var(--text-gray); font-size: 1.2rem;">${description}</div>
                <div style="margin-top: 1rem; color: var(--bright-orange); font-weight: bold;">+20 Knowledge Points</div>
            `;
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 3000);
        }

        document.addEventListener('DOMContentLoaded', loadResponses);
    </script>

    <!-- Add condensed CSS framework -->
    <style>
        .reflection-tabs { display: flex; gap: 0.5rem; margin-bottom: 1.5rem; border-bottom: 2px solid rgba(0, 188, 212, 0.2); padding-bottom: 0.5rem; }
        .reflection-tab { background: transparent; color: var(--text-dim); border: 2px solid rgba(0, 188, 212, 0.3); padding: 0.5rem 1.25rem; border-radius: 8px 8px 0 0; font-weight: 600; font-size: 0.95rem; cursor: pointer; transition: all 0.3s ease; }
        .reflection-tab.active { background: linear-gradient(135deg, rgba(0, 188, 212, 0.2), rgba(0, 172, 193, 0.1)); color: var(--pragmatist-cyan); border-color: var(--pragmatist-cyan); }
        .reflection-panel { display: none; padding: 1.5rem; background: rgba(26, 26, 26, 0.8); border-radius: 0 8px 8px 8px; border: 2px solid rgba(0, 188, 212, 0.2); }
        .reflection-panel.active { display: block; }
        .choice-select { width: 100%; padding: 1rem; background: rgba(0, 0, 0, 0.3); border: 2px solid var(--border-color); border-radius: 0.5rem; color: var(--text-light); font-size: 1rem; cursor: pointer; }
        .feedback-box { margin-top: 1.5rem; padding: 1.5rem; border-radius: 0.5rem; border: 2px solid; display: none; }
        .feedback-box.positive { background: rgba(76, 175, 80, 0.1); border-color: #4caf50; color: var(--text-light); }
        .feedback-box.hint { background: rgba(255, 152, 0, 0.1); border-color: #ff9800; color: var(--text-light); }
        @media (max-width: 768px) {
            .reflection-tabs { flex-direction: column; }
            .reflection-tab { border-radius: 0.5rem; }
            .reflection-panel { border-radius: 0.5rem; }
        }
    </style>

    
    <!-- Animated Icon Library -->
    <script src="/js/icon-library.js"></script>
    <script>
        // Inject icons after DOM loads
        document.addEventListener('DOMContentLoaded', function() {
            if (window.IconLibrary) {
                document.querySelectorAll('[data-icon]').forEach(function(element) {
                    var iconName = element.getAttribute('data-icon');
                    if (iconName) {
                        var iconHTML = IconLibrary.get(iconName, 20, true);
                        var span = document.createElement('span');
                        span.innerHTML = iconHTML;
                        span.className = 'icon-inline';
                        span.style.marginRight = '0.5rem';
                        span.style.display = 'inline-block';
                        span.style.verticalAlign = 'middle';
                        element.insertBefore(span, element.firstChild);
                    }
                });
            }
        });
    </script>
</body>
</html>
