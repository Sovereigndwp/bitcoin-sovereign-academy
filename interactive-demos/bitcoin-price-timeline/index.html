<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitcoin Price Timeline | Learn Why Prices Move | Bitcoin Sovereign Academy</title>
    <meta name="description" content="Interactive Bitcoin price timeline exploring the 'why' behind every major price movement from 2009 to 2025. Understand halving cycles, market events, and adoption milestones.">

    <link rel="stylesheet" href="/css/brand.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-sans);
            background: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Header */
        header {
            text-align: center;
            margin-bottom: 3rem;
            padding-bottom: 2rem;
            border-bottom: 2px solid var(--color-brand);
        }

        .breadcrumb {
            font-size: 0.9rem;
            color: var(--color-muted);
            margin-bottom: 1rem;
        }

        .breadcrumb a {
            color: var(--color-brand);
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .separator {
            margin: 0 0.5rem;
            color: var(--color-muted);
        }

        h1 {
            font-size: 2.5rem;
            color: var(--color-brand);
            margin-bottom: 0.5rem;
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--color-muted);
            max-width: 600px;
            margin: 0 auto;
        }

        /* Intro Section */
        .intro-section {
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            padding: 2.5rem;
            margin-bottom: 3rem;
            box-shadow: var(--shadow-1);
        }

        .intro-section h2 {
            color: var(--color-brand);
            font-size: 1.8rem;
            margin-bottom: 1rem;
        }

        .intro-section p {
            color: var(--color-text);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .socratic-question {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.1) 0%, rgba(75, 0, 130, 0.1) 100%);
            border: 2px solid rgba(138, 43, 226, 0.3);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            margin: 1.5rem 0;
            font-style: italic;
            font-size: 1.1rem;
            text-align: center;
        }

        .socratic-question::before {
            content: "ü§î ";
            font-style: normal;
        }

        /* Stats Overview */
        .stats-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .stat-card {
            background: var(--color-surface);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            text-align: center;
            box-shadow: var(--shadow-1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-2);
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--color-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.5rem;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--color-brand);
        }

        .stat-subtext {
            font-size: 0.9rem;
            color: var(--color-muted);
            margin-top: 0.5rem;
        }

        /* Live Price Banner */
        .live-price-banner {
            background: linear-gradient(135deg, rgba(247, 147, 26, 0.15) 0%, rgba(247, 147, 26, 0.05) 100%);
            border: 2px solid var(--color-brand);
            border-radius: var(--radius-lg);
            padding: 2rem;
            margin-bottom: 3rem;
            text-align: center;
        }

        .live-price-banner h3 {
            color: var(--color-brand);
            margin-bottom: 1rem;
        }

        .current-price-display {
            font-size: 3rem;
            font-weight: 700;
            color: var(--color-brand);
            margin-bottom: 0.5rem;
        }

        .price-source {
            font-size: 0.9rem;
            color: var(--color-muted);
        }

        .loading-price {
            font-size: 1.5rem;
            color: var(--color-muted);
        }

        /* Timeline Controls */
        .timeline-controls {
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            margin-bottom: 2rem;
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-1);
        }

        .filter-button {
            padding: 0.75rem 1.5rem;
            background: transparent;
            border: 2px solid var(--color-brand);
            border-radius: var(--radius-pill);
            color: var(--color-brand);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .filter-button:hover {
            background: rgba(247, 147, 26, 0.1);
            transform: translateY(-2px);
        }

        .filter-button.active {
            background: var(--color-brand);
            color: var(--color-bg);
        }

        /* Timeline Container */
        .timeline-wrapper {
            position: relative;
            margin: 3rem 0;
        }

        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(180deg, var(--color-brand) 0%, rgba(247, 147, 26, 0.3) 100%);
            transform: translateX(-50%);
            z-index: 0;
        }

        /* Timeline Event */
        .timeline-event {
            position: relative;
            margin-bottom: 4rem;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }

        .timeline-event.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .timeline-event.left .event-content {
            margin-right: auto;
            margin-left: 0;
            text-align: right;
        }

        .timeline-event.right .event-content {
            margin-left: auto;
            margin-right: 0;
            text-align: left;
        }

        .event-content {
            width: calc(50% - 50px);
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            padding: 2rem;
            box-shadow: var(--shadow-2);
            position: relative;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .timeline-event:hover .event-content {
            border-color: var(--color-brand);
            transform: scale(1.02);
        }

        /* Event Type Colors */
        .event-content.halving {
            border-left: 4px solid #FFD700;
        }

        .event-content.crash {
            border-left: 4px solid var(--color-danger);
        }

        .event-content.adoption {
            border-left: 4px solid var(--color-success);
        }

        .event-content.regulation {
            border-left: 4px solid var(--color-info);
        }

        /* Timeline Marker */
        .timeline-marker {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--color-brand);
            border: 4px solid var(--color-bg);
            z-index: 10;
            box-shadow: 0 0 0 4px rgba(247, 147, 26, 0.2);
        }

        .timeline-marker.halving {
            background: #FFD700;
            box-shadow: 0 0 0 4px rgba(255, 215, 0, 0.2);
        }

        .timeline-marker.crash {
            background: var(--color-danger);
            box-shadow: 0 0 0 4px rgba(244, 67, 54, 0.2);
        }

        .timeline-marker.adoption {
            background: var(--color-success);
            box-shadow: 0 0 0 4px rgba(76, 175, 80, 0.2);
        }

        /* Event Header */
        .event-date {
            font-size: 0.85rem;
            color: var(--color-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.5rem;
        }

        .event-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--color-brand);
            margin-bottom: 0.75rem;
        }

        .event-price {
            font-size: 2rem;
            font-weight: 700;
            color: var(--color-text);
            margin-bottom: 1rem;
        }

        .event-description {
            color: var(--color-text);
            margin-bottom: 1rem;
            line-height: 1.8;
        }

        .event-why {
            background: rgba(247, 147, 26, 0.1);
            border-left: 3px solid var(--color-brand);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: var(--radius-sm);
        }

        .event-why h4 {
            color: var(--color-brand);
            font-size: 0.9rem;
            text-transform: uppercase;
            margin-bottom: 0.5rem;
        }

        .event-impact {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .impact-item {
            text-align: center;
            padding: 0.75rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--radius-sm);
        }

        .impact-label {
            font-size: 0.75rem;
            color: var(--color-muted);
            text-transform: uppercase;
        }

        .impact-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--color-brand);
        }

        .impact-value.positive {
            color: var(--color-success);
        }

        .impact-value.negative {
            color: var(--color-danger);
        }

        /* Key Lessons */
        .key-lesson {
            background: linear-gradient(135deg, rgba(33, 150, 243, 0.1) 0%, rgba(33, 150, 243, 0.05) 100%);
            border: 2px solid var(--color-info);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            margin-top: 1.5rem;
        }

        .key-lesson h4 {
            color: var(--color-info);
            margin-bottom: 0.75rem;
            font-size: 1rem;
        }

        .key-lesson p {
            color: var(--color-text);
            line-height: 1.7;
        }

        /* Price Change Badge */
        .price-change {
            display: inline-block;
            padding: 0.4rem 0.8rem;
            border-radius: var(--radius-pill);
            font-weight: 700;
            font-size: 0.9rem;
            margin: 0.5rem 0;
        }

        .price-change.up {
            background: rgba(76, 175, 80, 0.2);
            color: var(--color-success);
        }

        .price-change.down {
            background: rgba(244, 67, 54, 0.2);
            color: var(--color-danger);
        }

        /* Summary Section */
        .summary-section {
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            padding: 3rem;
            margin-top: 4rem;
            box-shadow: var(--shadow-2);
        }

        .summary-section h2 {
            color: var(--color-brand);
            font-size: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .takeaway-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .takeaway-card {
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--radius-md);
            padding: 2rem;
            text-align: center;
            border: 2px solid transparent;
            transition: border-color 0.3s ease;
        }

        .takeaway-card:hover {
            border-color: var(--color-brand);
        }

        .takeaway-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .takeaway-card h3 {
            color: var(--color-brand);
            margin-bottom: 1rem;
        }

        /* Loading State */
        .loading-spinner {
            border: 4px solid rgba(247, 147, 26, 0.1);
            border-top: 4px solid var(--color-brand);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 2rem auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            h1 {
                font-size: 1.75rem;
            }

            .timeline-line {
                left: 20px;
            }

            .timeline-event.left .event-content,
            .timeline-event.right .event-content {
                width: calc(100% - 50px);
                margin-left: 50px;
                margin-right: 0;
                text-align: left;
            }

            .timeline-marker {
                left: 20px;
            }

            .event-price {
                font-size: 1.5rem;
            }

            .current-price-display {
                font-size: 2rem;
            }

            .stats-overview {
                grid-template-columns: 1fr;
            }
        }

        /* Accessibility */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Skip Link */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--color-brand);
            color: var(--color-bg);
            padding: 12px 20px;
            text-decoration: none;
            font-weight: 600;
            z-index: 10001;
            border-radius: 0 0 4px 0;
        }

        .skip-link:focus {
            top: 0;
        }
    </style>
    <link rel="stylesheet" href="/css/icons.css">
    <link rel="stylesheet" href="/css/interactive-demos.css">
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <script src="/js/config.js"></script>
    <script src="/js/demo-lock-subdomain.js"></script>
    <script src="/js/subdomain-access-control.js"></script>

    <div class="container">
        <header>
            <div class="breadcrumb">
                <a href="/index.html">Home</a>
                <span class="separator">‚Ä∫</span>
                <a href="../index.html">Interactive Demos</a>
                <span class="separator">‚Ä∫</span>
                <span>Bitcoin Price Timeline</span>
            </div>
            <h1>Bitcoin Price Timeline</h1>
            <p class="subtitle">Explore the "why" behind every major price movement from 2009 to today</p>
        </header>

        <main id="main-content">
            <!-- Intro Section -->
            <section class="intro-section">
                <h2>Understanding Bitcoin's Price Journey</h2>
                <p>Bitcoin's price doesn't move randomly. Every major shift tells a story about human psychology, technological progress, economic crises, and the slow march toward monetary sovereignty.</p>

                <div class="socratic-question">
                    If Bitcoin's price has crashed over 80% multiple times, yet always recovered to new highs, what does this tell you about its fundamental value proposition?
                </div>

                <p>This timeline explores not just <em>what</em> happened to Bitcoin's price, but <strong>why</strong> it happened. Each milestone teaches us about market cycles, human behavior, and the unstoppable nature of sound money.</p>
            </section>

            <!-- Live Price -->
            <section class="live-price-banner" id="live-price-section">
                <h3>Current Bitcoin Price</h3>
                <div class="current-price-display" id="current-price">
                    <div class="loading-spinner"></div>
                    <span class="loading-price">Loading...</span>
                </div>
                <div class="price-source" id="price-source">Fetching from CoinCap API...</div>
            </section>

            <!-- Stats Overview -->
            <section class="stats-overview" id="stats-overview">
                <div class="stat-card">
                    <div class="stat-label">All-Time High</div>
                    <div class="stat-value" id="ath-price">$73,800</div>
                    <div class="stat-subtext">March 2024</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Days Since Genesis</div>
                    <div class="stat-value" id="days-elapsed">---</div>
                    <div class="stat-subtext">January 3, 2009</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Halvings Completed</div>
                    <div class="stat-value">4</div>
                    <div class="stat-subtext">April 2024</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">ROI from $1</div>
                    <div class="stat-value" id="roi-value">---</div>
                    <div class="stat-subtext">February 2011</div>
                </div>
            </section>

            <!-- Timeline Controls -->
            <section class="timeline-controls">
                <button class="filter-button active" data-filter="all">All Events</button>
                <button class="filter-button" data-filter="halving">Halvings</button>
                <button class="filter-button" data-filter="adoption">Adoption</button>
                <button class="filter-button" data-filter="crash">Crashes</button>
                <button class="filter-button" data-filter="regulation">Regulation</button>
            </section>

            <!-- Timeline -->
            <section class="timeline-wrapper">
                <div class="timeline-line" aria-hidden="true"></div>
                <div id="timeline-events">
                    <!-- Events will be populated by JavaScript -->
                </div>
            </section>

            <!-- Summary -->
            <section class="summary-section">
                <h2>Key Takeaways from Bitcoin's Price History</h2>

                <div class="takeaway-grid">
                    <div class="takeaway-card">
                        <div class="takeaway-icon">üîÑ</div>
                        <h3>4-Year Cycles</h3>
                        <p>Bitcoin follows predictable 4-year halving cycles. Each cycle sees exponential growth followed by a correction, then consolidation before the next cycle.</p>
                    </div>

                    <div class="takeaway-card">
                        <div class="takeaway-icon">üìà</div>
                        <h3>Long-Term Trend</h3>
                        <p>Despite 80%+ crashes, Bitcoin has maintained an upward trajectory for 15+ years. Every all-time high is eventually surpassed.</p>
                    </div>

                    <div class="takeaway-card">
                        <div class="takeaway-icon">üí™</div>
                        <h3>Anti-Fragile</h3>
                        <p>Each crisis (Mt. Gox, China bans, FTX collapse) was predicted to "kill" Bitcoin. Each time, the network emerged stronger.</p>
                    </div>

                    <div class="takeaway-card">
                        <div class="takeaway-icon">üåç</div>
                        <h3>Global Adoption</h3>
                        <p>Price reflects growing institutional adoption: from criminals to El Salvador to BlackRock ETFs.</p>
                    </div>
                </div>

                <div class="socratic-question" style="margin-top: 2rem;">
                    Looking at this timeline, which matters more for Bitcoin's long-term success: short-term price movements or the unstoppable growth of the network and adoption?
                </div>
            </section>
        </main>
    </div>

    <script>
        // Timeline Events Data
        const timelineEvents = [
            {
                date: '2009-01-03',
                type: 'genesis',
                category: 'adoption',
                title: 'Genesis Block',
                price: '$0.00',
                priceValue: 0,
                description: 'Satoshi Nakamoto mines the first Bitcoin block, embedding "The Times 03/Jan/2009 Chancellor on brink of second bailout for banks" in the coinbase.',
                why: 'Bitcoin was born from the 2008 financial crisis as a response to bank bailouts and central bank manipulation.',
                lesson: 'Bitcoin is more than technology - it\'s a monetary revolution born from necessity.',
                impact: []
            },
            {
                date: '2010-05-22',
                type: 'adoption',
                category: 'adoption',
                title: 'Bitcoin Pizza Day',
                price: '$0.0041',
                priceValue: 0.0041,
                priceChange: null,
                description: 'Laszlo Hanyecz pays 10,000 BTC for two pizzas - the first real-world Bitcoin transaction.',
                why: 'This proved Bitcoin could be used as a medium of exchange, not just a digital experiment.',
                lesson: 'Those pizzas are worth over $700 million today. Early Bitcoin was cheap, but its potential was already clear to those paying attention.',
                impact: [
                    { label: 'Price', value: '$0.0041' },
                    { label: 'Pizza Cost', value: '10,000 BTC' }
                ]
            },
            {
                date: '2011-02-09',
                type: 'adoption',
                category: 'adoption',
                title: 'Bitcoin Reaches $1',
                price: '$1.00',
                priceValue: 1,
                priceChange: '+24,390%',
                description: 'Bitcoin crosses the symbolic $1 threshold, gaining media attention and early adopters.',
                why: 'Parity with the dollar proved Bitcoin could function as real money, not just a toy.',
                lesson: 'From $0.0041 to $1 in less than a year. Early believers saw 24,000% gains.',
                impact: [
                    { label: 'Price', value: '$1.00' },
                    { label: 'From Pizza Day', value: '+24,390%', positive: true }
                ]
            },
            {
                date: '2011-06-09',
                type: 'crash',
                category: 'crash',
                title: 'First Major Crash',
                price: '$0.01',
                priceValue: 0.01,
                priceChange: '-99%',
                description: 'After reaching $32, Mt. Gox exchange is hacked and Bitcoin crashes to $0.01 briefly.',
                why: 'Weak exchange security and thin liquidity made early Bitcoin extremely volatile.',
                lesson: 'The first of many "Bitcoin is dead" proclamations. Volatility is the price of being early to revolutionary technology.',
                impact: [
                    { label: 'Price Drop', value: '-99%', negative: true },
                    { label: 'Recovery', value: '6 months' }
                ]
            },
            {
                date: '2012-11-28',
                type: 'halving',
                category: 'halving',
                title: 'First Halving',
                price: '$12.50',
                priceValue: 12.50,
                priceChange: null,
                description: 'Block reward reduced from 50 BTC to 25 BTC. Bitcoin\'s programmatic scarcity kicks in.',
                why: 'Halving cuts new supply issuance by 50%, creating supply shock economics.',
                lesson: 'This established the 4-year cycle pattern that has defined Bitcoin\'s price movements ever since.',
                impact: [
                    { label: 'Block Reward', value: '25 BTC' },
                    { label: 'Inflation Rate', value: '~12%' }
                ]
            },
            {
                date: '2013-11-30',
                type: 'adoption',
                category: 'adoption',
                title: '$1,000 Milestone',
                price: '$1,000',
                priceValue: 1000,
                priceChange: '+7,900% from halving',
                description: 'Bitcoin crosses $1,000 for the first time during the 2013 bull run.',
                why: 'First halving supply shock + Cyprus banking crisis driving awareness = explosive growth.',
                lesson: 'Post-halving bull markets can generate 100x returns. This pattern repeats every cycle.',
                impact: [
                    { label: 'Price', value: '$1,000' },
                    { label: 'From Halving', value: '+7,900%', positive: true }
                ]
            },
            {
                date: '2014-02-24',
                type: 'crash',
                category: 'crash',
                title: 'Mt. Gox Collapse',
                price: '$600',
                priceValue: 600,
                priceChange: '-87% from peak',
                description: '850,000 BTC stolen from Mt. Gox exchange, which files for bankruptcy.',
                why: 'Centralized custody is a single point of failure. Not your keys, not your coins.',
                lesson: 'The hardest Bitcoin lesson: self-custody is non-negotiable. Trusting exchanges is trusting humans.',
                impact: [
                    { label: 'Price Drop', value: '-87%', negative: true },
                    { label: 'BTC Lost', value: '850,000 BTC' }
                ]
            },
            {
                date: '2016-07-09',
                type: 'halving',
                category: 'halving',
                title: 'Second Halving',
                price: '$650',
                priceValue: 650,
                priceChange: null,
                description: 'Block reward reduced from 25 BTC to 12.5 BTC.',
                why: 'Supply shock economics in action. Daily new BTC cut from 3,600 to 1,800.',
                lesson: 'The pattern continues: halving ‚Üí 12-18 month lag ‚Üí massive bull run.',
                impact: [
                    { label: 'Block Reward', value: '12.5 BTC' },
                    { label: 'Inflation Rate', value: '~4%' }
                ]
            },
            {
                date: '2017-12-17',
                type: 'adoption',
                category: 'adoption',
                title: '$20K All-Time High',
                price: '$20,000',
                priceValue: 20000,
                priceChange: '+2,976% from halving',
                description: 'Bitcoin reaches $20,000, mainstream media frenzy, your relatives ask how to buy.',
                why: 'Post-halving supply shock + retail FOMO + institutional curiosity = parabolic move.',
                lesson: 'Peak euphoria is when everyone is buying. Smart money accumulates during bear markets.',
                impact: [
                    { label: 'Price', value: '$20,000' },
                    { label: 'From Halving', value: '+2,976%', positive: true }
                ]
            },
            {
                date: '2018-12-15',
                type: 'crash',
                category: 'crash',
                title: 'Crypto Winter',
                price: '$3,200',
                priceValue: 3200,
                priceChange: '-84% from ATH',
                description: 'Bitcoin crashes 84% from all-time high. Media declares "Bitcoin is dead" (again).',
                why: 'Post-bubble correction. Weak hands exit, strong hands accumulate.',
                lesson: 'Every cycle has an 80%+ drawdown. This is normal. Zoom out.',
                impact: [
                    { label: 'Price Drop', value: '-84%', negative: true },
                    { label: 'Bottom Duration', value: '12 months' }
                ]
            },
            {
                date: '2020-03-12',
                type: 'crash',
                category: 'crash',
                title: 'COVID-19 Black Thursday',
                price: '$3,850',
                priceValue: 3850,
                priceChange: '-50% in 24 hours',
                description: 'Global pandemic panic causes a 50% Bitcoin crash in a single day.',
                why: 'Systemic shock caused liquidity crisis across all markets. Everything sold off.',
                lesson: 'Bitcoin recovered within weeks while central banks printed trillions. This accelerated institutional adoption.',
                impact: [
                    { label: 'Intraday Drop', value: '-50%', negative: true },
                    { label: 'Recovery', value: '3 weeks' }
                ]
            },
            {
                date: '2020-05-11',
                type: 'halving',
                category: 'halving',
                title: 'Third Halving',
                price: '$8,700',
                priceValue: 8700,
                priceChange: null,
                description: 'Block reward reduced from 12.5 BTC to 6.25 BTC during pandemic.',
                why: 'Halving + unlimited QE + growing institutional interest = perfect storm.',
                lesson: 'This halving coincided with the largest money printing event in history. Bitcoin\'s value proposition never clearer.',
                impact: [
                    { label: 'Block Reward', value: '6.25 BTC' },
                    { label: 'Inflation Rate', value: '~1.8%' }
                ]
            },
            {
                date: '2021-04-14',
                type: 'adoption',
                category: 'adoption',
                title: 'Coinbase IPO',
                price: '$63,000',
                priceValue: 63000,
                priceChange: '+624% from halving',
                description: 'Coinbase goes public on NASDAQ, legitimizing cryptocurrency in traditional finance.',
                why: 'Institutional validation. Bitcoin is now Wall Street-approved.',
                lesson: 'From cypherpunk experiment to publicly traded company in 12 years.',
                impact: [
                    { label: 'Price', value: '$63,000' },
                    { label: 'Coinbase Valuation', value: '$85B' }
                ]
            },
            {
                date: '2021-11-10',
                type: 'adoption',
                category: 'adoption',
                title: '$69K All-Time High',
                price: '$69,000',
                priceValue: 69000,
                priceChange: '+693% from halving',
                description: 'Bitcoin reaches $69,000 all-time high during peak institutional adoption.',
                why: 'Post-halving supply shock + institutional buying + retail FOMO + inflation fears.',
                lesson: 'Another 4-year cycle peak. The pattern holds.',
                impact: [
                    { label: 'Price', value: '$69,000' },
                    { label: 'From Halving', value: '+693%', positive: true }
                ]
            },
            {
                date: '2022-05-09',
                type: 'crash',
                category: 'crash',
                title: 'Terra/Luna Collapse',
                price: '$30,000',
                priceValue: 30000,
                priceChange: '-56% from ATH',
                description: 'Algorithmic stablecoin UST fails, wiping out $40B and triggering contagion.',
                why: 'Ponzi economics disguised as innovation. You can\'t create stability from thin air.',
                lesson: 'Bitcoin doesn\'t have a charismatic CEO or algorithmic gimmicks. It just works.',
                impact: [
                    { label: 'Price Drop', value: '-56%', negative: true },
                    { label: 'Value Destroyed', value: '$40B' }
                ]
            },
            {
                date: '2022-11-09',
                type: 'crash',
                category: 'crash',
                title: 'FTX Collapse',
                price: '$15,900',
                priceValue: 15900,
                priceChange: '-77% from ATH',
                description: 'FTX exchange implodes, $8B missing, Sam Bankman-Fried arrested for fraud.',
                why: 'Centralized exchanges using customer funds for risky bets. Mt. Gox lesson not learned.',
                lesson: 'Not your keys, not your coins - still true. Self-custody is the only way.',
                impact: [
                    { label: 'Price Drop', value: '-77%', negative: true },
                    { label: 'Funds Missing', value: '$8B' }
                ]
            },
            {
                date: '2024-01-10',
                type: 'regulation',
                category: 'regulation',
                title: 'Bitcoin ETF Approval',
                price: '$46,000',
                priceValue: 46000,
                priceChange: '+189% from FTX low',
                description: 'SEC approves spot Bitcoin ETFs from BlackRock, Fidelity, and others.',
                why: 'Institutional access simplified. Now anyone with a brokerage account can own Bitcoin exposure.',
                lesson: 'Bitcoin\'s path from cypherpunk toy to regulated financial product in 15 years.',
                impact: [
                    { label: 'Price', value: '$46,000' },
                    { label: 'From FTX Low', value: '+189%', positive: true }
                ]
            },
            {
                date: '2024-03-14',
                type: 'adoption',
                category: 'adoption',
                title: '$73,800 New All-Time High',
                price: '$73,800',
                priceValue: 73800,
                priceChange: '+7% from previous ATH',
                description: 'Bitcoin breaks through previous all-time high BEFORE the halving for the first time.',
                why: 'ETF inflows + upcoming halving anticipation + institutional adoption = new paradigm.',
                lesson: 'Breaking ATH before halving suggests this cycle is different. Institutional buying changes the game.',
                impact: [
                    { label: 'Price', value: '$73,800' },
                    { label: 'Market Cap', value: '$1.4T' }
                ]
            },
            {
                date: '2024-04-20',
                type: 'halving',
                category: 'halving',
                title: 'Fourth Halving',
                price: '$64,000',
                priceValue: 64000,
                priceChange: null,
                description: 'Block reward reduced from 6.25 BTC to 3.125 BTC.',
                why: 'Supply issuance now lower than gold. Bitcoin officially harder than any asset in history.',
                lesson: 'If the pattern holds, we\'re at the start of another 12-18 month bull run.',
                impact: [
                    { label: 'Block Reward', value: '3.125 BTC' },
                    { label: 'Inflation Rate', value: '<0.9%' }
                ]
            }
        ];

        // Global state
        let currentFilter = 'all';
        let currentPrice = null;

        // Initialize
        document.addEventListener('DOMContentLoaded', async () => {
            // Fetch current price
            await fetchCurrentPrice();

            // Calculate days since genesis
            calculateDaysSinceGenesis();

            // Render timeline
            renderTimeline();

            // Setup filter buttons
            setupFilters();

            // Setup scroll reveal
            setupScrollReveal();

            // Update ROI
            updateROI();
        });

        // Fetch current Bitcoin price
        async function fetchCurrentPrice() {
            const sources = [
                {
                    name: 'CoinCap',
                    fetch: async () => {
                        const response = await fetch('https://api.coincap.io/v2/assets/bitcoin');
                        const data = await response.json();
                        return parseFloat(data.data.priceUsd);
                    }
                },
                {
                    name: 'Blockchain.info',
                    fetch: async () => {
                        const response = await fetch('https://blockchain.info/ticker');
                        const data = await response.json();
                        return data.USD.last;
                    }
                },
                {
                    name: 'CoinGecko',
                    fetch: async () => {
                        const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd');
                        const data = await response.json();
                        return data.bitcoin.usd;
                    }
                }
            ];

            for (const source of sources) {
                try {
                    const price = await source.fetch();
                    currentPrice = price;
                    displayCurrentPrice(price, source.name);
                    return;
                } catch (error) {
                    console.warn(`Failed to fetch from ${source.name}:`, error);
                }
            }

            // Fallback if all APIs fail
            displayCurrentPrice(73800, 'Fallback');
        }

        function displayCurrentPrice(price, source) {
            const priceEl = document.getElementById('current-price');
            const sourceEl = document.getElementById('price-source');

            priceEl.innerHTML = `$${price.toLocaleString(undefined, {maximumFractionDigits: 0})}`;
            sourceEl.textContent = `Live data from ${source}`;
        }

        function calculateDaysSinceGenesis() {
            const genesis = new Date('2009-01-03');
            const today = new Date();
            const days = Math.floor((today - genesis) / (1000 * 60 * 60 * 24));
            document.getElementById('days-elapsed').textContent = days.toLocaleString();
        }

        function updateROI() {
            if (currentPrice) {
                const roi = (currentPrice / 1).toFixed(0);
                const roiEl = document.getElementById('roi-value');
                if (roi >= 1000000) {
                    roiEl.textContent = `${(roi / 1000000).toFixed(1)}M x`;
                } else if (roi >= 1000) {
                    roiEl.textContent = `${(roi / 1000).toFixed(0)}K x`;
                } else {
                    roiEl.textContent = `${roi}x`;
                }
            }
        }

        function renderTimeline() {
            const container = document.getElementById('timeline-events');
            container.innerHTML = '';

            const filteredEvents = currentFilter === 'all'
                ? timelineEvents
                : timelineEvents.filter(e => e.category === currentFilter);

            filteredEvents.forEach((event, index) => {
                const eventEl = createTimelineEvent(event, index);
                container.appendChild(eventEl);
            });
        }

        function createTimelineEvent(event, index) {
            const wrapper = document.createElement('div');
            wrapper.className = `timeline-event ${index % 2 === 0 ? 'left' : 'right'}`;
            wrapper.dataset.category = event.category;

            const marker = document.createElement('div');
            marker.className = `timeline-marker ${event.type}`;
            marker.setAttribute('aria-hidden', 'true');

            const content = document.createElement('div');
            content.className = `event-content ${event.type}`;

            let html = `
                <div class="event-date">${formatDate(event.date)}</div>
                <h3 class="event-title">${event.title}</h3>
                <div class="event-price">${event.price}</div>
            `;

            if (event.priceChange) {
                const isPositive = event.priceChange.includes('+');
                html += `<div class="price-change ${isPositive ? 'up' : 'down'}">${event.priceChange}</div>`;
            }

            html += `<p class="event-description">${event.description}</p>`;

            if (event.why) {
                html += `
                    <div class="event-why">
                        <h4>Why This Happened</h4>
                        <p>${event.why}</p>
                    </div>
                `;
            }

            if (event.impact && event.impact.length > 0) {
                html += '<div class="event-impact">';
                event.impact.forEach(item => {
                    const valueClass = item.positive ? 'positive' : (item.negative ? 'negative' : '');
                    html += `
                        <div class="impact-item">
                            <div class="impact-label">${item.label}</div>
                            <div class="impact-value ${valueClass}">${item.value}</div>
                        </div>
                    `;
                });
                html += '</div>';
            }

            if (event.lesson) {
                html += `
                    <div class="key-lesson">
                        <h4>üí° Key Lesson</h4>
                        <p>${event.lesson}</p>
                    </div>
                `;
            }

            content.innerHTML = html;
            wrapper.appendChild(marker);
            wrapper.appendChild(content);

            return wrapper;
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }

        function setupFilters() {
            const buttons = document.querySelectorAll('.filter-button');
            buttons.forEach(button => {
                button.addEventListener('click', () => {
                    buttons.forEach(b => b.classList.remove('active'));
                    button.classList.add('active');
                    currentFilter = button.dataset.filter;
                    renderTimeline();
                    setupScrollReveal(); // Re-setup after filter
                });
            });
        }

        function setupScrollReveal() {
            const events = document.querySelectorAll('.timeline-event');

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -100px 0px'
            });

            events.forEach(event => {
                observer.observe(event);
            });
        }
    </script>

    <!-- Animated Icon Library -->
    <script src="/js/icon-library.js"></script>
    <script>
        // Inject icons after DOM loads
        document.addEventListener('DOMContentLoaded', function() {
            if (window.IconLibrary) {
                document.querySelectorAll('[data-icon]').forEach(function(element) {
                    var iconName = element.getAttribute('data-icon');
                    if (iconName) {
                        var iconHTML = IconLibrary.get(iconName, 20, true);
                        var span = document.createElement('span');
                        span.innerHTML = iconHTML;
                        span.className = 'icon-inline';
                        span.style.marginRight = '0.5rem';
                        span.style.display = 'inline-block';
                        span.style.verticalAlign = 'middle';
                        element.insertBefore(span, element.firstChild);
                    }
                });
            }
        });
    </script>
</body>
</html>
