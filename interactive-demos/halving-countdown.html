<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitcoin Halving Countdown | Bitcoin Sovereign Academy</title>
    <meta name="description" content="Live countdown to the next Bitcoin halving with supply schedule visualization and historical halvings timeline">

    <style>
        :root {
            --primary-orange: #f7931a;
            --primary-dark: #0f0f0f;
            --secondary-dark: #1a1a1a;
            --text-light: #e0e0e0;
            --text-dim: #888888;
            --success-green: #4CAF50;
            --warning-yellow: #FFC107;
            --error-red: #ef4444;
            --accent-purple: #9C27B0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--primary-dark);
            color: var(--text-light);
            line-height: 1.6;
            padding: 2rem 1rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--primary-orange), var(--warning-yellow));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            color: var(--text-dim);
            font-size: 1.1rem;
        }

        /* Countdown Card */
        .countdown-card {
            background: linear-gradient(135deg, var(--secondary-dark), #252525);
            border: 2px solid var(--primary-orange);
            border-radius: 1rem;
            padding: 2.5rem;
            margin-bottom: 2rem;
            text-align: center;
            box-shadow: 0 8px 24px rgba(247, 147, 26, 0.2);
        }

        .countdown-label {
            font-size: 1.2rem;
            color: var(--primary-orange);
            font-weight: 600;
            margin-bottom: 1.5rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .countdown-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .time-unit {
            background: rgba(0, 0, 0, 0.4);
            padding: 1.5rem 1rem;
            border-radius: 0.75rem;
            border: 1px solid rgba(247, 147, 26, 0.3);
        }

        .time-value {
            font-size: 3rem;
            font-weight: 800;
            color: var(--primary-orange);
            line-height: 1;
            margin-bottom: 0.5rem;
        }

        .time-label {
            font-size: 0.9rem;
            color: var(--text-dim);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .halving-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
        }

        .info-item {
            background: rgba(0, 0, 0, 0.3);
            padding: 1rem;
            border-radius: 0.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .info-label {
            font-size: 0.85rem;
            color: var(--text-dim);
            margin-bottom: 0.5rem;
        }

        .info-value {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--text-light);
        }

        .info-value.highlight {
            color: var(--primary-orange);
        }

        /* Supply Chart */
        .chart-card {
            background: var(--secondary-dark);
            border: 2px solid rgba(247, 147, 26, 0.3);
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .chart-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-orange);
            margin-bottom: 1.5rem;
        }

        #supplyChart {
            width: 100%;
            height: 400px;
            position: relative;
        }

        /* Timeline */
        .timeline-card {
            background: var(--secondary-dark);
            border: 2px solid rgba(247, 147, 26, 0.3);
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .timeline {
            position: relative;
            padding-left: 2rem;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(180deg, var(--primary-orange), var(--warning-yellow));
        }

        .timeline-item {
            position: relative;
            margin-bottom: 2rem;
            padding-left: 2rem;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -2.5rem;
            top: 0.5rem;
            width: 12px;
            height: 12px;
            background: var(--primary-orange);
            border-radius: 50%;
            box-shadow: 0 0 0 4px var(--secondary-dark), 0 0 0 6px var(--primary-orange);
        }

        .timeline-item.future::before {
            background: var(--text-dim);
            box-shadow: 0 0 0 4px var(--secondary-dark), 0 0 0 6px var(--text-dim);
        }

        .timeline-date {
            font-size: 0.9rem;
            color: var(--primary-orange);
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .timeline-item.future .timeline-date {
            color: var(--text-dim);
        }

        .timeline-content {
            background: rgba(0, 0, 0, 0.3);
            padding: 1rem;
            border-radius: 0.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .timeline-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text-light);
            margin-bottom: 0.5rem;
        }

        .timeline-details {
            font-size: 0.9rem;
            color: var(--text-dim);
            display: grid;
            gap: 0.25rem;
        }

        /* Educational Section */
        .education-card {
            background: linear-gradient(135deg, rgba(156, 39, 176, 0.1), rgba(156, 39, 176, 0.05));
            border: 2px solid var(--accent-purple);
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .education-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--accent-purple);
            margin-bottom: 1rem;
        }

        .education-content {
            color: var(--text-light);
            line-height: 1.8;
        }

        .education-content ul {
            list-style: none;
            padding-left: 0;
        }

        .education-content li {
            padding-left: 1.5rem;
            margin-bottom: 0.75rem;
            position: relative;
        }

        .education-content li::before {
            content: '₿';
            position: absolute;
            left: 0;
            color: var(--primary-orange);
            font-weight: bold;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }

            .countdown-display {
                grid-template-columns: repeat(2, 1fr);
            }

            .time-value {
                font-size: 2rem;
            }

            #supplyChart {
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>⏳ Bitcoin Halving Countdown</h1>
            <p>Next Bitcoin halving event and complete supply schedule</p>
        </div>

        <!-- Countdown Display -->
        <div class="countdown-card">
            <div class="countdown-label">Next Halving In:</div>
            <div class="countdown-display" id="countdown">
                <div class="time-unit">
                    <div class="time-value" id="years">0</div>
                    <div class="time-label">Years</div>
                </div>
                <div class="time-unit">
                    <div class="time-value" id="days">0</div>
                    <div class="time-label">Days</div>
                </div>
                <div class="time-unit">
                    <div class="time-value" id="hours">0</div>
                    <div class="time-label">Hours</div>
                </div>
                <div class="time-unit">
                    <div class="time-value" id="minutes">0</div>
                    <div class="time-label">Minutes</div>
                </div>
                <div class="time-unit">
                    <div class="time-value" id="seconds">0</div>
                    <div class="time-label">Seconds</div>
                </div>
            </div>

            <div class="halving-info">
                <div class="info-item">
                    <div class="info-label">Next Halving Block</div>
                    <div class="info-value highlight" id="nextHalvingBlock">840,000</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Current Block Reward</div>
                    <div class="info-value" id="currentReward">6.25 BTC</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Next Block Reward</div>
                    <div class="info-value" id="nextReward">3.125 BTC</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Estimated Date</div>
                    <div class="info-value" id="estimatedDate">April 2024</div>
                </div>
            </div>
        </div>

        <!-- Supply Chart -->
        <div class="chart-card">
            <h2 class="chart-title">📊 Bitcoin Supply Schedule</h2>
            <div id="supplyChart"></div>
        </div>

        <!-- Historical Timeline -->
        <div class="timeline-card">
            <h2 class="chart-title">🕐 Halving History</h2>
            <div class="timeline" id="timeline"></div>
        </div>

        <!-- Educational Content -->
        <div class="education-card">
            <h3 class="education-title">💡 Why Halvings Matter</h3>
            <div class="education-content">
                <ul>
                    <li><strong>Programmed Scarcity</strong>: Halvings reduce the rate of new Bitcoin creation, making BTC more scarce over time</li>
                    <li><strong>Predictable Monetary Policy</strong>: Unlike fiat currencies, Bitcoin's supply schedule is known and unchangeable</li>
                    <li><strong>Stock-to-Flow Ratio</strong>: Each halving doubles Bitcoin's stock-to-flow ratio, potentially affecting price</li>
                    <li><strong>21 Million Cap</strong>: Halvings continue until approximately 2140 when all 21 million BTC will be mined</li>
                    <li><strong>Miner Incentives</strong>: Forces miners to become more efficient as block rewards decrease</li>
                    <li><strong>Historical Significance</strong>: Past halvings (2012, 2016, 2020) preceded major bull markets</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Halving data
        const HALVING_DATA = [
            { era: 0, block: 0, date: new Date('2009-01-03'), reward: 50, description: 'Genesis Block - Bitcoin launched' },
            { era: 1, block: 210000, date: new Date('2012-11-28'), reward: 25, description: 'First halving - Reward reduced to 25 BTC' },
            { era: 2, block: 420000, date: new Date('2016-07-09'), reward: 12.5, description: 'Second halving - Reward reduced to 12.5 BTC' },
            { era: 3, block: 630000, date: new Date('2020-05-11'), reward: 6.25, description: 'Third halving - Reward reduced to 6.25 BTC' },
            { era: 4, block: 840000, date: new Date('2024-04-20'), reward: 3.125, description: 'Fourth halving - Reward reduced to 3.125 BTC', future: true },
            { era: 5, block: 1050000, date: new Date('2028-05-03'), reward: 1.5625, description: 'Fifth halving - Reward reduced to 1.5625 BTC', future: true },
            { era: 6, block: 1260000, date: new Date('2032-05-15'), reward: 0.78125, description: 'Sixth halving - Reward reduced to 0.78125 BTC', future: true }
        ];

        // Constants
        const BLOCKS_PER_HALVING = 210000;
        const AVERAGE_BLOCK_TIME = 10 * 60 * 1000; // 10 minutes in milliseconds
        const CURRENT_HALVING_ERA = 3;
        const NEXT_HALVING_BLOCK = 840000;

        // Estimate current block height (rough approximation)
        function estimateCurrentBlock() {
            const genesisDate = new Date('2009-01-03');
            const now = new Date();
            const millisecondsSinceGenesis = now - genesisDate;
            const estimatedBlocks = Math.floor(millisecondsSinceGenesis / AVERAGE_BLOCK_TIME);
            return estimatedBlocks;
        }

        // Calculate next halving date
        function calculateNextHalvingDate() {
            const currentBlock = estimateCurrentBlock();
            const blocksUntilHalving = NEXT_HALVING_BLOCK - currentBlock;
            const millisecondsUntilHalving = blocksUntilHalving * AVERAGE_BLOCK_TIME;
            return new Date(Date.now() + millisecondsUntilHalving);
        }

        // Update countdown
        function updateCountdown() {
            const nextHalving = calculateNextHalvingDate();
            const now = new Date();
            const diff = nextHalving - now;

            if (diff <= 0) {
                // Halving has occurred
                document.getElementById('years').textContent = '0';
                document.getElementById('days').textContent = '0';
                document.getElementById('hours').textContent = '0';
                document.getElementById('minutes').textContent = '0';
                document.getElementById('seconds').textContent = '0';
                return;
            }

            const years = Math.floor(diff / (1000 * 60 * 60 * 24 * 365));
            const days = Math.floor((diff % (1000 * 60 * 60 * 24 * 365)) / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);

            document.getElementById('years').textContent = years;
            document.getElementById('days').textContent = days;
            document.getElementById('hours').textContent = hours;
            document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
            document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');
        }

        // Update estimated date
        function updateEstimatedDate() {
            const nextHalving = calculateNextHalvingDate();
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('estimatedDate').textContent = nextHalving.toLocaleDateString('en-US', options);
        }

        // Render supply chart
        function renderSupplyChart() {
            const chart = document.getElementById('supplyChart');
            const maxSupply = 21000000;

            let html = '<svg width="100%" height="400" viewBox="0 0 1000 400" style="background: rgba(0,0,0,0.2); border-radius: 0.5rem;">';

            // Grid lines
            for (let i = 0; i <= 5; i++) {
                const y = 50 + (i * 60);
                html += `<line x1="50" y1="${y}" x2="950" y2="${y}" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>`;
                html += `<text x="30" y="${y + 5}" fill="#888" font-size="12" text-anchor="end">${21 - (i * 4.2)}M</text>`;
            }

            // Supply curve
            let path = 'M 50 350';
            const totalYears = 140;

            for (let year = 0; year <= totalYears; year++) {
                const halving = Math.floor(year / 4);
                const reward = 50 / Math.pow(2, halving);
                const blocksPerYear = 52560; // approximately
                const supply = Math.min(calculateTotalSupply(year), maxSupply);

                const x = 50 + (year / totalYears) * 900;
                const y = 350 - ((supply / maxSupply) * 300);

                path += ` L ${x} ${y}`;
            }

            html += `<path d="${path}" fill="none" stroke="url(#gradient)" stroke-width="3"/>`;

            // Gradient definition
            html += `<defs>
                <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color:#f7931a;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#FFC107;stop-opacity:1" />
                </linearGradient>
            </defs>`;

            // Current position marker
            const currentYear = (new Date().getFullYear() - 2009);
            const currentX = 50 + (currentYear / totalYears) * 900;
            html += `<line x1="${currentX}" y1="50" x2="${currentX}" y2="350" stroke="#f7931a" stroke-width="2" stroke-dasharray="5,5"/>`;
            html += `<text x="${currentX}" y="40" fill="#f7931a" font-size="14" text-anchor="middle" font-weight="bold">NOW</text>`;

            // X-axis labels
            for (let year = 0; year <= 140; year += 20) {
                const x = 50 + (year / totalYears) * 900;
                html += `<text x="${x}" y="375" fill="#888" font-size="12" text-anchor="middle">${2009 + year}</text>`;
            }

            // Axis labels
            html += `<text x="500" y="395" fill="#e0e0e0" font-size="14" text-anchor="middle" font-weight="bold">Year</text>`;
            html += `<text x="15" y="200" fill="#e0e0e0" font-size="14" text-anchor="middle" transform="rotate(-90 15 200)" font-weight="bold">Total Supply (BTC)</text>`;

            html += '</svg>';
            chart.innerHTML = html;
        }

        // Calculate total supply at a given year
        function calculateTotalSupply(years) {
            let supply = 0;
            const blocksPerYear = 52560;

            for (let y = 0; y < years; y++) {
                const era = Math.floor((y * blocksPerYear) / BLOCKS_PER_HALVING);
                const reward = 50 / Math.pow(2, era);
                supply += blocksPerYear * reward;
            }

            return supply;
        }

        // Render timeline
        function renderTimeline() {
            const timeline = document.getElementById('timeline');
            const now = new Date();

            let html = '';
            HALVING_DATA.forEach(halving => {
                const isFuture = halving.future || halving.date > now;
                const dateStr = halving.date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });

                html += `
                    <div class="timeline-item ${isFuture ? 'future' : ''}">
                        <div class="timeline-date">${dateStr}</div>
                        <div class="timeline-content">
                            <div class="timeline-title">Era ${halving.era} - Block ${halving.block.toLocaleString()}</div>
                            <div class="timeline-details">
                                <div>Block Reward: ${halving.reward} BTC</div>
                                <div>${halving.description}</div>
                            </div>
                        </div>
                    </div>
                `;
            });

            timeline.innerHTML = html;
        }

        // Initialize
        function init() {
            updateCountdown();
            updateEstimatedDate();
            renderSupplyChart();
            renderTimeline();

            // Update countdown every second
            setInterval(updateCountdown, 1000);
        }

        // Run on page load
        init();
    </script>
</body>
</html>
