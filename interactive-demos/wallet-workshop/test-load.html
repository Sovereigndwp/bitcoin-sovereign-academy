<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wallet Workshop Load Test</title>
    <style>
        body {
            font-family: monospace;
            padding: 2rem;
            background: #1a1a1a;
            color: #fff;
        }
        .test-result {
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 8px;
        }
        .pass {
            background: rgba(76, 175, 80, 0.2);
            border: 2px solid #4CAF50;
        }
        .fail {
            background: rgba(244, 67, 54, 0.2);
            border: 2px solid #f44336;
        }
    </style>
</head>
<body>
    <h1>üß™ Wallet Workshop Loading Test</h1>
    <p>This page tests if wallet-workshop.js loads and executes correctly.</p>

    <div id="test-results"></div>
    <div id="wallet-workshop-container"></div>

    <script>
        const results = [];

        // Test 1: Check if container exists
        const container = document.getElementById('wallet-workshop-container');
        if (container) {
            results.push({ name: 'Container element exists', pass: true });
        } else {
            results.push({ name: 'Container element exists', pass: false });
        }

        // Test 2: Load wallet-workshop.js
        const script = document.createElement('script');
        script.src = 'wallet-workshop.js';
        script.onload = () => {
            results.push({ name: 'wallet-workshop.js loaded', pass: true });

            // Test 3: Wait 1 second then check if container was populated
            setTimeout(() => {
                const containerContent = container.innerHTML;
                if (containerContent.trim().length > 0) {
                    results.push({ name: 'Container populated with content', pass: true, details: `${containerContent.length} characters` });
                } else {
                    results.push({ name: 'Container populated with content', pass: false, details: 'Container is empty' });
                }

                // Test 4: Check for difficulty selector
                const difficultySelector = document.querySelector('.difficulty-selector');
                if (difficultySelector) {
                    results.push({ name: 'Difficulty selector rendered', pass: true });
                } else {
                    results.push({ name: 'Difficulty selector rendered', pass: false });
                }

                // Test 5: Check for step content
                const stepContent = document.querySelector('.step-content');
                if (stepContent) {
                    results.push({ name: 'Step content rendered', pass: true });
                } else {
                    results.push({ name: 'Step content rendered', pass: false });
                }

                // Test 6: Check for Socratic questions
                const socraticQuestions = document.querySelectorAll('.socratic-question');
                results.push({
                    name: 'Socratic questions rendered',
                    pass: socraticQuestions.length > 0,
                    details: `Found ${socraticQuestions.length} questions`
                });

                displayResults();
            }, 1500);
        };
        script.onerror = () => {
            results.push({ name: 'wallet-workshop.js loaded', pass: false });
            displayResults();
        };

        function displayResults() {
            const resultsContainer = document.getElementById('test-results');
            resultsContainer.innerHTML = '<h2>Test Results:</h2>';

            results.forEach(test => {
                const div = document.createElement('div');
                div.className = `test-result ${test.pass ? 'pass' : 'fail'}`;
                div.innerHTML = `
                    <strong>${test.pass ? '‚úÖ' : '‚ùå'} ${test.name}</strong>
                    ${test.details ? `<div style="margin-top: 0.5rem; font-size: 0.9rem; opacity: 0.8;">${test.details}</div>` : ''}
                `;
                resultsContainer.appendChild(div);
            });

            // Summary
            const passed = results.filter(r => r.pass).length;
            const total = results.length;
            const summary = document.createElement('div');
            summary.style.cssText = 'margin-top: 2rem; padding: 1rem; background: rgba(247, 147, 26, 0.2); border-radius: 8px;';
            summary.innerHTML = `<strong>Summary: ${passed}/${total} tests passed</strong>`;
            resultsContainer.appendChild(summary);
        }

        document.head.appendChild(script);
    </script>
</body>
</html>
