<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Interactive Demos</title>
    <meta name="description" content="Browse Bitcoin Sovereign Academy interactive demos" />
    <link rel="stylesheet" href="/css/brand.css">
    <style>
      :root { --bg: var(--color-bg); --panel: var(--color-surface); --text: var(--color-text); --muted: var(--color-muted); --border: var(--color-border); --chip: var(--color-chip); --accent: var(--color-accent); }
      html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial}
      .wrap{max-width:1000px;margin:0 auto;padding:24px}
      h1{margin:0 0 8px}
      .muted{color:var(--muted)}
      .grid{display:grid;gap:12px}
      @media(min-width:800px){.grid{grid-template-columns:repeat(3,1fr)}}
      .card{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:14px;text-decoration:none;color:var(--text);display:block}
      .card:hover{outline:2px solid var(--accent)}
      .card h2{margin:0 0 6px;font-size:1.05rem}
      .chip{display:inline-block;background:var(--chip);border:1px solid var(--border);border-radius:999px;padding:4px 8px;color:var(--muted);font-size:.8rem}
    </style>
  </head>
  <body>
    <div class="wrap">
      <h1>Interactive Demos</h1>
      <p class="muted">Choose a demo to explore concepts hands-on.</p>
      <div class="grid">
        <a class="card" href="/interactive-demos/bitcoin-sovereign-game/">
          <h2>🎮 Bitcoin Sovereign Game</h2>
          <p>Explore trade-offs across personas; learn sovereignty, privacy, and compliance dynamics.</p>
          <span class="chip">New</span>
        </a>
        <a class="card" href="/interactive-demos/mining-simulator/">
          <h2>⛏️ Mining Simulator</h2>
          <p>Mine Bitcoin blocks with adjustable difficulty levels. Experience Easy Mode and Realistic Mode with educational explanations.</p>
          <span class="chip">✅ Enhanced</span>
        </a>
        <a class="card" href="/interactive-demos/transaction-builder/">
          <h2>📝 Transaction Builder</h2>
          <p>Build Bitcoin transactions with visual sender/recipient selection, address validation, and fee priority controls.</p>
          <span class="chip">✅ Enhanced</span>
        </a>
        <a class="card" href="/interactive-demos/wallet-workshop/">
          <h2>🔐 Wallet Workshop</h2>
          <p>Complete 5-step journey: Generate entropy → Create seed phrase → Derive keys → Generate public keys → Create addresses.</p>
          <span class="chip">✅ Complete</span>
        </a>
        <a class="card" href="/interactive-demos/utxo-visualizer-enhanced.html">
          <h2>🪙 UTXO Visualizer Pro</h2>
          <p>Master UTXO management with 6 guided scenarios: consolidation, fee optimization, privacy protection, dust handling, and expert challenges.</p>
          <span class="chip">✨ Enhanced</span>
        </a>
        <a class="card" href="/interactive-demos/lightning-lab.html">
          <h2>⚡ Lightning Lab</h2>
          <p>Experience instant Bitcoin payments. Interactive channel simulator with balance visualization and Socratic questions.</p>
          <span class="chip">✅ Enhanced</span>
        </a>
        <a class="card" href="/interactive-demos/consensus-game/">
          <h2>🎯 Consensus Game</h2>
          <p>Simulate network attacks (51%, eclipse, selfish mining) and learn how Bitcoin consensus protects against them.</p>
          <span class="chip">✅ Enhanced</span>
        </a>
        <a class="card" href="/interactive-demos/security-dojo.html">
          <h2>🥋 Security Dojo</h2>
          <p>Get your security score, unlock interactive training modules, and earn belts as you master multi-sig, backups, and self-custody.</p>
          <span class="chip">✅ Enhanced</span>
        </a>
        <a class="card" href="/interactive-demos/time-machine.html">
          <h2>⏰ Time Machine</h2>
          <p>Journey through Bitcoin's genesis timeline from 1970s cryptography to today. Interactive demos for every breakthrough technology.</p>
          <span class="chip">✨ New</span>
        </a>
      </div>
    </div>

    <script>
      // ===== PREVIEW MODE ACCESS CONTROL =====
      (function() {
        const urlParams = new URLSearchParams(window.location.search);
        const isDeveloperMode = urlParams.get('unlock') === 'all' || localStorage.getItem('devUnlockAll') === 'true';

        if (isDeveloperMode) {
          const devIndicator = document.createElement('div');
          devIndicator.style.cssText = `
            position: fixed; top: 10px; right: 10px; background: #4CAF50; color: white;
            padding: 8px 16px; border-radius: 20px; font-size: 12px; font-weight: bold;
            z-index: 10000; box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          `;
          devIndicator.textContent = '🔓 DEV MODE';
          devIndicator.title = 'All demos unlocked. Go to homepage with ?unlock=off to disable.';
          document.body.appendChild(devIndicator);
          return;
        }

        // PREVIEW MODE: Only Consensus Game unlocked
        console.log('🔒 Preview Mode: Only Consensus Game unlocked');

        const lockedDemos = [
          'bitcoin-sovereign-game',
          'mining-simulator',
          'transaction-builder',
          'wallet-workshop',
          'utxo-visualizer-enhanced',
          'lightning-lab',
          'security-dojo',
          'time-machine'
        ];

        document.querySelectorAll('.card').forEach(card => {
          const href = card.getAttribute('href') || '';

          const isLocked = lockedDemos.some(demo => href.includes(demo));

          if (isLocked) {
            // Add lock styling
            card.style.position = 'relative';
            card.style.opacity = '0.5';
            card.style.pointerEvents = 'none';
            card.style.cursor = 'not-allowed';

            // Add lock badge
            const lockBadge = document.createElement('div');
            lockBadge.style.cssText = `
              position: absolute; top: 10px; right: 10px; background: rgba(244, 67, 54, 0.9);
              color: white; padding: 4px 10px; border-radius: 12px; font-size: 11px;
              font-weight: 600; z-index: 10;
            `;
            lockBadge.innerHTML = '🔒 LOCKED';
            lockBadge.title = 'Available in full release';
            card.appendChild(lockBadge);

            // Prevent clicks
            card.addEventListener('click', (e) => {
              e.preventDefault();
              e.stopPropagation();
              alert('🔒 This demo is locked in preview mode.\n\nIt will be available in the full release.');
            }, true);
          }
        });

        console.log('✅ Consensus Game unlocked');
        console.log('🔒 All other demos locked');
        console.log('💡 Add ?unlock=all to URL to enable developer mode');

      })();
    </script>
  </body>
</html>
