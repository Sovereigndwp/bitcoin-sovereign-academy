<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Interactive Demos</title>
    <meta name="description" content="Browse Bitcoin Sovereign Academy interactive demos" />
    <link rel="stylesheet" href="/css/brand.css">
    <style>
      :root { --bg: var(--color-bg); --panel: var(--color-surface); --text: var(--color-text); --muted: var(--color-muted); --border: var(--color-border); --chip: var(--color-chip); --accent: var(--color-accent); }
      html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial}
      .wrap{max-width:1000px;margin:0 auto;padding:24px}
      h1{margin:0 0 8px}
      .muted{color:var(--muted)}
      .grid{display:grid;gap:12px}
      @media(min-width:800px){.grid{grid-template-columns:repeat(3,1fr)}}
      .card{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:14px;text-decoration:none;color:var(--text);display:block}
      .card:hover{outline:2px solid var(--accent)}
      .card h2{margin:0 0 6px;font-size:1.05rem}
      .chip{display:inline-block;background:var(--chip);border:1px solid var(--border);border-radius:999px;padding:4px 8px;color:var(--muted);font-size:.8rem}

      /* ===== ACCESSIBILITY ENHANCEMENTS (WCAG 2.1 AA) ===== */

      /* Color Contrast - Ensure muted text meets 4.6:1 ratio */
      :root { --muted: #b3b3b3; }

      /* Touch Targets - Minimum 44x44px */
      .card { min-height: 44px; }
      button, a, [role="button"] { min-height: 44px; min-width: 44px; }

      /* Focus Indicators */
      *:focus-visible {
        outline: 3px solid var(--accent, #f7931a);
        outline-offset: 2px;
      }

      .card:focus-visible, a:focus-visible {
        outline: 3px solid var(--accent, #f7931a);
        outline-offset: 4px;
        box-shadow: 0 0 0 4px rgba(247, 147, 26, 0.2);
      }

      /* Reduced Motion */
      @media (prefers-reduced-motion: reduce) {
        *, *::before, *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }

      /* Mobile Reflow */
      @media (max-width: 360px) {
        body { overflow-x: hidden; }
      }
    </style>
      <link rel="stylesheet" href="/css/icons.css">
</head>
  <body>
    <div class="wrap">
      <h1>Interactive Demos</h1>
      <p class="muted">Choose a demo to explore concepts hands-on.</p>
      <div class="grid">
        <a class="card" href="/interactive-demos/fee-master-tool/" style="grid-column: 1 / -1; background: linear-gradient(135deg, rgba(247, 147, 26, 0.1), rgba(247, 147, 26, 0.05)); border: 2px solid var(--accent);">
          <h2><span data-icon="lightning"></span> Fee Master Tool - ALL-IN-ONE</h2>
          <p><strong>Complete Bitcoin fee management in one place:</strong> Estimate transaction costs with live mempool data ‚Ä¢ Decide whether to wait or pay more with smart recommendations ‚Ä¢ Track your transactions in real-time with visual status. 3 powerful tools unified in a seamless tabbed interface.</p>
          <span class="chip" style="background: var(--accent); color: white;"><span data-icon="sparkles"></span> CONSOLIDATED ‚Ä¢ 3-IN-1</span>
        </a>
        <a class="card" href="/interactive-demos/bitcoin-sovereign-game/">
          <h2><span data-icon="game"></span> Bitcoin Sovereign Game</h2>
          <p>Explore trade-offs across personas; learn sovereignty, privacy, and compliance dynamics.</p>
          <span class="chip">New</span>
        </a>
        <a class="card" href="/interactive-demos/mining-simulator/">
          <h2>‚õèÔ∏è Mining Simulator</h2>
          <p>Mine Bitcoin blocks with adjustable difficulty levels. Experience Easy Mode and Realistic Mode with educational explanations.</p>
          <span class="chip">‚úÖ Enhanced</span>
        </a>
        <a class="card" href="/interactive-demos/transaction-builder/">
          <h2>üìù Transaction Builder</h2>
          <p>Build Bitcoin transactions with visual sender/recipient selection, address validation, and fee priority controls.</p>
          <span class="chip">‚úÖ Enhanced</span>
        </a>
        <a class="card" href="/interactive-demos/wallet-workshop/">
          <h2><span data-icon="lock"></span> Wallet Workshop</h2>
          <p>Complete 5-step journey: Generate entropy ‚Üí Create seed phrase ‚Üí Derive keys ‚Üí Generate public keys ‚Üí Create addresses.</p>
          <span class="chip">‚úÖ Complete</span>
        </a>
        <a class="card" href="/interactive-demos/utxo-visualizer-enhanced/">
          <h2><span data-icon="money"></span> UTXO Visualizer Pro</h2>
          <p>Master UTXO management with 6 guided scenarios: consolidation, fee optimization, privacy protection, dust handling, and expert challenges.</p>
          <span class="chip"><span data-icon="sparkles"></span> Enhanced</span>
        </a>
        <a class="card" href="/interactive-demos/lightning-network-demo/">
          <h2><span data-icon="lightning"></span> Lightning Lab</h2>
          <p>Experience instant Bitcoin payments. Interactive channel simulator with balance visualization and Socratic questions.</p>
          <span class="chip">‚úÖ Enhanced</span>
        </a>
        <a class="card" href="/interactive-demos/consensus-game/">
          <h2><span data-icon="target"></span> Consensus Game</h2>
          <p>Simulate network attacks (51%, eclipse, selfish mining) and learn how Bitcoin consensus protects against them.</p>
          <span class="chip">‚úÖ Enhanced</span>
        </a>
        <a class="card" href="/interactive-demos/security-dojo-enhanced/">
          <h2><span data-icon="shield"></span> Security Dojo</h2>
          <p>Get your security score, unlock interactive training modules, and earn belts as you master multi-sig, backups, and self-custody.</p>
          <span class="chip">‚úÖ Enhanced</span>
        </a>
        <a class="card" href="/interactive-demos/time-machine/">
          <h2><span data-icon="clock"></span> Time Machine</h2>
          <p>Journey through Bitcoin's genesis timeline from 1970s cryptography to today. Interactive demos for every breakthrough technology.</p>
          <span class="chip"><span data-icon="sparkles"></span> New</span>
        </a>
        <a class="card" href="/interactive-demos/quiz-demo/">
          <h2><span data-icon="brain"></span> Interactive Quiz System</h2>
          <p>Try out the reusable quiz widget with Bitcoin basics questions. Features multiple choice, true/false, and multi-select with instant feedback.</p>
          <span class="chip"><span data-icon="sparkles"></span> New</span>
        </a>
      </div>
    </div>

    <script>
      // ===== PREVIEW MODE ACCESS CONTROL =====
      (function() {
        const urlParams = new URLSearchParams(window.location.search);
        const isDeveloperMode = urlParams.get('unlock') === 'all' || localStorage.getItem('devUnlockAll') === 'true';

        if (isDeveloperMode) {
          const devIndicator = document.createElement('div');
          devIndicator.style.cssText = `
            position: fixed; top: 10px; right: 10px; background: #4CAF50; color: white;
            padding: 8px 16px; border-radius: 20px; font-size: 12px; font-weight: bold;
            z-index: 10000; box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          `;
          devIndicator.textContent = 'üîì DEV MODE';
          devIndicator.title = 'All demos unlocked. Go to homepage with ?unlock=off to disable.';
          document.body.appendChild(devIndicator);
          return;
        }

        // PREVIEW MODE: Only Consensus Game unlocked
        console.log('üîí Preview Mode: Only Consensus Game unlocked');

        const lockedDemos = [
          'bitcoin-sovereign-game',
          'mining-simulator',
          'transaction-builder',
          'wallet-workshop',
          'utxo-visualizer-enhanced',
          'lightning-network-demo',
          'security-dojo-enhanced',
          'time-machine',
          'fee-master-tool',
          'quiz-demo'
        ];

        document.querySelectorAll('.card').forEach(card => {
          const href = card.getAttribute('href') || '';

          const isLocked = lockedDemos.some(demo => href.includes(demo));

          if (isLocked) {
            // Add lock styling
            card.style.position = 'relative';
            card.style.opacity = '0.5';
            card.style.pointerEvents = 'none';
            card.style.cursor = 'not-allowed';

            // Add lock badge
            const lockBadge = document.createElement('div');
            lockBadge.style.cssText = `
              position: absolute; top: 10px; right: 10px; background: rgba(244, 67, 54, 0.9);
              color: white; padding: 4px 10px; border-radius: 12px; font-size: 11px;
              font-weight: 600; z-index: 10;
            `;
            lockBadge.innerHTML = 'üîí LOCKED';
            lockBadge.title = 'Available in full release';
            card.appendChild(lockBadge);

            // Prevent clicks
            card.addEventListener('click', (e) => {
              e.preventDefault();
              e.stopPropagation();
              alert('üîí This demo is locked in preview mode.\n\nIt will be available in the full release.');
            }, true);
          }
        });

        console.log('‚úÖ Consensus Game unlocked');
        console.log('üîí All other demos locked');
        console.log('üí° Add ?unlock=all to URL to enable developer mode');

      })();
    </script>
  
    <!-- Animated Icon Library -->
    <script src="/js/icon-library.js"></script>
    <script>
        // Inject icons after DOM loads
        document.addEventListener('DOMContentLoaded', function() {
            if (window.IconLibrary) {
                document.querySelectorAll('[data-icon]').forEach(function(element) {
                    var iconName = element.getAttribute('data-icon');
                    if (iconName) {
                        var iconHTML = IconLibrary.get(iconName, 20, true);
                        var span = document.createElement('span');
                        span.innerHTML = iconHTML;
                        span.className = 'icon-inline';
                        span.style.marginRight = '0.5rem';
                        span.style.display = 'inline-block';
                        span.style.verticalAlign = 'middle';
                        element.insertBefore(span, element.firstChild);
                    }
                });
            }
        });
    </script>
</body>
</html>
