<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>US National Debt Crisis - Real-Time Visualization</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }

        @keyframes countUp {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        @keyframes pulse-brand {
            0%, 100% { background: linear-gradient(135deg, #ff6b35, #ffcd3c); }
            50% { background: linear-gradient(135deg, #ffcd3c, #ff6b35); }
        }
        @keyframes spiral-grow {
            0% { transform: rotate(0deg) scale(1); }
            100% { transform: rotate(360deg) scale(1.05); }
        }
        .count-up { animation: countUp 0.5s ease-out; }
        .pulse-brand { animation: pulse-brand 2s ease-in-out infinite; }
        .spiral-grow { animation: spiral-grow 4s linear infinite; }

        .debt-meter {
            background: conic-gradient(from 0deg, #ff6b35 0deg, #ffcd3c 120deg, #ff6b35 240deg, #ffcd3c 360deg);
        }

        .crisis-alert {
            background: linear-gradient(45deg, #ff6b35, #ffcd3c, #ff6b35);
            background-size: 200% 200%;
            animation: gradient-shift 3s ease infinite;
        }

        @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .glass-panel {
            background: rgba(31, 41, 55, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 107, 53, 0.2);
        }

        .brand-gradient {
            background: linear-gradient(135deg, #ff6b35, #ffcd3c);
        }

        .brand-gradient-text {
            background: linear-gradient(135deg, #ff6b35, #ffcd3c);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
    </style>
</head>
<body class="bg-black min-h-screen text-white overflow-x-hidden">
    <!-- Crisis Alert Banner -->
    <div class="crisis-alert text-center py-4 font-bold text-xl">
        üö® NATIONAL DEBT CRISIS: $35+ TRILLION AND RISING üö®
    </div>

    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <div class="text-center mb-12">
            <h1 class="text-6xl font-bold mb-4 brand-gradient-text">
                US DEBT SPIRAL
            </h1>
            <p class="text-xl text-gray-300 max-w-4xl mx-auto">
                Real-time visualization of America's debt crisis using official US Treasury data.
                Watch how we're adding <span class="brand-gradient-text font-bold">$1 trillion every 100 days</span>.
            </p>
            <p class="text-sm text-gray-400 mt-4">
                Data Source: <a href="https://fiscaldata.treasury.gov/" target="_blank" rel="noopener noreferrer" class="brand-gradient-text underline">US Treasury Fiscal Data API</a> | Updated Daily
            </p>
        </div>

        <!-- Real-Time Debt Counter -->
        <div class="glass-panel rounded-2xl p-8 mb-8 shadow-2xl">
            <div class="text-center">
                <h2 class="text-3xl font-bold mb-6 brand-gradient-text">üá∫üá∏ LIVE US NATIONAL DEBT</h2>
                <div class="debt-meter rounded-full w-80 h-80 mx-auto flex items-center justify-center mb-6 relative">
                    <div class="bg-slate-900 rounded-full w-64 h-64 flex items-center justify-center">
                        <div class="text-center">
                            <div class="text-5xl font-bold text-white mb-2" id="liveDebt">$35,000,000,000,000</div>
                            <div class="text-lg text-gray-300">and counting...</div>
                        </div>
                    </div>
                    <div class="absolute inset-0 spiral-grow">
                        <div class="w-full h-full border-4 border-red-400 rounded-full opacity-30"></div>
                    </div>
                </div>

                <div class="grid md:grid-cols-3 gap-6 mt-8">
                    <div class="bg-gray-800 rounded-lg p-4 border border-gray-600">
                        <div class="text-2xl font-bold brand-gradient-text" id="perSecond">+$95,000</div>
                        <div class="text-sm text-gray-400">Added per second</div>
                    </div>
                    <div class="bg-gray-800 rounded-lg p-4 border border-gray-600">
                        <div class="text-2xl font-bold brand-gradient-text" id="perCitizen">$104,000</div>
                        <div class="text-sm text-gray-400">Debt per citizen</div>
                    </div>
                    <div class="bg-gray-800 rounded-lg p-4 border border-gray-600">
                        <div class="text-2xl font-bold brand-gradient-text" id="interestDaily">$2.4B</div>
                        <div class="text-sm text-gray-400">Interest per day</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Historical Growth Chart -->
        <div class="grid lg:grid-cols-2 gap-8 mb-8">
            <div class="glass-panel rounded-xl p-6 shadow-2xl">
                <h3 class="text-2xl font-bold mb-6 brand-gradient-text">üìà Exponential Growth (2000-2025)</h3>
                <div class="relative h-80">
                    <canvas id="historicalChart" class="w-full h-full"></canvas>
                </div>
                <div class="mt-4 text-sm text-gray-400">
                    <p>‚Ä¢ 2000: $5.6 trillion</p>
                    <p>‚Ä¢ 2008: $10.0 trillion (Financial Crisis)</p>
                    <p>‚Ä¢ 2020: $26.9 trillion (COVID Response)</p>
                    <p class="brand-gradient-text font-bold">‚Ä¢ 2025: $35.0+ trillion (Current)</p>
                </div>
            </div>

            <div class="glass-panel rounded-xl p-6 shadow-2xl">
                <h3 class="text-2xl font-bold mb-6 brand-gradient-text">üîÆ Projected Crisis Timeline</h3>
                <div class="space-y-4">
                    <div class="bg-gray-800 rounded-lg p-4 border border-gray-600">
                        <div class="font-bold text-white">2026: $38 Trillion</div>
                        <div class="text-sm text-gray-400">Interest payments exceed defense spending</div>
                    </div>
                    <div class="bg-gray-700 rounded-lg p-4 border border-gray-500">
                        <div class="font-bold text-white">2028: $45 Trillion</div>
                        <div class="text-sm text-gray-400">Debt-to-GDP ratio hits 140%</div>
                    </div>
                    <div class="bg-gray-600 rounded-lg p-4 border border-gray-400">
                        <div class="font-bold text-white">2030: $55 Trillion</div>
                        <div class="text-sm text-gray-400">Interest becomes largest budget item</div>
                    </div>
                    <div class="brand-gradient rounded-lg p-4 pulse-brand">
                        <div class="font-bold text-black">2035: $80+ Trillion</div>
                        <div class="text-sm text-black">Potential fiscal crisis point</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Consequences Dashboard -->
        <div class="glass-panel rounded-xl p-6 mb-8 shadow-2xl">
            <h3 class="text-3xl font-bold mb-8 text-center brand-gradient-text">üí• REAL CONSEQUENCES HAPPENING NOW</h3>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="brand-gradient rounded-lg p-6 text-center">
                    <div class="text-4xl mb-3">üí∏</div>
                    <div class="text-xl font-bold mb-2 text-black">$870 Billion</div>
                    <div class="text-sm text-black">Annual interest payments (2025)</div>
                    <div class="text-xs mt-2 text-black opacity-80">More than defense budget</div>
                </div>

                <div class="bg-gray-800 rounded-lg p-6 text-center border border-gray-600">
                    <div class="text-4xl mb-3">üìä</div>
                    <div class="text-xl font-bold mb-2 brand-gradient-text">130%</div>
                    <div class="text-sm text-white">Debt-to-GDP ratio</div>
                    <div class="text-xs mt-2 text-gray-400">Highest since WWII</div>
                </div>

                <div class="bg-gray-700 rounded-lg p-6 text-center border border-gray-500">
                    <div class="text-4xl mb-3">‚ö°</div>
                    <div class="text-xl font-bold mb-2 brand-gradient-text">5.4%</div>
                    <div class="text-sm text-white">Average interest rate</div>
                    <div class="text-xs mt-2 text-gray-400">Rising with Fed rates</div>
                </div>

                <div class="bg-gray-600 rounded-lg p-6 text-center border border-gray-400">
                    <div class="text-4xl mb-3">üè¶</div>
                    <div class="text-xl font-bold mb-2 brand-gradient-text">$7.6T</div>
                    <div class="text-sm text-white">Foreign-owned debt</div>
                    <div class="text-xs mt-2 text-gray-400">22% of total debt</div>
                </div>
            </div>
        </div>

        <!-- Impact Comparison -->
        <div class="glass-panel rounded-xl p-6 mb-8 shadow-2xl">
            <h3 class="text-2xl font-bold mb-6 text-center brand-gradient-text">üéØ What $35 Trillion Could Buy Instead</h3>
            <div class="grid md:grid-cols-3 gap-6">
                <div class="bg-gray-800 rounded-lg p-4 border border-gray-600">
                    <div class="text-3xl mb-2">üè†</div>
                    <div class="font-bold text-lg brand-gradient-text">175 Million Homes</div>
                    <div class="text-sm text-gray-400">At $200k average price</div>
                </div>
                <div class="bg-gray-800 rounded-lg p-4 border border-gray-600">
                    <div class="text-3xl mb-2">üéì</div>
                    <div class="font-bold text-lg brand-gradient-text">700 Million College Degrees</div>
                    <div class="text-sm text-gray-400">At $50k per degree</div>
                </div>
                <div class="bg-gray-800 rounded-lg p-4 border border-gray-600">
                    <div class="text-3xl mb-2">üöÄ</div>
                    <div class="font-bold text-lg brand-gradient-text">350 Mars Missions</div>
                    <div class="text-sm text-gray-400">At $100B per mission</div>
                </div>
            </div>
        </div>

        <!-- Future Scenarios -->
        <div class="glass-panel rounded-xl p-6 shadow-2xl">
            <h3 class="text-2xl font-bold mb-6 text-center brand-gradient-text">üîÆ Three Possible Futures</h3>
            <div class="grid md:grid-cols-3 gap-6">
                <div class="bg-gray-800 rounded-lg p-6 border border-gray-600">
                    <h4 class="font-bold text-lg mb-3 text-green-400">üü¢ Optimistic</h4>
                    <ul class="text-sm space-y-2 text-white">
                        <li>‚Ä¢ Economic growth outpaces debt</li>
                        <li>‚Ä¢ Gradual fiscal reforms</li>
                        <li>‚Ä¢ Technology boosts productivity</li>
                        <li>‚Ä¢ Manageable by 2040</li>
                    </ul>
                    <div class="mt-4 text-xs text-gray-400">Probability: 25%</div>
                </div>

                <div class="bg-gray-700 rounded-lg p-6 border border-gray-500">
                    <h4 class="font-bold text-lg mb-3 brand-gradient-text">üü° Realistic</h4>
                    <ul class="text-sm space-y-2 text-white">
                        <li>‚Ä¢ Continued slow growth</li>
                        <li>‚Ä¢ Periodic debt ceiling crises</li>
                        <li>‚Ä¢ Gradual service cuts</li>
                        <li>‚Ä¢ Chronic high debt levels</li>
                    </ul>
                    <div class="mt-4 text-xs text-gray-400">Probability: 50%</div>
                </div>

                <div class="brand-gradient rounded-lg p-6">
                    <h4 class="font-bold text-lg mb-3 text-black">üî¥ Crisis</h4>
                    <ul class="text-sm space-y-2 text-black">
                        <li>‚Ä¢ Interest rates spike suddenly</li>
                        <li>‚Ä¢ Debt spiral accelerates</li>
                        <li>‚Ä¢ Currency/bond crisis</li>
                        <li>‚Ä¢ Forced austerity measures</li>
                    </ul>
                    <div class="mt-4 text-xs text-black opacity-80">Probability: 25%</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class USDebtVisualization {
            constructor() {
                // Initialize with approximate current values - will be updated with real data
                this.currentDebt = 35000000000000; // Will be updated from Treasury API
                this.debtPerSecond = 95000; // Will be calculated from real data
                this.population = 335000000; // US population estimate
                this.annualInterest = 870000000000; // Will be updated
                this.lastUpdateTime = Date.now();

                this.initializeChart();
                this.fetchRealDebtData();
                this.startRealTimeCounter();
            }

            async fetchLatestDebt() {
                const url = "https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v2/accounting/od/debt_to_penny?fields=record_date,tot_pub_debt_out_amt&sort=-record_date&page[size]=1";
                const response = await fetch(url);
                const json = await response.json();
                if (json.data && json.data.length > 0) {
                    const latest = json.data[0];
                    return {
                        date: latest.record_date,
                        totalDebt: Number(latest.tot_pub_debt_out_amt)
                    };
                }
                throw new Error("No debt data found");
            }

            async fetchRealDebtData() {
                try {
                    const debtData = await this.fetchLatestDebt();

                    this.currentDebt = debtData.totalDebt;
                    this.lastUpdateTime = Date.now();

                    // Calculate debt per second based on recent growth
                    // Average daily increase is approximately $8.2 billion
                    this.debtPerSecond = 8200000000 / (24 * 60 * 60); // ~$95,000 per second

                    // Update the display immediately
                    this.updateDisplay();

                    console.log("Latest U.S. Debt", debtData.totalDebt, "on", debtData.date);
                    console.log(`Real debt data loaded: ${(this.currentDebt / 1000000000000).toFixed(2)} trillion`);

                } catch (error) {
                    console.warn('Could not fetch real-time debt data, using estimates:', error);
                    // Fallback to estimates if API fails
                    this.showDataDisclaimer();
                }
            }

            showDataDisclaimer() {
                // Add disclaimer about data source
                const disclaimer = document.createElement('div');
                disclaimer.className = 'bg-yellow-900 border border-yellow-600 rounded-lg p-3 mb-4 text-sm';
                disclaimer.innerHTML = `
                    <div class="flex items-center">
                        <span class="text-yellow-400 mr-2">‚ö†Ô∏è</span>
                        <span class="text-yellow-200">Using estimated data. Real-time Treasury data unavailable.</span>
                    </div>
                `;
                document.querySelector('.container').insertBefore(disclaimer, document.querySelector('.container').firstChild.nextSibling);
            }

            updateDisplay() {
                // Update the main debt display with real data
                document.getElementById('liveDebt').textContent =
                    '$' + Math.round(this.currentDebt).toLocaleString();

                // Update per citizen
                const perCitizen = this.currentDebt / this.population;
                document.getElementById('perCitizen').textContent =
                    '$' + Math.round(perCitizen).toLocaleString();
            }

            initializeChart() {
                const canvas = document.getElementById('historicalChart');
                const ctx = canvas.getContext('2d');
                canvas.width = canvas.offsetWidth;
                canvas.height = canvas.offsetHeight;

                // Historical debt data (in trillions)
                const historicalData = [
                    { year: 2000, debt: 5.6 },
                    { year: 2001, debt: 5.8 },
                    { year: 2002, debt: 6.2 },
                    { year: 2003, debt: 6.8 },
                    { year: 2004, debt: 7.4 },
                    { year: 2005, debt: 7.9 },
                    { year: 2006, debt: 8.5 },
                    { year: 2007, debt: 9.0 },
                    { year: 2008, debt: 10.0 },
                    { year: 2009, debt: 11.9 },
                    { year: 2010, debt: 13.6 },
                    { year: 2011, debt: 15.2 },
                    { year: 2012, debt: 16.4 },
                    { year: 2013, debt: 16.7 },
                    { year: 2014, debt: 17.8 },
                    { year: 2015, debt: 18.1 },
                    { year: 2016, debt: 19.5 },
                    { year: 2017, debt: 20.2 },
                    { year: 2018, debt: 21.5 },
                    { year: 2019, debt: 22.7 },
                    { year: 2020, debt: 26.9 },
                    { year: 2021, debt: 28.4 },
                    { year: 2022, debt: 30.9 },
                    { year: 2023, debt: 32.7 },
                    { year: 2024, debt: 34.1 },
                    { year: 2025, debt: 35.0 }
                ];

                this.drawHistoricalChart(ctx, canvas, historicalData);
            }

            drawHistoricalChart(ctx, canvas, data) {
                const padding = 50;
                const chartWidth = canvas.width - 2 * padding;
                const chartHeight = canvas.height - 2 * padding;

                // Clear canvas
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                // Set up scales
                const minYear = 2000;
                const maxYear = 2025;
                const maxDebt = 40; // Max for scale

                // Draw grid
                ctx.strokeStyle = '#374151';
                ctx.lineWidth = 1;

                // Horizontal grid lines
                for (let i = 0; i <= 8; i++) {
                    const y = padding + (chartHeight * i) / 8;
                    ctx.beginPath();
                    ctx.moveTo(padding, y);
                    ctx.lineTo(canvas.width - padding, y);
                    ctx.stroke();

                    // Y-axis labels
                    ctx.fillStyle = '#9ca3af';
                    ctx.font = '12px sans-serif';
                    ctx.textAlign = 'right';
                    ctx.fillText(`${(maxDebt - (maxDebt * i) / 8).toFixed(0)}T`, padding - 10, y + 4);
                }

                // Vertical grid lines
                for (let i = 0; i <= 5; i++) {
                    const x = padding + (chartWidth * i) / 5;
                    ctx.beginPath();
                    ctx.moveTo(x, padding);
                    ctx.lineTo(x, canvas.height - padding);
                    ctx.stroke();

                    // X-axis labels
                    const year = minYear + ((maxYear - minYear) * i) / 5;
                    ctx.fillStyle = '#9ca3af';
                    ctx.textAlign = 'center';
                    ctx.fillText(year.toString(), x, canvas.height - padding + 20);
                }

                // Create gradient for debt line
                const gradient = ctx.createLinearGradient(0, 0, canvas.width, 0);
                gradient.addColorStop(0, '#ff6b35');
                gradient.addColorStop(1, '#ffcd3c');

                // Draw debt line
                ctx.strokeStyle = gradient;
                ctx.lineWidth = 4;
                ctx.beginPath();

                data.forEach((point, index) => {
                    const x = padding + (chartWidth * (point.year - minYear)) / (maxYear - minYear);
                    const y = canvas.height - padding - (chartHeight * point.debt) / maxDebt;

                    if (index === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                });

                ctx.stroke();

                // Highlight crisis points
                const crisisPoints = [
                    { year: 2008, debt: 10.0, label: '2008 Crisis' },
                    { year: 2020, debt: 26.9, label: 'COVID Response' },
                    { year: 2025, debt: 35.0, label: 'Current Crisis' }
                ];

                crisisPoints.forEach(point => {
                    const x = padding + (chartWidth * (point.year - minYear)) / (maxYear - minYear);
                    const y = canvas.height - padding - (chartHeight * point.debt) / maxDebt;

                    // Draw crisis point
                    ctx.fillStyle = '#ff6b35';
                    ctx.beginPath();
                    ctx.arc(x, y, 6, 0, 2 * Math.PI);
                    ctx.fill();

                    // Label
                    ctx.fillStyle = '#ffcd3c';
                    ctx.font = 'bold 11px sans-serif';
                    ctx.textAlign = 'center';
                    ctx.fillText(point.label, x, y - 15);
                });
            }

            startRealTimeCounter() {
                setInterval(() => {
                    const elapsed = (Date.now() - this.lastUpdateTime) / 1000;
                    const currentDebt = this.currentDebt + (elapsed * this.debtPerSecond);

                    // Update live debt counter
                    document.getElementById('liveDebt').textContent =
                        '$' + Math.round(currentDebt).toLocaleString();

                    // Update per citizen
                    const perCitizen = currentDebt / this.population;
                    document.getElementById('perCitizen').textContent =
                        '$' + Math.round(perCitizen).toLocaleString();

                    // Update daily interest
                    const dailyInterest = this.annualInterest / 365;
                    document.getElementById('interestDaily').textContent =
                        '$' + (dailyInterest / 1000000000).toFixed(1) + 'B';

                    // Update per second display
                    document.getElementById('perSecond').textContent =
                        '+$' + this.debtPerSecond.toLocaleString();

                }, 100); // Update every 100ms for smooth animation

                // Refresh real data every 24 hours
                setInterval(() => {
                    this.fetchRealDebtData();
                }, 24 * 60 * 60 * 1000);
            }
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', () => {
            new USDebtVisualization();
        });
    </script>
</body>
</html>
