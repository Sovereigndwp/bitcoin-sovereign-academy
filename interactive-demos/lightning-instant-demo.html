<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Lightning Instant Payment Demo - Bitcoin Sovereign Academy</title>
    <link rel="stylesheet" href="/css/brand.css">
    <style>
        :root{
            --primary-orange:#f7931a;
            --primary-dark:#0a0a0a;
            --secondary-dark:#1a1a1a;
            --text-light:#e0e0e0;
            --text-dim:#999;
            --success-green:#4CAF50;
            --lightning-yellow:#FFC107;
            --accent-blue:#2196F3;
        }

        *{
            margin:0;
            padding:0;
            box-sizing:border-box;
        }

        body{
            font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
            background:linear-gradient(135deg,#1a1a2e 0%,#16213e 100%);
            color:var(--text-light);
            padding:1.5rem;
            min-height:100vh;
        }

        .demo-container{
            max-width:1200px;
            margin:0 auto;
        }

        h1{
            text-align:center;
            color:var(--lightning-yellow);
            font-size:2.5rem;
            margin-bottom:0.5rem;
        }

        .subtitle{
            text-align:center;
            color:var(--text-dim);
            margin-bottom:2rem;
            font-size:1.1rem;
        }

        .comparison-box{
            background:var(--secondary-dark);
            border-radius:1rem;
            padding:2rem;
            margin-bottom:2rem;
            border:2px solid rgba(255,193,7,0.3);
        }

        .phones-container{
            display:grid;
            grid-template-columns:1fr auto 1fr;
            gap:2rem;
            align-items:center;
            margin:2rem 0;
        }

        .phone{
            background:var(--primary-dark);
            border:4px solid rgba(255,255,255,0.1);
            border-radius:2rem;
            padding:1.5rem;
            position:relative;
            min-height:500px;
            display:flex;
            flex-direction:column;
        }

        .phone-header{
            text-align:center;
            margin-bottom:1.5rem;
            padding-bottom:1rem;
            border-bottom:2px solid rgba(255,255,255,0.1);
        }

        .phone-label{
            font-size:1.25rem;
            font-weight:700;
            color:var(--lightning-yellow);
            margin-bottom:0.5rem;
        }

        .phone-role{
            font-size:0.9rem;
            color:var(--text-dim);
        }

        .phone-screen{
            flex:1;
            display:flex;
            flex-direction:column;
            justify-content:center;
            align-items:center;
            padding:2rem;
            background:rgba(255,255,255,0.02);
            border-radius:1rem;
            position:relative;
        }

        .balance-display{
            font-size:3rem;
            font-weight:700;
            color:var(--lightning-yellow);
            margin:1rem 0;
            transition:all 0.5s cubic-bezier(0.68,-0.55,0.265,1.55);
        }

        .balance-display.pulse{
            animation:pulse 0.5s ease-in-out;
        }

        @keyframes pulse{
            0%,100%{ transform:scale(1);}
            50%{ transform:scale(1.2);}
        }

        .balance-label{
            font-size:0.9rem;
            color:var(--text-dim);
            text-transform:uppercase;
            letter-spacing:0.05em;
        }

        .lightning-bolt{
            position:absolute;
            font-size:8rem;
            color:var(--lightning-yellow);
            opacity:0;
            animation:boltFlash 1s ease-in-out;
            pointer-events:none;
            filter:drop-shadow(0 0 20px var(--lightning-yellow));
        }

        @keyframes boltFlash{
            0%{ opacity:0;transform:scale(0.5) rotate(-10deg);}
            50%{ opacity:1;transform:scale(1) rotate(0deg);}
            100%{ opacity:0;transform:scale(0.5) rotate(10deg);}
        }

        .payment-path{
            display:flex;
            flex-direction:column;
            align-items:center;
            justify-content:center;
            position:relative;
        }

        .payment-arrow{
            font-size:3rem;
            color:var(--lightning-yellow);
            animation:arrowPulse 2s infinite;
        }

        @keyframes arrowPulse{
            0%,100%{ opacity:0.5;transform:scale(1);}
            50%{ opacity:1;transform:scale(1.1);}
        }

        .payment-label{
            background:var(--lightning-yellow);
            color:#000;
            padding:0.5rem 1rem;
            border-radius:2rem;
            font-weight:700;
            margin:1rem 0;
            font-size:0.9rem;
            white-space:nowrap;
        }

        .control-panel{
            background:var(--secondary-dark);
            border-radius:1rem;
            padding:2rem;
            margin:2rem 0;
            border:2px solid rgba(255,193,7,0.3);
        }

        .amount-selector{
            display:flex;
            gap:1rem;
            justify-content:center;
            margin:1.5rem 0;
            flex-wrap:wrap;
        }

        .amount-btn{
            background:var(--primary-dark);
            border:2px solid rgba(255,193,7,0.3);
            color:var(--text-light);
            padding:1rem 2rem;
            border-radius:0.75rem;
            cursor:pointer;
            font-size:1rem;
            font-weight:600;
            transition:all 0.3s;
        }

        .amount-btn:hover{
            border-color:var(--lightning-yellow);
            transform:translateY(-2px);
            box-shadow:0 4px 15px rgba(255,193,7,0.3);
        }

        .send-btn{
            background:linear-gradient(135deg,var(--lightning-yellow),#FFD54F);
            border:none;
            color:#000;
            padding:1.5rem 3rem;
            border-radius:0.75rem;
            cursor:pointer;
            font-size:1.25rem;
            font-weight:700;
            display:block;
            margin:2rem auto;
            transition:all 0.3s;
            box-shadow:0 4px 20px rgba(255,193,7,0.4);
        }

        .send-btn:hover:not(:disabled){
            transform:translateY(-3px);
            box-shadow:0 6px 25px rgba(255,193,7,0.5);
        }

        .send-btn:disabled{
            opacity:0.5;
            cursor:not-allowed;
        }

        .timer-display{
            text-align:center;
            font-size:4rem;
            font-weight:700;
            color:var(--success-green);
            margin:2rem 0;
            font-family:'Courier New',monospace;
        }

        .info-box{
            background:rgba(33,150,243,0.1);
            border:2px solid var(--accent-blue);
            border-radius:0.75rem;
            padding:1.5rem;
            margin:2rem 0;
        }

        .info-box h3{
            color:var(--accent-blue);
            margin-bottom:1rem;
        }

        .info-box ul{
            margin-left:1.5rem;
            line-height:2;
            color:var(--text-dim);
        }

        .comparison-grid{
            display:grid;
            grid-template-columns:1fr 1fr;
            gap:2rem;
            margin:2rem 0;
        }

        .comparison-card{
            background:var(--primary-dark);
            border-radius:0.75rem;
            padding:1.5rem;
            border:2px solid rgba(255,255,255,0.1);
        }

        .comparison-card h3{
            color:var(--lightning-yellow);
            margin-bottom:1rem;
            font-size:1.25rem;
        }

        .stat-row{
            display:flex;
            justify-content:space-between;
            align-items:center;
            padding:0.75rem 0;
            border-bottom:1px solid rgba(255,255,255,0.05);
        }

        .stat-label{
            color:var(--text-dim);
            font-size:0.9rem;
        }

        .stat-value{
            color:var(--text-light);
            font-weight:700;
        }

        @media (max-width:968px){
            .phones-container{
                grid-template-columns:1fr;
            }

            .payment-path{
                transform:rotate(90deg);
                margin:2rem 0;
            }

            .comparison-grid{
                grid-template-columns:1fr;
            }
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <h1>‚ö° Lightning Instant Payment Demo</h1>
        <p class="subtitle">Experience the speed of Lightning Network - instant Bitcoin payments with tiny fees</p>

        <div class="comparison-box">
            <h2 style="color:var(--lightning-yellow);text-align:center;margin-bottom:2rem;">Watch Money Move at Light Speed</h2>

            <div class="phones-container">
                <!-- Sender Phone -->
                <div class="phone">
                    <div class="phone-header">
                        <div class="phone-label">‚òï Alice (Coffee Shop Customer)</div>
                        <div class="phone-role">Sending Payment</div>
                    </div>
                    <div class="phone-screen">
                        <div class="balance-label">Lightning Balance</div>
                        <div class="balance-display" id="alice-balance">100,000</div>
                        <div style="color:var(--text-dim);font-size:0.85rem;">sats</div>
                    </div>
                </div>

                <!-- Payment Path -->
                <div class="payment-path">
                    <div class="payment-arrow">‚Üí</div>
                    <div class="payment-label" id="payment-amount">Select Amount</div>
                </div>

                <!-- Receiver Phone -->
                <div class="phone">
                    <div class="phone-header">
                        <div class="phone-label">üè™ Bob (Coffee Shop Owner)</div>
                        <div class="phone-role">Receiving Payment</div>
                    </div>
                    <div class="phone-screen">
                        <div class="balance-label">Lightning Balance</div>
                        <div class="balance-display" id="bob-balance">50,000</div>
                        <div style="color:var(--text-dim);font-size:0.85rem;">sats</div>
                    </div>
                </div>
            </div>

            <div class="timer-display" id="timer" style="display:none;">
                ‚ö° 0.000s ‚ö°
            </div>
        </div>

        <div class="control-panel">
            <h3 style="text-align:center;color:var(--lightning-yellow);margin-bottom:1rem;">Choose Coffee Size & Watch It Happen</h3>

            <div class="amount-selector">
                <button class="amount-btn" onclick="selectAmount(5000)">
                    ‚òï Small<br>
                    <span style="font-size:0.85rem;color:var(--text-dim);">5,000 sats (~$2.50)</span>
                </button>
                <button class="amount-btn" onclick="selectAmount(8000)">
                    ‚òï‚òï Medium<br>
                    <span style="font-size:0.85rem;color:var(--text-dim);">8,000 sats (~$4.00)</span>
                </button>
                <button class="amount-btn" onclick="selectAmount(12000)">
                    ‚òï‚òï‚òï Large<br>
                    <span style="font-size:0.85rem;color:var(--text-dim);">12,000 sats (~$6.00)</span>
                </button>
            </div>

            <button class="send-btn" id="send-btn" onclick="sendPayment()" disabled>
                ‚ö° Tap to Send Instant Payment
            </button>

            <p style="text-align:center;color:var(--text-dim);margin-top:1rem;">
                üí° Watch both balances update in real-time - faster than a credit card swipe!
            </p>
        </div>

        <div class="comparison-grid">
            <div class="comparison-card">
                <h3>‚ö° Lightning Payment</h3>
                <div class="stat-row">
                    <span class="stat-label">Settlement Time</span>
                    <span class="stat-value" style="color:var(--success-green);">Instant (~0.001s)</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Fee for $5 Coffee</span>
                    <span class="stat-value" style="color:var(--success-green);">~$0.0003</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Reversible?</span>
                    <span class="stat-value">No (Final)</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Privacy</span>
                    <span class="stat-value">High (Not on blockchain)</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Best For</span>
                    <span class="stat-value">Everyday Purchases</span>
                </div>
            </div>

            <div class="comparison-card">
                <h3>üîó On-Chain Bitcoin</h3>
                <div class="stat-row">
                    <span class="stat-label">Settlement Time</span>
                    <span class="stat-value" style="color:var(--text-dim);">~10-60 minutes</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Fee for $5 Coffee</span>
                    <span class="stat-value" style="color:var(--text-dim);">$2-$20 (variable)</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Reversible?</span>
                    <span class="stat-value">No (Final)</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Privacy</span>
                    <span class="stat-value">Medium (On blockchain)</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Best For</span>
                    <span class="stat-value">Large Amounts,Savings</span>
                </div>
            </div>
        </div>

        <div class="info-box">
            <h3>üß† How Does Lightning Work?</h3>
            <ul>
                <li><strong>Payment Channels:</strong> Alice and Bob have pre-funded channels with the Lightning Network</li>
                <li><strong>Instant Updates:</strong> Balance changes happen off-chain,without waiting for miners</li>
                <li><strong>Routing:</strong> Payments can hop through multiple channels to reach the destination</li>
                <li><strong>Settlement:</strong> Final balances can be closed and settled on the main Bitcoin blockchain anytime</li>
                <li><strong>Perfect for Micro-payments:</strong> Fees are so low,you can send a penny without losing most of it to fees</li>
            </ul>
        </div>

        <div style="background:linear-gradient(135deg,rgba(76,175,80,0.15),rgba(76,175,80,0.05));border:2px solid var(--success-green);border-radius:1rem;padding:2rem;margin:2rem 0;text-align:center;">
            <h3 style="color:var(--success-green);margin-bottom:1rem;">‚ú® Why This Matters</h3>
            <p style="color:var(--text-light);font-size:1.1rem;line-height:1.8;max-width:700px;margin:0 auto;">
                Lightning makes Bitcoin practical for everyday purchases. No more waiting 10 minutes for coffee shop confirmations. No more $5 fees on $3 transactions. It's Bitcoin,but instant and nearly free.
            </p>
        </div>

        <div style="text-align:center;margin:3rem 0;">
            <button class="amount-btn" onclick="window.location.href='/interactive-demos/lightning-network-demo.html'">
                üìö Learn More About Lightning Network ‚Üí
            </button>
        </div>
    </div>

    <script>
        let selectedAmount = null;
        let aliceBalance = 100000;
        let bobBalance = 50000;
        let isAnimating = false;

        function selectAmount(amount){
            if (isAnimating) return;

            selectedAmount = amount;
            document.getElementById('payment-amount').textContent = `${amount.toLocaleString()}sats`;
            document.getElementById('send-btn').disabled = false;

            // Highlight selected button
            document.querySelectorAll('.amount-btn').forEach(btn =>{
                btn.style.borderColor = 'rgba(255,193,7,0.3)';
                btn.style.transform = 'translateY(0)';
            });
            event.currentTarget.style.borderColor = 'var(--lightning-yellow)';
            event.currentTarget.style.transform = 'translateY(-2px)';
        }

        async function sendPayment(){
            if (!selectedAmount || isAnimating) return;

            isAnimating = true;
            document.getElementById('send-btn').disabled = true;

            // Show lightning bolt
            const aliceScreen = document.querySelector('#alice-balance').closest('.phone-screen');
            const bobScreen = document.querySelector('#bob-balance').closest('.phone-screen');

            const bolt1 = document.createElement('div');
            bolt1.className = 'lightning-bolt';
            bolt1.textContent = '‚ö°';
            aliceScreen.appendChild(bolt1);

            const bolt2 = document.createElement('div');
            bolt2.className = 'lightning-bolt';
            bolt2.textContent = '‚ö°';
            bobScreen.appendChild(bolt2);

            // Show timer
            const timerEl = document.getElementById('timer');
            timerEl.style.display = 'block';
            let milliseconds = 0;
            const timerInterval = setInterval(() =>{
                milliseconds += 1;
                timerEl.textContent = `‚ö° ${(milliseconds / 1000).toFixed(3)}s ‚ö°`;
            },1);

            // Animate payment
            await new Promise(resolve => setTimeout(resolve,300));

            // Update balances
            aliceBalance -= selectedAmount;
            bobBalance += selectedAmount;

            const aliceBalanceEl = document.getElementById('alice-balance');
            const bobBalanceEl = document.getElementById('bob-balance');

            aliceBalanceEl.textContent = aliceBalance.toLocaleString();
            bobBalanceEl.textContent = bobBalance.toLocaleString();

            aliceBalanceEl.classList.add('pulse');
            bobBalanceEl.classList.add('pulse');

            await new Promise(resolve => setTimeout(resolve,500));

            aliceBalanceEl.classList.remove('pulse');
            bobBalanceEl.classList.remove('pulse');

            // Stop timer
            clearInterval(timerInterval);
            const finalTime = (milliseconds / 1000).toFixed(3);
            timerEl.textContent = `‚úÖ Settled in ${finalTime}s!`;

            // Clean up
            setTimeout(() =>{
                bolt1.remove();
                bolt2.remove();
                timerEl.style.display = 'none';
                isAnimating = false;
                selectedAmount = null;
                document.getElementById('payment-amount').textContent = 'Select Amount';
                document.querySelectorAll('.amount-btn').forEach(btn =>{
                    btn.style.borderColor = 'rgba(255,193,7,0.3)';
                    btn.style.transform = 'translateY(0)';
                });
            },3000);
        }
    </script>
</body>
</html>
